qc.Serializer.registerCustomDeserializer("qc.ParticleSystem",function(t,e,A){return new qc.ParticleSystem(t,e,A)});var ParticleSystem=qc.ParticleSystem=function(t,e,A){qc.Node.call(this,new Phaser.Group(t.phaser,null),e,A);this.name="Particle System";this.paused=false;this.onVisibleChanged=new qc.Signal;this.emitter=null;var i=t.assets.find("__builtin_resource__");this.texture=i.getTexture("empty.png");this.emissionSpace=qc.ParticleSystem.EmissionSpace.WORLD;this.rendererType=qc.ParticleSystem.Renderer.SPRITE;this.zoneType=qc.ParticleSystem.Zones.Zone.POINT;this.edgeEmission=false;this.zoneLength=100;this.zoneRotation=0;this.zoneRadius=100;this.zoneWidth=100;this.zoneHeight=100;this.frequency=.1;this.quantity=1;this.repeat=-1;this.delay=0;this.lifespan=[5,5];this.angle=[-120,-60];this.blendMode=Phaser.blendModes.NORMAL;this.startColor=new qc.Color(16777215);this.startColorVariation=0;this.endColor=new qc.Color(16777215);this.endColorVariation=0;this.startAlpha=[1,1];this.startScale=[1,1];this.startRotation=[0,0];this.startVelocity=[100,100];this.angularVelocity=[0,0];this.gravity=new qc.Point(0,0);this.maxParticles=200;this.playOnAwake=true;this.initialFrame=[0,0];this.frameRate=[1,1];this.enableColorCurve=false;this.colorCurve=new qc.BezierCurve(new qc.Keyframe(0,0,1,1),new qc.Keyframe(1,1,1,1));this.enableAlphaCurve=false;this.alphaCurve=new qc.BezierCurve(new qc.Keyframe(0,1,0,0),new qc.Keyframe(1,1,0,0));this.enableScaleCurve=false;this.scaleCurve=new qc.BezierCurve(new qc.Keyframe(0,1,0,0),new qc.Keyframe(1,1,0,0));this.enableVelocityCurve=false;this.velocityCurve=new qc.BezierCurve(new qc.Keyframe(0,1,0,0),new qc.Keyframe(1,1,0,0));this.enableAngularVelocityCurve=false;this.angularVelocityCurve=new qc.BezierCurve(new qc.Keyframe(0,1,0,0),new qc.Keyframe(1,1,0,0));var o=A!==undefined;if(!o){this.initEmitter()}};ParticleSystem.prototype=Object.create(qc.Node.prototype);ParticleSystem.prototype.constructor=ParticleSystem;qc.ParticleSystem.Transitions={};qc.ParticleSystem.Zones={};qc.ParticleSystem.Renderer={};qc.ParticleSystem.Renderer={SPRITE:1};qc.ParticleSystem.EmissionSpace={WORLD:0,LOCAL:1};Object.defineProperties(ParticleSystem.prototype,{class:{get:function(){return"qc.ParticleSystem"}}});ParticleSystem.prototype.update=function(){if(this.paused)return;var t=this.game.time.deltaTime*.001;this.emitter.update(t)};ParticleSystem.prototype.initEmitter=function(){var t=new qc.ParticleSystem.Emitter(this);this.emitter=t;t.init();if(!this.isWorldVisible()||!this.playOnAwake)this.pause();else this.start()};ParticleSystem.prototype.start=function(){if(!this.isWorldVisible())return;this.paused=false;this.emitter.start()};ParticleSystem.prototype.pause=function(){this.paused=true;this.emitter.pause()};ParticleSystem.prototype.clear=function(){this.emitter.clear()};ParticleSystem.prototype.reset=function(){this.emitter.reset()};ParticleSystem.prototype.onDeserialized=function(){this.initEmitter()};ParticleSystem.prototype.onDestroy=function(){this.emitter.destroy();this.emitter=null;qc.Node.prototype.onDestroy.call(this)};ParticleSystem.prototype.onVisibleChange=function(){if(this.emitter===null)return;this.onVisibleChanged.dispatch();if(this.isWorldVisible())this.start();else{this.clear();this.pause()}};ParticleSystem.prototype.getMeta=function(){var t=this;var e=qc.Serializer;var A=qc.Node.prototype.getMeta.call(this);A.rendererType=e.NUMBER;A.texture=e.TEXTURE;A.initialFrame=e.NUMBERS;A.frameRate=e.NUMBERS;A.zoneType=e.NUMBER;A.edgeEmission=e.BOOLEAN;A.zoneLength=e.NUMBER;A.zoneRotation=e.NUMBER;A.zoneRadius=e.NUMBER;A.zoneWidth=e.NUMBER;A.zoneHeight=e.NUMBER;A.emissionSpace=e.NUMBER;A.frequency=e.NUMBER;A.quantity=e.NUMBER;A.repeat=e.NUMBER;A.delay=e.NUMBER;A.lifespan=e.NUMBERS;A.angle=e.NUMBERS;A.blendMode=e.NUMBER;A.startColor=e.COLOR;A.startColorVariation=e.NUMBER;A.endColor=e.COLOR;A.endColorVariation=e.NUMBER;A.startAlpha=e.NUMBERS;A.startScale=e.NUMBERS;A.startRotation=e.NUMBERS;A.startVelocity=e.NUMBERS;A.angularVelocity=e.NUMBERS;A.gravity=e.POINT;A.maxParticles=e.NUMBER;A.playOnAwake=e.BOOLEAN;A.enableColorCurve=e.BOOLEAN;A.colorCurve=e.GEOM;A.enableAlphaCurve=e.BOOLEAN;A.alphaCurve=e.GEOM;A.enableScaleCurve=e.BOOLEAN;A.scaleCurve=e.GEOM;A.enableVelocityCurve=e.BOOLEAN;A.velocityCurve=e.GEOM;A.enableAngularVelocityCurve=e.BOOLEAN;A.angularVelocityCurve=e.GEOM;return A};var Transform=qc.ParticleSystem.Transitions.Transform=function(t){this.particle=t;this.particleSystem=t.emitter.owner;this.time=t.emitter.game.time;this.gravity=new Phaser.Point;this.x=0;this.y=0;this.anchor={x:.5,y:.5};this.velocity={x:0,y:0};this.originVelocity={x:0,y:0};this.scale=this.originScale=1;this.rotation=0;this.originAngularVelocity=0};Transform.prototype.constructor=Transform;Transform.prototype.init=function(t,e){this.x=t;this.y=e;this.gravity=this.particleSystem.gravity;var A=qc.ParticleSystem.Util.getRandom(this.particleSystem.angle);var i=qc.ParticleSystem.Util.getRandom(this.particleSystem.startVelocity);var o=A*Math.PI/180;this.velocity.x=this.originVelocity.x=i*Math.cos(o);this.velocity.y=this.originVelocity.y=i*Math.sin(o);this.scale=this.originScale=qc.ParticleSystem.Util.getRandom(this.particleSystem.startScale);this.rotation=qc.ParticleSystem.Util.getRandom(this.particleSystem.startRotation)*Math.PI/180;this.originAngularVelocity=qc.ParticleSystem.Util.getRandom(this.particleSystem.angularVelocity)*Math.PI/180};Transform.prototype.update=function(t,e){var A=e;this.originVelocity.x+=this.gravity.x*t;this.originVelocity.y+=this.gravity.y*t;if(this.particleSystem.enableVelocityCurve){var i=this.particleSystem.velocityCurve.evaluate(A);this.velocity.x=this.originVelocity.x*i;this.velocity.y=this.originVelocity.y*i}else{this.velocity.x=this.originVelocity.x;this.velocity.y=this.originVelocity.y}this.x+=this.velocity.x*t;this.y+=this.velocity.y*t;if(this.particleSystem.enableScaleCurve){var o=this.particleSystem.scaleCurve.evaluate(A);this.scale=this.originScale*o}if(this.originAngularVelocity!==0){var r=this.originAngularVelocity;if(this.particleSystem.enableAngularVelocityCurve){r*=this.particleSystem.angularVelocityCurve.evaluate(A)}this.rotation+=r*t}};var Zone=qc.ParticleSystem.Zones.Zone=function(t){this.geometry=null;this._random=new qc.Point;this.edgeEmission=t};Zone.prototype.constructor=Zone;Zone.POINT=1;Zone.LINE=2;Zone.RECTANGLE=3;Zone.CIRCLE=4;Zone.prototype.getRandom=function(){return this._random};Zone.prototype.emit=function(t,e){for(var A=0;A<e;A++){this.getRandom();t.emitParticle(this._random.x,this._random.y,t)}};var Particle=qc.ParticleSystem.Particle=function(t){this.emitter=t;this.particleSystem=t.owner;this.renderer=t.renderer;this.game=this.emitter.owner.game;this.manualDisplayChanged=this.game.phaser.renderType===Phaser.CANVAS&&this.game.dirtyRectangle.enable;this.alive=true;this.life=0;this.sprite=null;this.transform=new qc.ParticleSystem.Transitions.Transform(this);this.color=new qc.ParticleSystem.Transitions.Color(this)};Particle.prototype.constructor=Particle;Particle.prototype.init=function(t,e){this.life=0;this.alive=true;this.lifespan=qc.ParticleSystem.Util.getRandom(this.particleSystem.lifespan);var A=qc.ParticleSystem.Util.getRandom(this.particleSystem.frameRate);this.frameInterval=1/A;this.frameTime=0;this.create(t,e);if(this.particleSystem.emissionSpace===qc.ParticleSystem.EmissionSpace.WORLD){this.cacheParentWorldTransform();this.sprite.updateTransform=Particle.updateTransform}};Particle.prototype.create=function(t,e){var A=this.particleSystem.texture;this.transform.init(t,e);this.color.init();if(this.alive){var i;if(A.atlas.meta.spriteSheet){this.frameIndex=qc.ParticleSystem.Util.getRandom(this.particleSystem.initialFrame);this.frameIndex=Phaser.Math.clamp(Math.round(this.frameIndex),0,A.atlas.frameNames.length-1);i=A.atlas.frameNames[this.frameIndex]}else{if(A.frame===0){i=this.game.phaser.rnd.pick(A.atlas.frameNames)}else{i=A.frame}}var o=this.renderer.add(this,A,i);this.renderer.update(this)}this.transform.update(0,0);this.color.update(0,0);if(this.manualDisplayChanged)this.sprite.displayChanged(qc.DisplayChangeStatus.SHOW)};Particle.prototype.update=function(t){this.life+=t;if(this.life<this.delay)this.sprite.visible=false;else this.sprite.visible=true;this.renderer.update(this);var e=Phaser.Math.clamp(this.life/this.lifespan,0,1);this.transform.update(t,e);this.color.update(t,e);if(this.life>=this.lifespan){this.terminate();return}if(this.emitter.owner.texture.atlas.meta.spriteSheet){this.frameTime+=t;if(this.frameTime>=this.frameInterval){this.frameIndex++;if(this.frameIndex>=this.emitter.owner.texture.atlas.frameNames.length)this.frameIndex=0;this.sprite.frameName=this.particleSystem.texture.atlas.frameNames[this.frameIndex];if(this.manualDisplayChanged)this.sprite.displayChanged(qc.DisplayChangeStatus.SHOW);this.frameTime-=this.frameInterval}}};Particle.prototype.terminate=function(){this.alive=false;this.sprite.kill();if(this.manualDisplayChanged)this.sprite.displayChanged(qc.DisplayChangeStatus.HIDE)};Particle.prototype.cacheParentWorldTransform=function(){if(!this.sprite)return;var t=this.emitter.owner.phaser.worldTransform;var e=this.sprite._parentWorldTransform=new qc.Matrix;e.a=t.a;e.b=t.b;e.c=t.c;e.d=t.d;e.tx=t.tx;e.ty=t.ty};Particle.updateTransform=function(){if(!this.parent||!this.visible)return;var t=this._parentWorldTransform;if(!t)return;var e=this.worldTransform;var A,i,o,r,n,a;if(this.rotation%PIXI.PI_2){if(this.rotation!==this.rotationCache){this.rotationCache=this.rotation;this._sr=Math.sin(this.rotation);this._cr=Math.cos(this.rotation)}A=this._cr*this.scale.x;i=this._sr*this.scale.x;o=-this._sr*this.scale.y;r=this._cr*this.scale.y;n=this.position.x;a=this.position.y;if(this.pivot.x||this.pivot.y){n-=this.pivot.x*A+this.pivot.y*o;a-=this.pivot.x*i+this.pivot.y*r}e.a=A*t.a+i*t.c;e.b=A*t.b+i*t.d;e.c=o*t.a+r*t.c;e.d=o*t.b+r*t.d;e.tx=n*t.a+a*t.c+t.tx;e.ty=n*t.b+a*t.d+t.ty}else{A=this.scale.x;r=this.scale.y;n=this.position.x-this.pivot.x*A;a=this.position.y-this.pivot.y*r;e.a=A*t.a;e.b=A*t.b;e.c=r*t.c;e.d=r*t.d;e.tx=n*t.a+a*t.c+t.tx;e.ty=n*t.b+a*t.d+t.ty}this.worldAlpha=this.alpha;if(this.transformCallback){this.transformCallback.call(this.transformCallbackContext,e,t)}};var Sprite=qc.ParticleSystem.Renderer.Sprite=function(t){this.emitter=t;this.game=this.emitter.game;this.display=t.owner.phaser};Sprite.prototype.constructor=Sprite;Sprite.prototype.add=function(t,e,A){var i=e.atlas.url;var o=t.sprite;if(o){o.reset(t.transform.x,t.transform.y);if(o.key!==i){o.loadTexture(i,A)}else{o.frameName=A}}else{o=this.display.create(t.transform.x,t.transform.y,i,A)}o.anchor.set(t.transform.anchor.x,t.transform.anchor.y);o.blendMode=t.color.blendMode;t.sprite=o;return o};Sprite.prototype.update=function(t){var e=0;var A=t.sprite;if(A.x!==t.transform.x||A.y!==t.transform.y){e|=qc.DisplayChangeStatus.OFFSET;A.x=t.transform.x;A.y=t.transform.y}if(A.scale.x!==t.transform.scale){e|=qc.DisplayChangeStatus.SCALE;A.scale.x=t.transform.scale;A.scale.y=t.transform.scale}if(A.rotation!==t.transform.rotation){e|=qc.DisplayChangeStatus.ROTATION;A.rotation=t.transform.rotation}if(A.tint!==t.color.tint){e|=qc.DisplayChangeStatus.TINT;A.tint=t.color.tint}if(A.alpha!==t.color.alpha){e|=qc.DisplayChangeStatus.ALPHA;A.alpha=t.color.alpha}A._isNotNeedCalcTransform=false;if(t.manualDisplayChanged){A.displayChanged(e)}};var Color=qc.ParticleSystem.Transitions.Color=function(t){this.particle=t;this.particleSystem=t.emitter.owner;this.time=t.emitter.game.time;this.blendMode=Phaser.blendModes.NORMAL;this.tint=0;this.alpha=this.originAlpha=1};Color.prototype.constructor=Color;Color.prototype.init=function(){var t=qc.ParticleSystem.Util.getRandom;var e=qc.ParticleSystem.Util.getRandomByVariation;this.alpha=this.originAlpha=t(this.particleSystem.startAlpha);this.startColor=new qc.Color(16777215);this.startColor.r=e(this.particleSystem.startColor.r,this.particleSystem.startColorVariation);this.startColor.g=e(this.particleSystem.startColor.g,this.particleSystem.startColorVariation);this.startColor.b=e(this.particleSystem.startColor.b,this.particleSystem.startColorVariation);this.endColor=new qc.Color(16777215);this.endColor.r=e(this.particleSystem.endColor.r,this.particleSystem.endColorVariation);this.endColor.g=e(this.particleSystem.endColor.g,this.particleSystem.endColorVariation);this.endColor.b=e(this.particleSystem.endColor.b,this.particleSystem.endColorVariation);this.tint=this.startColor.toNumber();this.blendMode=this.particleSystem.blendMode};Color.prototype.update=function(t,e){var A=e;var i=this.startColor.rgb;var o=this.endColor.rgb;if(i[0]!==o[0]||i[1]!==o[1]||i[2]!==o[2]){var r;if(this.particleSystem.enableColorCurve){r=this.particleSystem.colorCurve.evaluate(A)}else{r=A}var n=255,a=255,s=255;if(i[0]!==o[0])n=Phaser.Math.clamp(Math.round(i[0]+r*(o[0]-i[0])),0,255);if(i[1]!==o[1])a=Phaser.Math.clamp(Math.round(i[1]+r*(o[1]-i[1])),0,255);if(i[2]!==o[2])s=Phaser.Math.clamp(Math.round(i[2]+r*(o[2]-i[2])),0,255);this.tint=n<<16|a<<8|s}if(this.particleSystem.enableAlphaCurve){var c=this.particleSystem.alphaCurve.evaluate(A);this.alpha=this.originAlpha*c}};var EmitterViewer=qc.defineBehaviour("qc.EmitterViewer",qc.Behaviour,function(){var t=this;t.now=t.game.time.now;t.runInEditor=true;t.debugOn=true;t.duration=1},{debugOn:qc.Serializer.BOOLEAN,particleSystem:qc.Serializer.NODE});EmitterViewer.__menu="Debug/EmitterViewer";Object.defineProperties(EmitterViewer.prototype,{debugOn:{get:function(){return this._debugOn},set:function(t){this._debugOn=t}},particleSystem:{get:function(){return this._particleSystem},set:function(t){this._particleSystem=t}}});EmitterViewer.prototype.postUpdate=function(){if(!this.particleSystem)return;if(!this.debugOn)return;var t=this.game.time.now;if(t-this.now>=this.duration*1e3){var e=this.particleSystem.emitter;if(e===null)return;var A=qc.Util.formatString("\n\n({0})\nAlive:{1}\nDead:{2}\nTotal:{3}",this.particleSystem.name,e.list.length,e.pool.length,e.list.length+e.pool.length);if(this.gameObject instanceof qc.UIText)this.gameObject.text=A;else if(this.gameObject instanceof qc.Dom){A=A.replace(/\n/g,"<br/>");this.gameObject.innerHTML=A}}};qc.ParticleSystem.Util={getRandom:function(t){if(!Array.isArray(t)||t.length<2){return 0}var e=t[0]||0;var A=t[1]||0;var i=Math.random();var o=e+i*(A-e);return o},getRandomByVariation:function(t,e){t=t||0;e=e||0;return t+e*(1-2*Math.random())}};var Circle=qc.ParticleSystem.Zones.Circle=function(t,e){qc.ParticleSystem.Zones.Zone.call(this,e);this.geometry=new qc.Circle(0,0,t*2)};Circle.prototype=Object.create(qc.ParticleSystem.Zones.Zone.prototype);Circle.prototype.constructor=Circle;Circle.prototype.getRandom=function(){var t=2*Math.PI*Math.random();var e=this.geometry.radius*(this.edgeEmission?1:Math.random());this._random.x=this.geometry.x+e*Math.cos(t);this._random.y=this.geometry.y+e*Math.sin(t)};var Line=qc.ParticleSystem.Zones.Line=function(t,e){qc.ParticleSystem.Zones.Zone.call(this);var A=e*Math.PI/180;var i=t/2*Math.cos(A);var o=t/2*Math.sin(A);var r=-i;var n=-o;this.geometry=new qc.Line(i,o,r,n)};Line.prototype=Object.create(qc.ParticleSystem.Zones.Zone.prototype);Line.prototype.constructor=Line;Line.prototype.getRandom=function(){var t=Math.random();this._random.x=this.geometry.start.x+t*(this.geometry.end.x-this.geometry.start.x);this._random.y=this.geometry.start.y+t*(this.geometry.end.y-this.geometry.start.y)};var Point=qc.ParticleSystem.Zones.Point=function(){qc.ParticleSystem.Zones.Zone.call(this);this.geometry=new qc.Point};Point.prototype=Object.create(qc.ParticleSystem.Zones.Zone.prototype);Point.prototype.constructor=Point;Point.prototype.getRandom=function(){this._random=this.geometry};var Rectangle=qc.ParticleSystem.Zones.Rectangle=function(t,e,A){qc.ParticleSystem.Zones.Zone.call(this,A);var i=-t/2;var o=-e/2;this.geometry=new qc.Rectangle(i,o,t,e)};Rectangle.prototype=Object.create(qc.ParticleSystem.Zones.Zone.prototype);Rectangle.prototype.constructor=Rectangle;Rectangle.prototype.getRandom=function(){if(!this.edgeEmission){this._random.x=this.geometry.x+Math.random()*this.geometry.width;this._random.y=this.geometry.y+Math.random()*this.geometry.height}else{var t,e;var A=Math.random()*this.geometry.perimeter;if(A<=this.geometry.width){t=A;e=0}else if(A<=this.geometry.width+this.geometry.height){t=this.geometry.width;e=A-this.geometry.width}else if(A<=this.geometry.width*2+this.geometry.height){t=this.geometry.width*2+this.geometry.height-A;e=this.geometry.height}else{t=0;e=this.geometry.perimeter-A}this._random.x=this.geometry.x+t;this._random.y=this.geometry.y+e}};var Emitter=qc.ParticleSystem.Emitter=function(t){this.game=t.game.phaser;this.owner=t;this.particleClass=qc.ParticleSystem.Particle;this.list=[];this.pool=[];this.paused=false};Emitter.prototype.constructor=Emitter;Emitter.prototype.init=function(){this.renderer=this.createRenderer(this.owner.rendererType);this.zone=this.createZone();this.timer=this.game.time.create(false)};Emitter.prototype.start=function(){this.paused=false;if(!this.timer.running){var t=this.owner.repeat;var e=this.owner.frequency*1e3;if(t===-1){this.timer.loop(e,this.emitImp,this)}else if(t>0){this.timer.repeat(e,t,this.emitImp,this)}this.timer.start(this.owner.delay*1e3)}else{this.timer.resume()}};Emitter.prototype.pause=function(){this.paused=true;this.timer.pause()};Emitter.prototype.update=function(t){for(var e=this.list.length-1;e>=0;e--){var A=this.list[e];A.update(t);if(!A.alive){this.pool.push(A);this.list.splice(e,1)}}};Emitter.prototype.clear=function(){for(var t=0;t<this.list.length;t++){var e=this.list[t];e.terminate()}this.list=[];this.pool=[]};Emitter.prototype.reset=function(){this.clear();this.renderer=null;this.zone=null;this.timer.destroy();this.init()};Emitter.prototype.destroy=function(){this.clear();this.renderer=null;this.zone=null;this.timer.destroy();this.timer=null};Emitter.prototype.emitParticle=function(t,e,A){if(this.list.length>=this.owner.maxParticles)return;var i=this.pool.pop();if(!i)i=new this.particleClass(this);i.init(t,e);if(i.alive){this.list.push(i)}else{this.pool.push(i)}};Emitter.prototype.emitImp=function(){var t=this.owner.quantity;if(this.zone){this.zone.emit(this,t)}};Emitter.prototype.createRenderer=function(t){t=t||qc.ParticleSystem.RENDER_TYPE_SPRITE;var e;switch(t){case qc.ParticleSystem.Renderer.SPRITE:e=new qc.ParticleSystem.Renderer.Sprite(this);break;default:console.error("Invalid renderer type "+t)}return e};Emitter.prototype.createZone=function(){var t=this.owner.zoneType;var e=this.owner.edgeEmission;var A;switch(t){case qc.ParticleSystem.Zones.Zone.POINT:A=new qc.ParticleSystem.Zones.Point;break;case qc.ParticleSystem.Zones.Zone.LINE:var i=this.owner.zoneLength;var o=this.owner.zoneRotation;A=new qc.ParticleSystem.Zones.Line(i,o);break;case qc.ParticleSystem.Zones.Zone.CIRCLE:var r=this.owner.zoneRadius;A=new qc.ParticleSystem.Zones.Circle(r,e);break;case qc.ParticleSystem.Zones.Zone.RECTANGLE:var n=this.owner.zoneWidth;var a=this.owner.zoneHeight;A=new qc.ParticleSystem.Zones.Rectangle(n,a,e);break;default:console.error("Invalid zone type "+zoneType)}return A};var __spreadArrays=this&&this.__spreadArrays||function(){for(var t=0,e=0,A=arguments.length;e<A;e++)t+=arguments[e].length;for(var i=Array(t),o=0,e=0;e<A;e++)for(var r=arguments[e],n=0,a=r.length;n<a;n++,o++)i[o]=r[n];return i};var ps;(function(t){var e=function(){function r(){this.debugPrint=false;this.singalList={}}r.prototype.add=function(t,e,A,i){var o=this.getSingal(t,true);return o.add(e,A,i)};r.prototype.addOnce=function(t,e,A,i){var o=this.getSingal(t,true);return o.addOnce(e,A,i)};r.prototype.has=function(t,e,A){var i=this.getSingal(t,false);if(!i)return false;return i.has(e,A)};r.prototype.remove=function(t,e,A){var i=this.getSingal(t,false);if(i)i.remove(e,A)};r.prototype.removeAll=function(t){if(!t){for(var e in this.singalList){this.singalList[e].removeAll()}return}var A=this.getSingal(t,false);if(A)A.removeAll()};r.prototype.dispatch=function(t){var e=[];for(var A=1;A<arguments.length;A++){e[A-1]=arguments[A]}if(this.debugPrint)console.log("dispatch",t);var i=this.getSingal(t,false);if(i)i.dispatch.apply(i,e);var o=this.getSingal(r.ALL,false);if(o)o.dispatch.apply(o,__spreadArrays([t],e))};r.prototype.getSingal=function(t,e){if(e===void 0){e=false}var A=this.singalList[t];if(e&&!A){A=new qc.Signal;this.singalList[t]=A}return A};r.prototype.destroy=function(){for(var t in this.singalList){this.singalList[t].destroy()}};r.ALL="";return r}();t.EventDispatcher=e})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(t){var e=function(e){__extends(A,e);function A(){var t=e!==null&&e.apply(this,arguments)||this;t.result=true;return t}Object.defineProperty(A.prototype,"state",{get:function(){return this._state},enumerable:true,configurable:true});Object.defineProperty(A.prototype,"isWaiting",{get:function(){return this.state===A.WAITING},enumerable:true,configurable:true});Object.defineProperty(A.prototype,"isPlaying",{get:function(){return this.state===A.PLAYING},enumerable:true,configurable:true});Object.defineProperty(A.prototype,"isEnded",{get:function(){return this.state===A.ENDED},enumerable:true,configurable:true});A.prototype.ready=function(){this._state=A.WAITING;this.dispatch(A.READY);return true};A.prototype.start=function(){if(qici.config.editor)return;if(!this.isWaiting)return;this._state=A.PLAYING;this.dispatch(A.START);if(t.GameConfig.autoEndTime>0){this.autoEndTimerEvnet=qc_game.timer.add(t.GameConfig.autoEndTime*1e3,function(){t.gameEnd(false)})}return true};A.prototype.end=function(t){if(t===void 0){t=true}if(this.isEnded)return;this.result=t;this._state=A.ENDED;this.dispatch(A.END,t);if(this.autoEndTimerEvnet)qc_game.timer.remove(this.autoEndTimerEvnet);return true};A.prototype.retry=function(){this._state=A.WAITING;this.dispatch(A.RETRY)};A.prototype.reset=function(){this.removeAll();this._state=undefined};A.WAITING="waiting";A.PLAYING="playing";A.ENDED="ended";A.READY="ready";A.GAMESTART="gameStart";A.START="start";A.END="end";A.RETRY="retry";A.SCENECHANGE="scenechange";return A}(t.EventDispatcher);t.GameState=e})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(i){var t=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e.createEvent(i.GameState.READY,"onInit");e.createEvent(i.GameState.GAMESTART,"onGameStart");e.createEvent(i.GameState.START,"onStart");e.createEvent(i.GameState.END,"onEnd");e.createEvent(i.GameState.RETRY,"onRetry");e.createEvent(i.GameState.SCENECHANGE,"onSceneChange");if(e["onResize"])e.gameObject.addListener(e.gameObject.onRelayout,e["onResize"],e);if(i.mainState.isPlaying){e.call("onInit");e.call("onStart")}if(i.mainState.isEnded){e.call("onEnd",i.mainState.result)}return e}t.prototype.call=function(t){var e=[];for(var A=1;A<arguments.length;A++){e[A-1]=arguments[A]}if(this[t])this[t].apply(this,e)};t.prototype.createEvent=function(t,e){if(this[e])i.mainState.add(t,this[e],this)};t.prototype.pos=function(t,e){this.gameObject.x=t;this.gameObject.y=e};return t}(qc.Behaviour);i.Behaviour=t})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(A){var t;(function(t){var e=function(e){__extends(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t.playOnAwake=true;t.duration=500;t.delay=0;t.serializableFields={playOnAwake:qc.Serializer.BOOLEAN,playOnStart:qc.Serializer.BOOLEAN,duration:qc.Serializer.NUMBER,delay:qc.Serializer.NUMBER};return t}t.prototype.awake=function(){if(this.playOnAwake)this.play()};t.prototype.onEnable=function(){if(this.tween)this.resume()};t.prototype.onDisable=function(){if(this.tween)this.pause()};t.prototype.play=function(){};t.prototype.pause=function(){if(this.tween)this.tween.pause()};t.prototype.resume=function(){if(this.tween)this.tween.resume()};t.prototype.onDestroy=function(){if(this.tween)this.tween.stop()};return t}(A.Behaviour);t.TweenBase=e})(t=A.tween||(A.tween={}))})(ps||(ps={}));var ps;(function(e){var t=function(){function t(){this.list=[]}t.prototype.add=function(t){this.list.push(t)};t.prototype.remove=function(t){e.Tools.deleteElement(this.list,t)};t.prototype.update=function(e){this.list.forEach(function(t){t.update(e)})};return t}();e.updateList=new t})(ps||(ps={}));var ps;(function(o){var t=function(){function t(){this.cdList={}}t.prototype.addCD=function(t,e){var A=this.getCD(t);if(A){A.duration=e;A.reset(e)}else{this.cdList[t]=new o.CoolDown(t,e)}return this.cdList[t]};t.prototype.on=function(t,e,A){var i=this.getCD(t);return i.add(o.CoolDown.FINISH,A,e)};t.prototype.once=function(t,e){var A=this.getCD(name);return A.add(A.name,e,t)};t.prototype.destroy=function(t){var e=this.getCD(t);if(e){e.destroy();this.cdList[t]=undefined}};t.prototype.getCD=function(t){return this.cdList[t]};t.prototype.getRemainingTime=function(t){return this.getCD(t).remainingTime};t.prototype.inCD=function(t){return this.getCD(t).inCD};t.prototype.canDo=function(t){return this.getCD(t).canDo};t.prototype.do=function(t){var e=this.getCD(t);if(e)return e.do()};t.prototype.update=function(t){for(var e in this.cdList){this.cdList[e].update(t)}};return t}();o.cdManager=new t;o.updateList.add(o.cdManager)})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(o){var t=function(i){__extends(e,i);function e(t,e){var A=i.call(this)||this;A.remainingTime=0;A.isPause=true;A.timeScale=1;A.name=t;A.duration=e;o.updateList.add(A);return A}Object.defineProperty(e.prototype,"percentage",{get:function(){return 1-this.remainingTime/this.duration},enumerable:true,configurable:true});e.prototype.reset=function(t){if(t!=undefined)this.duration=t;this.remainingTime=this.duration;this.resume();this.dispatch(e.RESET,this.name)};e.prototype.resetAndPause=function(){this.remainingTime=this.duration;this.pause()};Object.defineProperty(e.prototype,"inCD",{get:function(){return this.remainingTime>0},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"canDo",{get:function(){return!this.inCD},enumerable:true,configurable:true});e.prototype.update=function(t){if(this.isPause)return;if(this.inCD){this.remainingTime-=t/this.timeScale;if(this.canDo){this.dispatch(e.FINISH,this.name);this.remainingTime=0}}else{this.remainingTime=0}};e.prototype.do=function(){if(this.inCD){this.dispatch(e.DOFALSE,this.name);return false}this.reset();this.dispatch(e.DO,this.name);return true};e.prototype.resume=function(){this.isPause=false};e.prototype.pause=function(){this.isPause=true};e.prototype.refresh=function(){this.remainingTime=0};e.prototype.destroy=function(){i.prototype.destroy.call(this);o.updateList.remove(this)};e.FINISH="finish";e.DO="do";e.DOFALSE="dofalse";e.RESET="reset";return e}(o.EventDispatcher);o.CoolDown=t})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(A){var t;(function(t){var e=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e.direction="up";e.value=100;e.serializableFields={playOnAwake:qc.Serializer.BOOLEAN,type:qc.Serializer.STRING,duration:qc.Serializer.NUMBER,direction:qc.Serializer.NUMBER,value:qc.Serializer.STRING,delay:qc.Serializer.NUMBER};return e}return t}(A.tween.TweenBase);t.SlideIn=e;qc.registerBehaviour("ps.tween.SlideIn",e);e["__menu"]="CustomTween/SlideIn"})(t=A.tween||(A.tween={}))})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(i){var t;(function(t){var e=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e.autoGameEnd=false;e.scale=0;e.duration=500;e.delay=0;e.serializableFields={autoGameEnd:qc.Serializer.BOOLEAN,scale:qc.Serializer.NUMBER,duration:qc.Serializer.NUMBER,delay:qc.Serializer.NUMBER};return e}t.prototype.awake=function(){var t=this;this.gameObject.interactive=true;if(this.scale!=0&&i.CHANNEL!="google"){this.gameObject.pivotX=.5;this.gameObject.pivotY=.5;i.timer.once(this.delay,function(){t.tween=i.Tween.zoom(t.gameObject,t.scale,t.duration)})}};t.prototype.onEnable=function(){if(this.tween)this.tween.resume()};t.prototype.onDisable=function(){if(this.tween)this.tween.pause()};t.prototype.onDown=function(){i.install(this.autoGameEnd)};return t}(qc.Behaviour);t.InstallBtn=e;qc.registerBehaviour("ps.InstallBtn",e);e["__menu"]="Btn/InstallBtn"})(t=i.btn||(i.btn={}))})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var JoystickEvent;(function(t){t["ON_DOWN"]="JoystickOnDown";t["ON_DRAG"]="JoystickOnDrag";t["ON_UP"]="JoystickOnUp"})(JoystickEvent||(JoystickEvent={}));var JoystickType;(function(t){t[t["FIX"]=0]="FIX";t[t["AUTO"]=1]="AUTO";t[t["AUTO_HIDE"]=2]="AUTO_HIDE"})(JoystickType||(JoystickType={}));var ps;(function(t){var e=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e._showType=JoystickType.AUTO;e.circleRadius=0;e.ballRadius=0;e.centerX=0;e.centerY=0;e.serializableFields={ballTexture:qc.Serializer.TEXTURE,circleTexture:qc.Serializer.TEXTURE,_showType:qc.Serializer.NUMBER};e.p1=new qc.Point;e.p2=new qc.Point;return e}t.prototype.awake=function(){this.initShowType();this.childrenCreated()};t.prototype.createJoystick=function(){this.circle=this.gameObject.getChildByName("joystick");if(!this.circle){this.circle=new qc.UIImage(this.game,this.gameObject);this.circle.name="joystick";this.circle.texture=this.circleTexture;this.circle.pivotX=.5;this.circle.pivotY=.5;this.circle.resetNativeSize();this.circle.minAnchor.x=.5;this.circle.minAnchor.y=.5;this.circle.maxAnchor.x=.5;this.circle.maxAnchor.y=.5}this.ball=this.circle.getChildByName("ball");if(!this.ball){this.ball=new qc.UIImage(this.game,this.circle);this.ball.name="ball";this.ball.texture=this.ballTexture;this.ball.pivotX=.5;this.ball.pivotY=.5;this.ball.resetNativeSize();this.ball.minAnchor.x=.5;this.ball.minAnchor.y=.5;this.ball.maxAnchor.x=.5;this.ball.maxAnchor.y=.5;this.ball.x=this.centerX;this.ball.y=this.centerY}};Object.defineProperty(t.prototype,"showType",{get:function(){return this._showType},set:function(t){if(t!=void 0){this._showType=t}this.initShowType()},enumerable:true,configurable:true});t.prototype.initShowType=function(){this.createJoystick();switch(this.showType){case JoystickType.FIX:this.circle.visible=true;break;case JoystickType.AUTO:this.circle.visible=false;break;case JoystickType.AUTO_HIDE:this.circle.visible=false;break}};t.prototype.childrenCreated=function(){this.circleRadius=this.circle.height/2;this.ballRadius=this.ball.width/2;this.gameObject.pivotX=.5;this.gameObject.pivotY=.5;this.ball.x=this.centerX;this.ball.y=this.centerY};t.prototype.onDown=function(t){var e=t.source;this.touchID=e.eventId;this.startX=e.startX;this.startY=e.startY;var A=new qc.Point(e.x,e.y);var i=this.circle.parent.toLocal(A);this.circle.x=i.x;this.circle.y=i.y;this.ball.x=this.centerX;this.ball.y=this.centerY;var o=e.x-this.startX;var r=e.y-this.startY;var n=this.circleRadius-this.ballRadius;this.p1.x=this.startX;this.p1.y=this.startY;this.p2.x=e.x;this.p2.y=e.y;var a=this.p2.distance(this.p1);var s=Math.atan2(this.p2.y-this.p1.y,this.p2.x-this.p1.x);if(a<=n){this.ball.x=o;this.ball.y=r}else{this.ball.x=Math.cos(s)*n+this.centerX;this.ball.y=Math.sin(s)*n+this.centerY;a=n}main.gameEvent.dispatch(JoystickEvent.ON_DOWN,this.ball.x,this.ball.y,s,a,this.circleRadius,this.ballRadius,e.x,e.y);if(this.showType===JoystickType.AUTO){this.circle.visible=true}};t.prototype.moveBall=function(t){var e=t.x-this.startX;var A=t.y-this.startY;var i=this.circleRadius-this.ballRadius;this.p1.x=this.startX;this.p1.y=this.startY;this.p2.x=t.x;this.p2.y=t.y;var o=this.p2.distance(this.p1);var r=Math.atan2(this.p2.y-this.p1.y,this.p2.x-this.p1.x);if(o<=i){this.ball.x=e;this.ball.y=A}else{this.ball.x=Math.cos(r)*i+this.centerX;this.ball.y=Math.sin(r)*i+this.centerY;o=i}main.gameEvent.dispatch(JoystickEvent.ON_DRAG,this.ball.x,this.ball.y,r,o,this.circleRadius,this.ballRadius,t.x,t.y)};t.prototype.onDrag=function(t){var e=t.source;this.moveBall(e)};t.prototype.onUp=function(t){var e=t.source;this.ball.x=this.centerX;this.ball.y=this.centerY;if(this.showType===JoystickType.AUTO){this.circle.visible=false}main.gameEvent.dispatch(JoystickEvent.ON_UP)};return t}(t.Behaviour);t.Joystick=e;qc.registerBehaviour("ps.Joystick",e);e["__menu"]="Custom/Joystick"})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(i){var t=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e.serializableFields={langKey:qc.Serializer.STRING};e.runInEditor=true;return e}t.prototype.awake=function(){this.debugConfig=main.gameObject.getScript(i.DebugConfig);this.refreshTarget();if(i.ENV==="EDITOR"||i.ENV==="DEBUG")this.debugConfig.eventDisp.add(i.DebugEvent.UPDATE_LANG,this.refreshTarget,this)};t.prototype.getRes=function(){if(!this.game.config["useLanguages"])return;return languagesMgr.getRes()};t.prototype.refresh=function(t,e){if(e===void 0){e=i.ENV==="EDITOR"||i.ENV==="DEBUG"}if(!this.game.config["useLanguages"])return;if(t!=void 0)this.langKey=t;this.refreshTarget(e)};t.prototype.refreshTarget=function(t){if(t===void 0){t=i.ENV==="EDITOR"||i.ENV==="DEBUG"}if(!this.game.config["useLanguages"])return;var e=i.ENV==="EDITOR"||i.ENV==="DEBUG"?this.debugConfig.debugLang:void 0;if(this.gameObject instanceof qc.UIText){languagesMgr.updateLabel(this.gameObject,this.langKey,t,e)}else if(this.gameObject instanceof qc.UIImage){languagesMgr.updateImage(this.gameObject,t,e)}};return t}(i.Behaviour);i.Languages=t;qc.registerBehaviour("ps.Languages",t);t["__menu"]="Custom/Languages"})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(l){var n=["x","y","rotation","width","height","scaleXY","scaleX","scaleY","left","right","top","bottom","centerX","centerY","percX","percY"];var t=function(A){__extends(r,A);function r(t){var e=A.call(this,t)||this;e.inited=false;e.autoSize=false;e.serializableFields={autoSize:qc.Serializer.BOOLEAN,left:qc.Serializer.STRING,top:qc.Serializer.STRING,right:qc.Serializer.STRING,bottom:qc.Serializer.STRING,centerX:qc.Serializer.STRING,centerY:qc.Serializer.STRING,percX:qc.Serializer.STRING,percY:qc.Serializer.STRING,scaleXY:qc.Serializer.STRING,layout:qc.Serializer.MAPPING};e.layoutDef=new a;e.layout={pdef:"",pipx:"",ppad:"",pipxm:"",ldef:"",lipx:"",lpad:"",lipxm:""};e.layoutData={};e.runInEditor=true;e.addListener(t.onRelayout,e.refresh,e);return e}r.setLayout=function(t,e,A){if(A==="pw")A=t.parent.width;if(A==="ph")A=t.parent.height;A=l.Mathf.parseNumber(A);var i=t.width*t.scaleX;var o=t.height*t.scaleY;var r=t.pivotX*i;var n=t.pivotY*o;var a=t.parent.width;var s=t.parent.height;var c=t.parent.pivotX*a;var h=t.parent.pivotY*s;switch(e){case"left":t.x=r-c+A;break;case"top":t.y=n-h+A;break;case"right":if(t.parent)t.x=t.parent.width-i+r-c-A;break;case"bottom":if(t.parent)t.y=t.parent.height-o+n-h-A;break;case"centerX":if(t.parent)t.x=(t.parent.width-i)/2+r-c+A;break;case"centerY":if(t.parent)t.y=(t.parent.height-o)/2+n-h+A;break;case"percX":if(t.parent)t.x=(t.parent.width-i)*A+r-c;break;case"percY":if(t.parent)t.y=(t.parent.height-o)*A+n-h;break;case"scaleX":if(t.getScript(qc.TweenScale))return;t.scaleX=A;break;case"scaleY":if(t.getScript(qc.TweenScale))return;t.scaleY=A;break;case"scaleXY":if(t.getScript(qc.TweenScale))return;t.scaleX=A;t.scaleY=A;break;case"x":t.anchoredX=A;break;case"y":t.anchoredY=A;break;case"rotation":t.rotation=l.Mathf.angleToRadian(A);break;case"width":t.width=A;break;case"height":t.height=A;break}};r.prototype.awake=function(){if(this.inited)return;for(var t in this.layout){var e=this.parseData(this.layout[t]);if(!e)continue;this.layoutData[t]=e;var A=Object.keys(e);for(var i=0,o=A;i<o.length;i++){var r=o[i];if(n.indexOf(r)<0){console.error("对象名："+this.gameObject.name+'  错误：布局参数里不存在"'+r+'"')}}}this.inited=true;this.refresh()};r.prototype.onEnable=function(){this.refresh()};r.prototype.getData=function(t,e){if(t===void 0){t="def"}if(e===void 0){e="def"}return this.layoutData[t+e]};Object.defineProperty(r.prototype,"left",{get:function(){return this.layoutDef.left},set:function(t){this.layoutDef.left=l.Mathf.parseNumber(t);this.refresh()},enumerable:true,configurable:true});Object.defineProperty(r.prototype,"top",{get:function(){return this.layoutDef.top},set:function(t){this.layoutDef.top=l.Mathf.parseNumber(t);this.refresh()},enumerable:true,configurable:true});Object.defineProperty(r.prototype,"right",{get:function(){return this.layoutDef.right},set:function(t){this.layoutDef.right=l.Mathf.parseNumber(t);this.refresh()},enumerable:true,configurable:true});Object.defineProperty(r.prototype,"bottom",{get:function(){return this.layoutDef.bottom},set:function(t){this.layoutDef.bottom=l.Mathf.parseNumber(t);this.refresh()},enumerable:true,configurable:true});Object.defineProperty(r.prototype,"centerX",{get:function(){return this.layoutDef.centerX},set:function(t){this.layoutDef.centerX=l.Mathf.parseNumber(t);this.refresh()},enumerable:true,configurable:true});Object.defineProperty(r.prototype,"centerY",{get:function(){return this.layoutDef.centerY},set:function(t){this.layoutDef.centerY=l.Mathf.parseNumber(t);this.refresh()},enumerable:true,configurable:true});Object.defineProperty(r.prototype,"percX",{get:function(){return this.layoutDef.percX},set:function(t){this.layoutDef.percX=l.Mathf.parseNumber(t);this.refresh()},enumerable:true,configurable:true});Object.defineProperty(r.prototype,"percY",{get:function(){return this.layoutDef.percY},set:function(t){this.layoutDef.percY=l.Mathf.parseNumber(t);this.refresh()},enumerable:true,configurable:true});Object.defineProperty(r.prototype,"scaleXY",{get:function(){return this.layoutDef.scaleXY},set:function(t){this.layoutDef.scaleXY=l.Mathf.parseNumber(t);this.refresh()},enumerable:true,configurable:true});r.prototype.updateData=function(t,e){var A;var i="l";if(l.ScrFix.isP){i="p"}if(l.ScrFix.isIPX){A=this.layoutData[i+"ipx"]}else if(l.ScrFix.isPAD){A=this.layoutData[i+"pad"]}else if(l.ScrFix.isIPXM){A=this.layoutData[i+"ipxm"]}A[t]=e};r.prototype.refresh=function(){if(!this.inited)return;if(!this.enable)return;var t=this.layoutDef.clone();if(l.ScrFix.isP){t.merge(this.getData("p","def"));if(l.ScrFix.isIPX){t.merge(this.getData("def","ipx"));t.merge(this.getData("p","ipx"))}else if(l.ScrFix.isPAD){t.merge(this.getData("def","pad"));t.merge(this.getData("p","pad"))}else if(l.ScrFix.isIPXM){t.merge(this.getData("def","ipxm"));t.merge(this.getData("p","ipxm"))}}else{t.merge(this.getData("l","def"));if(l.ScrFix.isIPX){t.merge(this.getData("def","ipx"));t.merge(this.getData("l","ipx"))}else if(l.ScrFix.isPAD){t.merge(this.getData("def","pad"));t.merge(this.getData("l","pad"))}else if(l.ScrFix.isIPXM){t.merge(this.getData("def","ipxm"));t.merge(this.getData("l","ipxm"))}}this.useData(t)};r.prototype.useData=function(t){if(this.autoSize){this.gameObject.width=this.gameObject.parent.width;this.gameObject.height=this.gameObject.parent.height}for(var e=0,A=n;e<A.length;e++){var i=A[e];var o=t[i];if(o!=undefined&&(!isNaN(o)||typeof o==="string")){r.setLayout(this.gameObject,i,o)}}};r.prototype.parseData=function(t){if(t===undefined||t===null||t==="")return;var e=t.split(",");var A=new a;for(var i=0,o=e;i<o.length;i++){var r=o[i];var n=r.split(":");A[n[0]]=n[1]}return A};return r}(qc.Behaviour);l.Layout=t;qc.registerBehaviour("ps.Layout",t);t["__menu"]="Custom/Layout";var a=function(){function o(){}o.prototype.clone=function(){var t=new o;for(var e=0,A=n;e<A.length;e++){var i=A[e];if(this[i]!=undefined)t[i]=this[i]}return t};o.prototype.merge=function(t){if(t){var e=Object.keys(t);for(var A=0,i=e;A<i.length;A++){var o=i[A];this[o]=t[o]}}};return o}();l.LayoutData=a})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(n){var t=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e.life=1e3;e.lifeVar=0;e.endClear=false;e.interval=100;e.intervalVar=0;e.duration=500;e.durationVar=0;e.startScale=1;e.startScaleVar=0;e.endScale=1;e.endScaleVar=0;e.startAlpha=1;e.startAlphaVar=0;e.endAlpha=1;e.endAlphaVar=0;e.startRotation=0;e.startRotationVar=0;e.endRotation=0;e.endRotationVar=0;e.endLife=false;e.nodePool=[];e.currNodes=[];e.currLife=0;e.serializableFields={texture:qc.Serializer.TEXTURE,target:qc.Serializer.NODE,life:qc.Serializer.NUMBER,lifeVar:qc.Serializer.NUMBER,endClear:qc.Serializer.BOOLEAN,interval:qc.Serializer.NUMBER,intervalVar:qc.Serializer.NUMBER,duration:qc.Serializer.NUMBER,durationVar:qc.Serializer.NUMBER,startPointVar:qc.Serializer.POINT,endPointVar:qc.Serializer.POINT,startScale:qc.Serializer.NUMBER,startScaleVar:qc.Serializer.NUMBER,endScale:qc.Serializer.NUMBER,endScaleVar:qc.Serializer.NUMBER,startAlpha:qc.Serializer.NUMBER,startAlphaVar:qc.Serializer.NUMBER,endAlpha:qc.Serializer.NUMBER,endAlphaVar:qc.Serializer.NUMBER,startRotation:qc.Serializer.NUMBER,startRotationVar:qc.Serializer.NUMBER,endRotation:qc.Serializer.NUMBER,endRotationVar:qc.Serializer.NUMBER};e.runInEditor=true;return e}t.prototype.awake=function(){var t=this;this.nodePool=this.nodePool.concat(this.gameObject.children);this.gameObject.removeChildren();var e=this.life;if(e>0&&this.lifeVar!==0){var A=n.Random.round(-this.lifeVar,this.lifeVar);var i=e+A;if(i>0){e=i}}this.currLife=e;if(this.endLifeTime){n.timer.remove(this.endLifeTime)}if(this.currLife>0){this.endLifeTime=n.timer.once(this.currLife,function(){return t.endLife=true})}};t.prototype.refresh=function(){this.destroyAllNode();this.endLife=false;this.lastCreateTime=null;this.nodePool=[];this.currNodes=[];this.awake();this.enable=true};t.prototype.update=function(){if(this.endLife){if(this.endClear){this.destroyAllNode()}this.enable=false;return}var t=this.game.time.now;var e=this.interval+n.Random.round(-this.intervalVar,this.intervalVar);if(this.lastCreateTime!=void 0){if(t-this.lastCreateTime<e){return}}this.lastCreateTime=t;this.createNode()};t.prototype.createNode=function(){if(this.endLife){return}var t=this.nodePool.length>0?this.nodePool.shift():new qc.UIImage(this.game);t.pivotX=.5;t.pivotY=.5;t.texture=this.texture;this.currNodes.push(t);this.gameObject.addChild(t);var e=new qc.Point(0,0);if(this.startPointVar){e.x+=n.Random.round(-this.startPointVar.x,this.startPointVar.x);e.y+=n.Random.round(-this.startPointVar.y,this.startPointVar.y)}t.x=e.x;t.y=e.y;var A=this.startScale;if(this.startScaleVar!=void 0){A+=n.Random.range(-this.startScaleVar,this.startScaleVar)}t.scaleX=t.scaleY=A;var i=this.startAlpha;if(this.startAlphaVar!=void 0){i+=n.Random.range(-this.startAlphaVar,this.startAlphaVar)}t.alpha=i;var o=this.startRotation;if(this.startRotationVar!=void 0){o+=n.Random.range(-this.startRotationVar,this.startRotationVar)}t.rotation=o;this.startNode(t)};t.prototype.startNode=function(t){if(this.endLife){return}if(!t||!t.parent){return}var e=this.target.getWorldPosition();e=t.parent.toLocal(e);if(this.endPointVar){e.x+=n.Random.round(-this.endPointVar.x,this.endPointVar.x);e.y+=n.Random.round(-this.endPointVar.y,this.endPointVar.y)}var A=this.duration+n.Random.round(-this.durationVar,this.durationVar);var i=this.endScale;if(this.endScaleVar!=void 0){i+=n.Random.range(-this.endScaleVar,this.endScaleVar)}var o=this.endAlpha;if(this.endAlphaVar!=void 0){o+=n.Random.range(-this.endAlphaVar,this.endAlphaVar)}var r=this.endRotation;if(this.endRotationVar!=void 0){r+=n.Random.range(-this.endRotationVar,this.endRotationVar)}t["moveTw1"]=n.Tween.to(t,{x:e.x},A,void 0,0,true);t["moveTw2"]=n.Tween.to(t,{y:e.y,scale:i,alpha:o,rotation:r},A);t["moveTw2"].onComplete.addOnce(this.removeNode,this,void 0,t);t["moveTw2"].start()};t.prototype.removeNode=function(t){if(t["moveTw1"]){n.Tween.clear(t["moveTw1"])}if(t["moveTw2"]){n.Tween.clear(t["moveTw2"]);t["moveTw2"].onComplete.remove(this.removeNode,this);t["moveTw2"].stop()}t.removeSelf();this.nodePool.push(t)};t.prototype.destroyAllNode=function(){var e=this;this.gameObject.removeChildren();this.currNodes.forEach(function(t){if(t["moveTw1"]){n.Tween.clear(t["moveTw1"])}if(t["moveTw2"]){n.Tween.clear(t["moveTw2"]);t["moveTw2"].onComplete.remove(e.removeNode,e);t["moveTw2"].stop()}t.destroy()});this.currNodes=null;this.nodePool.forEach(function(t){return t.destroy()});this.nodePool=null};return t}(n.Behaviour);n.MoveParticle=t;qc.registerBehaviour("ps.MoveParticle",t);t["__menu"]="Custom/MoveParticle"})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(t){var e=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e.actionNames={};e.defActionName="";e.defPlay=true;e.defLoop=false;e.pingpong=false;e.isReverse=false;e.playTime=-1;e.mcData={};e.interval=100;e.isPlaying=false;e.autoDestory=false;e.serializableFields={path:qc.Serializer.STRING,interval:qc.Serializer.NUMBER,actionNames:qc.Serializer.MAPPING,defActionName:qc.Serializer.STRING,defPlay:qc.Serializer.BOOLEAN,defLoop:qc.Serializer.BOOLEAN,autoDestory:qc.Serializer.BOOLEAN,data:qc.Serializer.MAPPING,pingpong:qc.Serializer.BOOLEAN};e.runInEditor=true;return e}t.prototype.initData=function(){for(var t in this.actionNames){if(this.path!=undefined||this.path!=""){var e=this.actionNames[t];var A=this.path+"/"+t+"{0}.bin";var i=new a(t,e,A)}else{var o=this.actionNames[t];var r=o.split("|");var i=new a(t,r[1],r[0])}this.mcData[t]=i}for(var n in this.data){var o=this.data[n];var r=o.split(",");var i=new a(n,r.length,r);this.mcData[n]=i}};t.prototype.awake=function(){this.initData();if(this.defPlay&&this.mcData[this.defActionName]){this.gotoAndPlay(this.defActionName,this.defLoop?-1:1,undefined,undefined,this.pingpong)}else if(this.mcData[this.defActionName]){this.gotoAndStop(this.defActionName,1)}};t.prototype.setActions=function(t){this.stop();for(var e in t){var A=t[e];var i=new a(e,A.length,A);this.mcData[e]=i}};Object.defineProperty(t.prototype,"img",{get:function(){return this.gameObject},enumerable:false,configurable:true});t.prototype.setTexture=function(e){var A=this;var t=this.game.assets.find(e);if(!t){this.game.assets.load(e,e,function(){var t=A.game.assets.find(e);A.img.texture=t;A.img.resetNativeSize()})}else{this.img.texture=t;this.img.resetNativeSize()}};t.prototype.gotoAndPlay=function(t,e,A,i,o,r,n){if(t===void 0){t=this.defActionName}if(e===void 0){e=-1}if(A===void 0){A=null}if(i===void 0){i=null}if(o===void 0){o=false}if(r===void 0){r=1}if(n===void 0){n=1}this.callback=A;this.context=i;this.currentFrameName=t;this.playTime=e;this.currentData=this.mcData[t];if(this.currentData){this.nextUpdateTime=this.game.time.scaledTime+this.interval;this.currentData.direct=n;this.currentData.pingpong=o;this.frameIndex=r;var a=this.currentData.getPngName(this.frameIndex);this.setTexture(a);this.isPlaying=true}};t.prototype.gotoAndStop=function(t,e){if(t===void 0){t=this.defActionName}if(e===void 0){e=1}if(this.isPlaying){this.isPlaying=false}this.currentFrameName=t;this.currentData=this.mcData[t];this.frameIndex=e;if(this.currentData){var A=this.currentData.getPngName(this.frameIndex);this.setTexture(A)}};t.prototype.stop=function(){if(this.isPlaying){this.isPlaying=false}};t.prototype.resume=function(){if(!this.isPlaying){this.isPlaying=true;this.nextUpdateTime=this.game.time.scaledTime+this.interval}};t.prototype.dispatch=function(){if(this.callback){this.callback.call(this.context,this)}this.callback=null;this.context=null;if(this.autoDestory&&qici.config.editor==false){this.gameObject.destroy()}};t.prototype.updateFrame=function(){this.nextUpdateTime+=this.interval;if(this.isReverse&&this.frameIndex<=1){this.stop();this.dispatch();return}this.frameIndex+=this.currentData.direct;if(this.frameIndex>this.currentData.frameCnt){if(this.currentData.direct==1&&this.currentData.pingpong){this.frameIndex-=2;if(this.frameIndex<=0)this.frameIndex=1;this.currentData.direct=-1}else{this.frameIndex=1}if(this.playTime==-1){}else if(!this.currentData.pingpong){this.playTime--;if(this.playTime==0){this.stop();this.dispatch();return}}}else if(this.frameIndex<1){if(this.currentData.direct==-1&&this.currentData.pingpong){this.frameIndex=1;this.currentData.direct=1}this.playTime--;if(this.playTime==0){this.stop();this.dispatch();return}}var t=this.currentData.getPngName(this.frameIndex);this.setTexture(t)};t.prototype.onDestroy=function(){this.context=null;this.callback=null;this.actionNames=null;this.mcData=null};t.prototype.update=function(){if(this.isPlaying){while(this.game.time.scaledTime>=this.nextUpdateTime){this.updateFrame();if(!this.isPlaying){break}}}};return t}(qc.Behaviour);t.MovieClip=e;qc.registerBehaviour("ps.MovieClip",e);e["__menu"]="Custom/MovieClip";var a=function(){function t(t,e,A,i){if(i===void 0){i=false}this.action="1";this.direct=1;this.pingpong=i;this.action=t;this.frameCnt=e;if(typeof A=="string"){this.frameName=A}else{this.frameNames=A}}t.prototype.getPngName=function(t){if(this.frameNames){return this.frameNames[t-1]}else{return this.frameName.replace("{0}",t.toString())}};return t}();t.McData=a})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(c){var t=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e.curNum=0;e.addNum=0;e.chgInterval=5;e.chgCount=30;e.maxNum=9999;e.roundCnt=0;e.isComma=false;e.serializableFields={curNum:qc.Serializer.NUMBER,addNum:qc.Serializer.NUMBER,chgInterval:qc.Serializer.NUMBER,chgCount:qc.Serializer.NUMBER,maxNum:qc.Serializer.NUMBER,roundCnt:qc.Serializer.INT,isComma:qc.Serializer.BOOLEAN};e.playDelay=[];e.playing=false;e.roundCnt=Math.abs(e.roundCnt);e.runInEditor=true;return e}t.prototype.awake=function(){this.curNum=c.Mathf.keepDecimal(this.curNum,this.roundCnt);this.gameObject.text=c.Tools.switchNum(this.curNum,this.isComma)};t.prototype.refresh=function(t){if(this.playing){return}if(t!=void 0){this.addNum=t}this.awake();this.playNum()};t.prototype.playNum=function(){var n=this;if(!this.addNum){return}var a=function(){n.updateRender(n.curNum);n.playing=false};var t=function(){while(n.playDelay&&n.playDelay.length){n.game.timer.remove(n.playDelay.shift())}};var A=function(t){var e=t-s;var A=n.chgCount;var i=c.Mathf.keepDecimal(e/A,n.roundCnt);var o=0;var r=function(){if(n.playStop){return}n.playDelay[n.playDelay.length]=n.game.timer.add(n.chgInterval,function(){if(n.playStop){return}if(o==A-1){a.call(n);return}else{n.updateRender(s+=i)}o++;r()})};r()};var e=function(){var t;var e;if(n.curNum>s){t=n.curNum;e=s}else{t=s;e=n.curNum}n.playStop=false;n.playing=true;A(n.curNum)};if(this.playing){this.playStop=true;t.call(this);a.call(this)}var s=this.curNum;this.curNum+=this.addNum;e()};t.prototype.updateRender=function(t){if(t>this.curNum){return}t=Math.min(t,this.maxNum);t=c.Mathf.keepDecimal(t,this.roundCnt);this.gameObject.text=c.Tools.switchNum(t,this.isComma)};return t}(c.Behaviour);c.NumScroll=t;qc.registerBehaviour("ps.NumScroll",t);t["__menu"]="Custom/NumScroll"})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ParabolaEvent;(function(t){t["THROW_START"]="throwStart"})(ParabolaEvent||(ParabolaEvent={}));var ParabolaType;(function(t){t[t["JOYSTICK"]=0]="JOYSTICK";t[t["MOUSE_UP"]=1]="MOUSE_UP";t[t["TIME_LOOP"]=2]="TIME_LOOP"})(ParabolaType||(ParabolaType={}));var ps;(function(s){var t=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e.articleScale=1;e.gravity=0;e.parabolaAuto=false;e.parabolaInterval=1e3;e.parabolaTimeMin=0;e.parabolaLittleTime=0;e._parabolaType=ParabolaType.JOYSTICK;e.speedX=2;e.speedY=-2;e.speedMin={x:1,y:-5};e.speedMax={x:3,y:-3};e.color=new qc.Color([255,0,0]);e.articleParabola=[];e.articlePool=[];e.shapes=[];e.eventDisp=new s.EventDispatcher;e.serializableFields={articleTexture:qc.Serializer.TEXTURE,articleScale:qc.Serializer.NUMBER,gravity:qc.Serializer.NUMBER,speedX:qc.Serializer.NUMBER,speedY:qc.Serializer.NUMBER,parabolaAuto:qc.Serializer.BOOLEAN,parabolaParent:qc.Serializer.NODE,parabolaInterval:qc.Serializer.NUMBER,parabolaTimeMin:qc.Serializer.NUMBER,parabolaLittleTime:qc.Serializer.NUMBER,_parabolaType:qc.Serializer.NUMBER};e.startPos=new qc.Point;return e}t.prototype.awake=function(){this.awaked=true;this.initParabolaType();this.refresh()};t.prototype.update=function(){if(this.parabolaType===ParabolaType.JOYSTICK){return}this.updateWeapon()};t.prototype.refresh=function(){this.gameObject.children.forEach(function(t){if(t){if(t.clear){t.clear()}t.destroy()}});this.shapes=[];this.createArticle()};Object.defineProperty(t.prototype,"parabolaType",{get:function(){return this._parabolaType},set:function(t){if(t!=void 0){this._parabolaType=t}this.initParabolaType()},enumerable:true,configurable:true});t.prototype.initParabolaType=function(){if(!this.awaked){return}main.gameEvent.remove(JoystickEvent.ON_DOWN,this.chgAngle,this);main.gameEvent.remove(JoystickEvent.ON_DRAG,this.chgAngle,this);main.gameEvent.remove(JoystickEvent.ON_UP,this.joystickUp,this);if(this.parabolaTimer){this.game.timer.remove(this.parabolaTimer)}switch(this.parabolaType){case ParabolaType.JOYSTICK:main.gameEvent.add(JoystickEvent.ON_DOWN,this.chgAngle,this);main.gameEvent.add(JoystickEvent.ON_DRAG,this.chgAngle,this);main.gameEvent.add(JoystickEvent.ON_UP,this.joystickUp,this);break;case ParabolaType.MOUSE_UP:break;case ParabolaType.TIME_LOOP:this.parabolaTimer=this.game.timer.add(this.parabolaInterval,this.timeFinish,this);break}};t.prototype.joystickUp=function(){if(this.parabolaType!==ParabolaType.JOYSTICK){return}this.throwStart()};t.prototype.mouseUp=function(){if(this.parabolaType!==ParabolaType.MOUSE_UP){return}this.createArticle();this.throwStart()};t.prototype.timeFinish=function(){if(this.parabolaType!==ParabolaType.TIME_LOOP){return}if(this.parabolaTimer){this.game.timer.remove(this.parabolaTimer)}this.createArticle();if(this.throwStart()){this.parabolaInterval-=this.parabolaLittleTime;this.parabolaInterval=Math.max(this.parabolaInterval,this.parabolaTimeMin)}this.parabolaTimer=this.game.timer.add(this.parabolaInterval,this.timeFinish,this)};t.prototype.updateWeapon=function(){var t=5;for(var e=0,A=true;e<this.articleParabola.length;A?e++:e){A=true;var i=this.articleParabola[e];if(!i.parent){continue}if(i["shooted"]){continue}for(var o=0;o<t;o++){i.x+=i["speedX"];i.y+=i["speedY"];i["speedY"]+=i["gravity"];var r=i.parent.toGlobal(new qc.Point(i.x,i.y));if(r.x+i.width*i.scaleX>=s.ScrFix.width/s.ScrFix.scale||r.y+i.height*i.scaleY>=s.ScrFix.height/s.ScrFix.scale||r.x-i.width*i.scaleX<=-s.ScrFix.width/s.ScrFix.scale||r.y-i.height*i.scaleY<=-s.ScrFix.height/s.ScrFix.scale){A=false;this.article.removeSelf();this.articlePool.push(i);this.articleParabola.splice(e,1);break}}var n=Math.atan2(i["speedY"],i["speedX"]);var a=n+90*Math.PI/180;i.rotation=a}};t.prototype.createArticle=function(){if(this.articleTexture&&!this.gameObject.getChildByName("article")){var t=void 0;while(!t&&this.articlePool&&this.articlePool.length>0){t=this.articlePool.shift()}if(!t){t=new qc.UIImage(this.game,this.gameObject)}this.article=t;this.article.texture=this.articleTexture;this.article.resetNativeSize();this.article.pivotX=.5;this.article.pivotY=.5;this.article.scaleX=this.article.scaleY=this.articleScale;this.gameObject.setChildIndex(this.article,0);this.article.name="article"}};t.prototype.throwStart=function(){if(!this.article){return}this.article["speedX"]=this.speedX;this.article["speedY"]=this.speedY;this.article["gravity"]=this.gravity;if(this.parabolaAuto){this.addParabola(this.article)}this.eventDisp.dispatch(ParabolaEvent.THROW_START,this.article,this.speedX,this.speedY,this.gravity);return true};t.prototype.addParabola=function(t){if(!t){return}if(!t.parent){return}if(t["shooted"]){return}var e=this.parabolaParent;if(!e){return}var A=t.parent.toGlobal(new qc.Point(t.x,t.y));A=e.toLocal(A);e.addChild(t);t.x=A.x;t.y=A.y;this.articleParabola.push(t)};t.prototype.chgAngle=function(t,e,A,i,o,r,n,a){var s=o-r;if(i>s){i=s}var c=Math.max(t/(s/2),-.48);var h=1-e/(s/2);this.speedX=this.speedMin.x+(this.speedMax.x-this.speedMin.x)*c;this.speedY=this.speedMax.y+(this.speedMin.y-this.speedMax.y)*h;if(this.parabolaType!==ParabolaType.TIME_LOOP){this.drawPath()}this.chgArticle()};t.prototype.chgArticle=function(t,e){var A;if(t!=void 0&&e!=void 0){var i=this.gameObject.parent.toGlobal(new qc.Point(this.gameObject.x,this.gameObject.y));var o=new qc.Point(t,e);var r=Math.abs(o.x-i.x);var n=Math.abs(o.y-i.y);A=Math.atan2(o.y-i.y,o.x-i.x)}else{A=Math.atan2(this.speedY,this.speedX)}this.createArticle();if(this.article){this.article.rotation=A+90*Math.PI/180}};t.prototype.drawPath=function(t,e){var A=this.gravity;var i=this.speedX;var o=this.speedY;var r=this.startPos.x;var n=this.startPos.y;var a=0;var s=new qc.Point(this.startPos.x,this.startPos.y);var c=new qc.Point(0,0);var h=0;while(true){r+=i;n+=o;o+=A;c.x=r;c.y=n;if(s.distance(c)>20){s.x=c.x;s.y=c.y;var l=this.getGraphics(a);l.x=r;l.y=n;h++;l.alpha=1;this.gameObject.addChild(l);a++;if(a>=35){break}if(l.y>this.startPos.y){break}}}for(var u=h;u<this.shapes.length;u++){this.shapes[u].visible=false}var p=0;for(var u=this.shapes.length-1;u>=0;u--){var l=this.shapes[u];if(!l.visible){continue}this.shapes[u].alpha=.2+p*.2;if(p>=4){break}p++}};t.prototype.getGraphics=function(t){if(this.shapes.length<=t){var e=new qc.Graphics(this.game,void 0);e.beginFill(this.color.toNumber(),1);e.drawCircle(0,0,6);e.endFill();this.shapes[t]=e}this.shapes[t].visible=true;return this.shapes[t]};return t}(s.Behaviour);s.Parabola=t;qc.registerBehaviour("ps.Parabola",t);t["__menu"]="Custom/Parabola"})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(t){var e;(function(t){var e=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e.autoPlay=false;e.gravityX=0;e.gravityY=0;e.particles=[];e.playTime=1e3;e.createInterval=100;e.particleLife=3e3;e.particleLifeFloating=500;e.speedX=-1;e.speedXFloating=2;e.speedY=-2;e.speedYFloating=-2;e.scale=.6;e.scaleFloating=.6;e.rotationSpeed=0;e.rotationSpeedFloating=0;e.startX=0;e.startXFloating=0;e.startY=0;e.startYFloating=0;e.imgs=[];e.serializableFields={particles:qc.Serializer.TEXTURES,autoPlay:qc.Serializer.BOOLEAN,playTime:qc.Serializer.NUMBER,startX:qc.Serializer.NUMBER,startXFloating:qc.Serializer.NUMBER,startY:qc.Serializer.NUMBER,startYFloating:qc.Serializer.NUMBER,particleLife:qc.Serializer.NUMBER,particleLifeFloating:qc.Serializer.NUMBER,speedX:qc.Serializer.NUMBER,speedXFloating:qc.Serializer.NUMBER,speedY:qc.Serializer.NUMBER,speedYFloating:qc.Serializer.NUMBER,scale:qc.Serializer.NUMBER,scaleFloating:qc.Serializer.NUMBER,rotationSpeed:qc.Serializer.NUMBER,rotationSpeedFloating:qc.Serializer.NUMBER,createInterval:qc.Serializer.NUMBER,gravityX:qc.Serializer.NUMBER,gravityY:qc.Serializer.NUMBER};return e}t.prototype.awake=function(){if(this.autoPlay){console.log("开始播放粒子");this.play(this.playTime)}};t.prototype.play=function(t){if(t===void 0){t=-1}if(this.t){qc_game.timer.remove(this.t)}if(this.t2){qc_game.timer.remove(this.t2)}this.t=null;this.t2=null;if(t>0){this.t2=qc_game.timer.add(t,this.stop,this)}this.t=qc_game.timer.loop(this.createInterval,this.creates,this)};t.prototype.stop=function(t){if(t===void 0){t=false}if(t){for(var e=0;e<this.imgs.length;e++){var A=this.imgs[e];A.destroy()}this.imgs.length=0}if(this.t){qc_game.timer.remove(this.t)}if(this.t2){qc_game.timer.remove(this.t2)}this.t=null;this.t2=null};t.prototype.creates=function(){var t=new i(qc_game,this.gameObject);var e=Math.floor(Math.random()*this.particles.length);t.texture=this.particles[e];t.x=this.startX+Math.random()*this.startXFloating;t.y=this.startY+Math.random()*this.startYFloating;t.pivotX=t.pivotY=.5;t.createTime=qc_game.time.scaledTime;t.speedX=this.speedX+Math.random()*this.speedXFloating;t.speedY=this.speedY+Math.random()*this.speedYFloating;t.resetNativeSize();t.scaleX=t.scaleY=this.scale+Math.random()*this.scaleFloating;t.life=this.particleLife+Math.random()*this.particleLifeFloating;t.rotationSpeed=this.rotationSpeed+Math.random()*this.rotationSpeedFloating;this.imgs.push(t)};t.prototype.update=function(){var t=qc_game.time.scaledTime;for(var e=0;e<this.imgs.length;e++){var A=this.imgs[e];A.speedY+=this.gravityY;A.speedX+=this.gravityX;A.x+=A.speedX;A.y+=A.speedY;A.rotation+=A.rotationSpeed/180*Math.PI;if(A.createTime+A.life<t){A.destroy();this.imgs.splice(e,1);e--}}};t.prototype.onDestroy=function(){for(var t=0;t<this.imgs.length;t++){var e=this.imgs[t];e.destroy()}if(this.t){qc_game.timer.remove(this.t)}if(this.t2){qc_game.timer.remove(this.t2)}this.t=null;this.t2=null;this.imgs=null};return t}(qc.Behaviour);t.ParticleRain=e;qc.registerBehaviour("ps.particle.ParticleRain",e);e["__menu"]="Custom/ParticleRain";var i=function(i){__extends(t,i);function t(t,e){var A=i.call(this,t,e)||this;A.speedX=0;A.speedY=0;A.createTime=0;A.life=0;A.rotationSpeed=0;return A}return t}(qc.UIImage);t.ParticleImage=i})(e=t.particle||(t.particle={}))})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var RandomStart=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e.interval=300;e.scaleMin=1;e.scaleMax=1;e.serializableFields={startSkin:qc.Serializer.TEXTURE,interval:qc.Serializer.NUMBER,scaleMin:qc.Serializer.NUMBER,scaleMax:qc.Serializer.NUMBER};return e}t.prototype.awake=function(){};t.prototype.onStart=function(){var o=this;qc_game.timer.loop(this.interval,function(){var t=qc_game.add.image();t.texture=o.startSkin;o.gameObject.addChild(t);var e=ps.Random.range(0,1334);var A=ps.Random.range(0,1334);var i=ps.Random.range(o.scaleMin,o.scaleMax);t.x=e;t.y=A;t.scaleX=i;t.scaleY=i;ps.Tween.glint(t,500);qc_game.timer.add(1800,function(){ps.Tween.to(t,{alpha:0},500,undefined,0).onComplete.addOnce(function(){o.gameObject.removeChild(t)})})})};return t}(ps.Behaviour);qc.registerBehaviour("RandomStart",RandomStart);var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(e){var t=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e.active=true;e.toInstall=false;e.autoHide=true;e.serializableFields={active:qc.Serializer.BOOLEAN,toInstall:qc.Serializer.BOOLEAN,autoHide:qc.Serializer.BOOLEAN};e.gameObject.interactive=true;return e}t.prototype.awake=function(){this.updateStatus()};t.prototype.onUp=function(){if(!this.active)return;if(GAME_CFG.playAgain>0){e.retry();GAME_CFG.playAgain--;this.updateStatus()}else if(this.toInstall){e.install()}};t.prototype.updateStatus=function(){if(this.autoHide)this.gameObject.visible=GAME_CFG.playAgain>0};return t}(qc.Behaviour);e.RetryBtn=t;qc.registerBehaviour("ps.RetryBtn",t);t["__menu"]="Btn/Retry"})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(t){var e=function(e){__extends(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t.awakeCode="";t.onStartCode="";t.onDownCode="";t.onEndCode="";t.serializableFields={awakeCode:qc.Serializer.STRING,onStartCode:qc.Serializer.STRING,onDownCode:qc.Serializer.STRING,onEndCode:qc.Serializer.STRING};return t}t.prototype.awake=function(){new Function(this.awakeCode).bind(this)();if(this.onDownCode!="")this.gameObject.interactive=true};t.prototype.onStart=function(){new Function(this.onStartCode).bind(this)()};t.prototype.onDown=function(){new Function(this.onDownCode).bind(this)()};t.prototype.onEnd=function(t){new Function("result",this.onEndCode).bind(this)(t)};return t}(t.Behaviour);t.RunCode=e;qc.registerBehaviour("ps.RunCode",e);e["__menu"]="Custom/RunCode"})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ScrollBackground=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e.velocity=10;e.serializableFields={velocity:qc.Serializer.NUMBER};return e}t.prototype.onInit=function(){this.actualHeight=this.gameObject.height*this.gameObject.scaleY;var t=Math.ceil(1334/this.actualHeight);this.extendNum=t;t--;while(t>0){var e=new qc.UIImage(this.game,this.gameObject);e.width=this.gameObject.width;e.height=this.gameObject.height;e.texture=this.gameObject.texture;this.gameObject.addChild(e);e.y=e.height*t;t--}this._scrollBackground=this.game.add.clone(this.gameObject);this.gameObject.parent.setChildIndex(this._scrollBackground,this.gameObject.parent.getChildIndex(this.gameObject));this._scrollBackground.y=this.actualHeight*(this.velocity>0?-1:1)*this.extendNum};t.prototype.onStart=function(){};t.prototype.onEnd=function(){};t.prototype.onRetry=function(){};t.prototype.update=function(){this.updatePosition(this.gameObject,this._scrollBackground)};t.prototype.updatePosition=function(t,e){if(!t||!e)return;if(this.velocity===void 0)return;this.checkOutOfScreen(t);this.checkOutOfScreen(e);t.y+=this.velocity;e.y+=this.velocity};t.prototype.checkOutOfScreen=function(t){if(t.y>=this.actualHeight*this.extendNum&&this.velocity>0){t.y=-this.actualHeight*this.extendNum}if(t.y<=-this.actualHeight*this.extendNum&&this.velocity<0){t.y=this.actualHeight*this.extendNum}};return t}(ps.Behaviour);qc.registerBehaviour("ScrollBackground",ScrollBackground);var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(A){var t=function(e){__extends(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t.action=1;t.serializableFields={action:qc.Serializer.NUMBER};return t}t.prototype.awake=function(){var t=this;this.gameObject.interactive=true;this.gameObject.onDown.addOnce(function(){A.sendAction(t.action)})};return t}(A.Behaviour);A.SendAction=t;qc.registerBehaviour("ps.SendAction",t);t["__menu"]="Custom/SendAction"})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(e){var t=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e.duaringTime=.5;e.maxDis=10;e.count=0;e.rate=20;e.isShaking=false;e.playOnAwake=false;e.serializableFields={playOnAwake:qc.Serializer.BOOLEAN,duaringTime:qc.Serializer.NUMBER,maxDis:qc.Serializer.NUMBER,rate:qc.Serializer.NUMBER};return e}t.prototype.awake=function(){if(this.playOnAwake){this.play()}};t.prototype.play=function(t,e,A){if(this.isShaking){this.shakeComplete()}if(t!=undefined){this.duaringTime=t}if(e!=undefined){this.rate=e}if(A!=undefined){this.maxDis=A}this.isShaking=true;this.initX=this.gameObject.x;this.initY=this.gameObject.y;this.count=this.duaringTime*this.rate;var i=1e3/this.rate;this.evt=qc_game.timer.loop(i,this.shaking,this)};t.prototype.stop=function(){if(this.isShaking){this.shakeComplete()}};t.prototype.shaking=function(){this.count--;if(this.count==-1){this.shakeComplete();return}this.gameObject.x=this.initX-this.maxDis+Math.random()*this.maxDis*2;this.gameObject.y=this.initY-this.maxDis+Math.random()*this.maxDis*2;e.Tween.to(this.gameObject,{x:this.initX,y:this.initY},999/this.rate)};t.prototype.shakeComplete=function(){this.isShaking=false;qc_game.timer.remove(this.evt);this.gameObject.x=this.initX;this.gameObject.y=this.initY};t.prototype.onDestroy=function(){this.stop()};t.prototype.update=function(){};return t}(qc.Behaviour);e.Shake=t;qc.registerBehaviour("ps.Shake",t);t["__menu"]="Custom/Shake"})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(e){var t=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e.playOnAwake=true;e.loop=false;e.speed=1;e.delay=0;e.isGameStart=0;e.isplayed=0;e.serializableFields={playOnAwake:qc.Serializer.BOOLEAN,loop:qc.Serializer.BOOLEAN,animationName:qc.Serializer.STRING,speed:qc.Serializer.NUMBER,delay:qc.Serializer.NUMBER};return e}t.prototype.awake=function(){if(this.playOnAwake&&this.gameObject.visible)this.play()};t.prototype.onStart=function(){};t.prototype.update=function(){};t.prototype.onEnd=function(){};t.prototype.onSceneChange=function(t){};t.prototype.play=function(){this.gameObject.visible=false;this.isplayed=true;if(e.ScrFix.isP){if(this.gameObject.animationNameList.indexOf("shu")!=-1){this.gameObject.playAnimation("shu",this.speed,this.loop)}else{this.gameObject.playAnimation(this.animationName,this.speed,this.loop)}}else{if(this.gameObject.animationNameList.indexOf("heng")!=-1){this.gameObject.playAnimation("heng",this.speed,this.loop)}else{this.gameObject.playAnimation(this.animationName,this.speed,this.loop)}}this.game.timer.add(10,function(){this.gameObject.visible=true},this)};t.prototype.onResize=function(){if(!this.gameObject.visible||!e.hasStart)return;this.play()};return t}(e.Behaviour);e.SKPlayer=t;qc.registerBehaviour("ps.SKPlayer",t);t["__menu"]="Custom/SKPlayer"})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(e){var t=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e.serializableFields={};return e}t.prototype.awake=function(){this.gameObject.interactive=true};t.prototype.onDown=function(){e.Tween.hideAlpha(e.start,300,0,"remove");e.mainState.start()};return t}(e.Behaviour);e.StartBtn=t;qc.registerBehaviour("ps.StartBtn",t);t["__menu"]="Btn/StartBtn"})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(e){var t=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e.serializableFields={};e.gameObject.interactive=true;return e}t.prototype.onDown=function(){e.Print.red("游戏未开始,请调用gameStart()")};return t}(e.Behaviour);e.TouchMask=t;qc.registerBehaviour("ps.TouchMask",t);t["__menu"]="Custom/TouchMask"})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var JoystickType;(function(t){t[t["FIX"]=0]="FIX";t[t["GLOBAL"]=1]="AUTO"})(JoystickType||(JoystickType={}));var ps;(function(i){var t;(function(t){var e=function(A){__extends(s,A);function s(t){var e=A.call(this,t)||this;e.autoInit=false;e.isWake=false;e._showType=JoystickType["FIX"];e.hide=false;e.controlTarget=null;e.baseSpeed=1;e.serializableFields={ball:qc.Serializer.NODE,autoInit:qc.Serializer.BOOLEAN,_showType:qc.Serializer.NUMBER,hide:qc.Serializer.BOOLEAN,controlTarget:qc.Serializer.NODE,baseSpeed:qc.Serializer.NUMBER};e.radius=t.width/2;e.signal=new qc.Signal;return e}s.prototype.createGui=function(){var t=this;return{_showType:{title:"遥杆显示类型",component:"select",field:{options:[{label:"固定",value:JoystickType["FIX"]},{label:"全局",value:JoystickType["GLOBAL"]}]}},autoInit:{title:"启用",component:"switch"},hide:{title:"隐藏",component:"switch"},controlTarget:{title:"控制目标",component:"node"},baseSpeed:{title:"控制速度",component:"input"}}};s.prototype.onDown=function(t){if(this.isWake==false){return}this.signal.dispatch(s.TOUCH_START);this.ballMove(t)};s.prototype.onDrag=function(t){if(this.isWake==false){return}this.ballMove(t)};s.prototype.onDragEnd=function(){this.onBallDragEnd()};s.prototype.onInit=function(){if(this.hide){this.gameObject.alpha=0}if(this.autoInit){this.start()}};s.prototype.start=function(){if(this._showType===JoystickType["GLOBAL"]){this.initGlobalType()}this.isWake=true};s.prototype.initGlobalType=function(){var i=this;this.gameObject.visible=false;UIRoot.interactive=true;UIRoot.onDown.add(function(t,e){i.gameObject.visible=true;var A=i.gameObject.parent.toLocal(new qc.Point(e.source.x,e.source.y));i.gameObject.x=A.x;i.gameObject.y=A.y;i.onDown(e)});UIRoot.onUp.add(function(){i.gameObject.visible=false})};s.prototype.stop=function(){this.isWake=false;this.onBallDragEnd()};s.prototype.mouseDown=function(t,e){this.signal.dispatch(s.TOUCH_START)};s.prototype.ballMove=function(t){var e=t.source;var A=e.x;var i=e.y;var o=this.gameObject.toLocal(new Phaser.Point(A,i));var r=new Phaser.Point(this.radius,this.radius);var n=Phaser.Point.distance(o,r);var a=Math.atan2(o.y-r.y,o.x-r.x);if(n<=this.radius){this.ball.x=o.x;this.ball.y=o.y}else{this.ball.x=Math.cos(a)*this.radius+this.radius;this.ball.y=Math.sin(a)*this.radius+this.radius}this.moveTarget(e.deltaX,e.deltaY);this.signal.dispatch(s.UPDATE,a)};s.prototype.moveTarget=function(t,e){if(!this.controlTarget)return;this.controlTarget.x+=t*this.baseSpeed;this.controlTarget.y+=e*this.baseSpeed};s.prototype.onBallDragEnd=function(){this.ball.x=this.radius;this.ball.y=this.radius;this.signal.dispatch(s.TOUCH_END);i.mainState.dispatch(s.TOUCH_END)};s.prototype.onDestroy=function(){this.isWake=false;this.signal=null};s.prototype.update=function(){};s.TOUCH_START="VirtualJoystick_TOUCH_START";s.UPDATE="VirtualJoystick_UPDATE";s.TOUCH_END="VirtualJoystick_TOUCH_END";return s}(i.Behaviour);i.VirtualJoystick=e;qc.registerBehaviour("ps.virtual.VirtualJoystick",e);e["__menu"]="Custom/VirtualJoystick"})(t=i.virtual||(i.virtual={}))})(ps||(ps={}));function assetsBase64(){return window["assetsPackage"]}var _hasBase64=void 0;function hasBase64(){if(_hasBase64==void 0)_hasBase64=!ps.Tools.objIsNull(assetsBase64());return _hasBase64}var dco=0;var dcoConfig=void 0;var _getDcoConfiged=void 0;var args=["%c %c %c 已支持 DCO 功能 %c %c ","background: #6fbf64","background: #4aa23e","color: #ffffff; background: #0f7817;","background: #4aa23e","background: #6fbf64"];console.log.apply(console,args);function getDcoConfig(){if(_getDcoConfiged)return;_getDcoConfiged=true;var t=getQueryString("dco_gid");if(dco!=t){dco=t}if(window["HttpAPI"]&&!isSendDone){isSendDone=true;window["HttpAPI"].sendPoint("dco&cls="+dco)}if(hasBase64())dcoConfig=ps.Tools.strToJson(assetsBase64()["dco_config_json"])}var _hasDcoConfig=void 0;function hasDcoConfig(){if(_hasDcoConfig==void 0){getDcoConfig();_hasDcoConfig=!ps.Tools.objIsNull(dcoConfig)}return _hasDcoConfig}var dcoData=void 0;var _getDcoDataed=void 0;function getDcoData(){if(_getDcoDataed)return;_getDcoDataed=true;if(hasDcoConfig()){dcoData=dcoConfig[dco];if(ps.Tools.objIsNull(dcoData))dcoData=dcoConfig[Object.keys(dcoConfig)[0]]}}var _hasDcoData=void 0;function hasDcoData(){if(_hasDcoData==void 0){getDcoData();_hasDcoData=!ps.Tools.objIsNull(dcoData)}return _hasDcoData}var dcoRes=void 0;var _getDcoResed=void 0;function getDcoRes(){if(_getDcoResed)return;_getDcoResed=true;if(hasDcoData())dcoRes=dcoData["res"]}var _hasDcoRes=void 0;function hasDcoRes(){if(_hasDcoRes==void 0){getDcoRes();_hasDcoRes=!ps.Tools.objIsNull(dcoRes)}return _hasDcoRes}function getDcoKey(t){var e=t;if(hasDcoRes()&&dcoRes[t])e=dcoRes[t];return e}function getKeyByUrl(t){var e=t.split("/");t=e[e.length-1];var A=t.replace(".","_");return A}function getAssestByKey(t){if(hasBase64()){t=getDcoKey(t);return assetsBase64()[t]}return t}function getAssestByUrl(t){if(hasBase64()){var e=t.split("/");t=e[e.length-1];var A=t.replace(".","_");if(t.indexOf("mp4")>-1){t="data:video/mp4;base64,"+getAssestByKey(A)}else if(t.indexOf("ttf")>-1){t="data:font/ttf;base64,"+getAssestByKey(A)}else{t=getAssestByKey(A)}}return t}function basedecode(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var A=new Uint8Array(256);for(var i=0;i<e.length;i++){A[e.charCodeAt(i)]=i}var o=t.length*.75;var r=t.length;var n=0;var a=0;var s=0;var c=0;var h=0;if(t[t.length-1]==="="){o--;if(t[t.length-2]==="="){o--}}var l=new ArrayBuffer(o),u=new Uint8Array(l);for(var i=0;i<r;i+=4){a=A[t.charCodeAt(i)];s=A[t.charCodeAt(i+1)];c=A[t.charCodeAt(i+2)];h=A[t.charCodeAt(i+3)];u[n++]=a<<2|s>>4;u[n++]=(s&15)<<4|c>>2;u[n++]=(c&3)<<6|h&63}return l}var isSendDone=false;function getQueryString(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i");var A=window.location.search.substr(1).match(e);if(A)return A[2]}var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(r){var t=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e.rows=10;e.cols=10;e.editMode=true;e.isDrawAll=true;e.serializableFields={rows:qc.Serializer.NUMBER,cols:qc.Serializer.NUMBER,data:qc.Serializer.STRING,editMode:qc.Serializer.BOOLEAN,isDrawAll:qc.Serializer.BOOLEAN};return e}Object.defineProperty(t.prototype,"cellWidth",{get:function(){return this.gameObject.width/this.rows},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"cellHeight",{get:function(){return this.gameObject.height/this.cols},enumerable:true,configurable:true});t.prototype.awake=function(){var e=this;this.gameObject.alpha=.3;this.map=new r.AStarMap(this.rows,this.cols,0);if(this.data!=undefined&&this.data!=null&&this.data!=""){this.map.load(this.data)}if(!this.editMode)return;this.gameObject.interactive=true;this.drawAll();this.game.input.onKeyUp.add(function(t){if(t===83)e.map.save()});window["map"]=this};t.prototype.getPath=function(t,e,A,i){var o=this.map.searchRoad(t,e,A,i);if(this.editMode)this.drawPath(o);return o};t.prototype.onDown=function(t){var e=this.calRowCol(t),A=e[0],i=e[1];var o=this.map.get(A,i);if(o===undefined)return;this.drawV=o===1?0:1;this.setAndDraw(A,i)};t.prototype.onDrag=function(t){var e=this.calRowCol(t),A=e[0],i=e[1];this.setAndDraw(A,i)};t.prototype.calRowCol=function(t){var e=t.source;var A=this.gameObject.toGlobal(new qc.Point(0,0));var i=Math.floor((e.x-A.x)/this.cellWidth/r.ScrFix.scale);var o=Math.floor((e.y-A.y)/this.cellHeight/r.ScrFix.scale);return[i,o]};t.prototype.setAndDraw=function(t,e){var A=this.map.get(t,e);if(A===undefined)return;if(this.drawV===A)return;this.map.set(t,e,this.drawV);if(this.isDrawAll)this.drawAll();else this.drawOne(t,e,this.drawV);console.log(t,e)};t.prototype.drawAll=function(){var t=this.gameObject;t.clear();for(var e=0;e<this.rows;e++){for(var A=0;A<this.cols;A++){var i=this.map.get(e,A);this.drawOne(e,A,i)}}};t.prototype.drawPath=function(t){var e=this;t.forEach(function(t){e.drawOne(t.x,t.y,2)})};t.prototype.drawOne=function(t,e,A){var i=this.gameObject;var o=3407616;var r=16724736;var n=13311;var a;switch(A){case 0:a=o;break;case 1:a=r;break;case 2:a=n;break}i.beginFill(a);i.drawRect(t*this.cellWidth,e*this.cellHeight,this.cellWidth-1,this.cellHeight-1);i.endFill()};return t}(r.Behaviour);r.AStarComponent=t;qc.registerBehaviour("ps.AStarComponent",t);t["__menu"]="Custom/AStarComponent"})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var __spreadArrays=this&&this.__spreadArrays||function(){for(var t=0,e=0,A=arguments.length;e<A;e++)t+=arguments[e].length;for(var i=Array(t),o=0,e=0;e<A;e++)for(var r=arguments[e],n=0,a=r.length;n<a;n++,o++)i[o]=r[n];return i};function ObsoleteClass(n){return function t(r){return function(o){__extends(t,o);function t(){var t=[];for(var e=0;e<arguments.length;e++){t[e]=arguments[e]}var A=o.apply(this,t)||this;var i=r;if(ps.ENV==="DEBUG")console.error(i.name+" 已过时，请使用 "+n);return A}return t}(r)}}function ObsoleteMethod(r,n){return function(A,t,e){var i=A[t];var o=function(){var t=[];for(var e=0;e<arguments.length;e++){t[e]=arguments[e]}if(ps.ENV==="DEBUG")console.error(n+" 已过时，请使用 "+r);return i.call.apply(i,__spreadArrays([A],t))};e.value=o}}var ps;(function(t){function e(t){return qc.N(t)}t.find=e;function A(t,e){return qc_game.add.clone(t,e)}t.Instantiate=A;function i(e){var A=[];e.children.forEach(function(t){A.push(t)});A.sort(function(t,e){return e.y-t.y});A.forEach(function(t){e.setChildIndex(t,0)})}t.sortChild=i})(ps||(ps={}));qc.Node.prototype.getChildByName=function(t){for(var e=0,A=this.children;e<A.length;e++){var i=A[e];if(i.name===t)return i}};qc.Node.prototype.getChildsByName=function(t){var e=[];for(var A=0,i=this.children;A<i.length;A++){var o=i[A];if(o.name===t){e.push(o)}}return e};qc.Node.prototype.getChild=function(t){var e=this.getChildByName(t);if(e)return e;for(var A=0,i=this.children;A<i.length;A++){var o=i[A];var r=o.getChild(t);if(r)return r}};qc.Node.prototype.removeSelf=function(){if(this.parent)this.parent.removeChild(this)};qc.Node.prototype.addComponent=function(t){return this.addScript(t)};qc.Node.prototype.getComponent=function(t){return this.getScript(t)};qc.Behaviour.prototype.getChildByName=function(t){return this.gameObject.getChildByName(t)};qc.Behaviour.prototype.getChildsByName=function(t){return this.gameObject.getChildsByName(t)};qc.Behaviour.prototype.getChild=function(t){return this.gameObject.getChild(t)};qc.Behaviour.prototype.find=function(t){return this.gameObject.find(t)};qc.ScaleAdapter.prototype["getTargetSize"]=function(){if(window["adWidth"]&&window["adHeight"]){ps.ScrFix.width=window["adWidth"];ps.ScrFix.width=window["adWidth"];return new qc.Point(window["adWidth"],window["adHeight"])}var t=this.target||this.gameObject.game.world;if(!t||!t.width||!t.height)return new qc.Point(0,0);return new qc.Point(t.width,t.height)};var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(e){var t=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e.autoGameStart=true;e.autoPlayBgm=true;e.bgmName="bm_bgm";e.showFps=false;e.useConfigJson=true;e.hasStartPanel=true;e.hasEndingPanel=true;e.serializableFields={autoGameStart:qc.Serializer.BOOLEAN,showFps:qc.Serializer.BOOLEAN,useConfigJson:qc.Serializer.BOOLEAN,bgmName:qc.Serializer.STRING,autoPlayBgm:qc.Serializer.BOOLEAN,hasStartPanel:qc.Serializer.BOOLEAN,hasEndingPanel:qc.Serializer.BOOLEAN};e.runInEditor=true;return e}t.prototype.awake=function(){e.cfg.AUTO_GAMESTART=this.autoGameStart;e.cfg.SHOW_FPS=this.showFps;e.cfg.USE_CONFIG_JSON=this.useConfigJson;e.cfg.BGM_NAME=this.bgmName;e.cfg.AUTO_PLAY_BGM=this.autoPlayBgm;e.cfg.HAS_START_PANEL=this.hasStartPanel;e.cfg.HAS_ENDING_PANEL=this.hasEndingPanel;UIRoot=this.gameObject};t.prototype.update=function(){e.timer.update(this.game.time.deltaTime);e.updateList.update(this.game.time.deltaTime)};return t}(qc.Behaviour);e.MainConfig=t;qc.registerBehaviour("ps.MainConfig",t);t["__menu"]="Custom/MainConfig"})(ps||(ps={}));var PS_VERSION="0.6.2";var qc_game;var game;var box2d;var UIRoot;var ps;(function(A){A.CHANNEL="local";A.ENV="RELEASE";var e;A.mainState=new A.GameState;A.cfg={AUDIO_PATH:"resource",BGM_NAME:"bm_bgm",AUTO_PLAY_BGM:true,AUTO_GAMESTART:true,SHOW_FPS:true,USE_CONFIG_JSON:true};A.debugCfg={AUTO_GAMESTART:true,SHOW_FPS:false,USE_CONFIG_JSON:false};A.hasReady=false;A.hasStart=false;A.hasLaunch=false;function t(){if(A.hasLaunch)return;game=qc_game["phaser"];box2d=qc_game["box2d"];if(qici.config.editor)A.editor=window.parent["G"];if(window["MW_CONFIG"]){A.CHANNEL=MW_CONFIG.channel}if(window["playsound"]===false){A.Print.orange("playsound:false")}d()}A.init=t;function i(){console.log("config",A.cfg);A.Audio.rootPath=A.cfg.AUDIO_PATH;UIRoot=qc_game.world.getChildAt(0);if(qici.config.editor){A.Print.green("gameReady");if(window["gameReady"])window["gameReady"]();return}o()}A.onLoaded=i;function o(){var t=UIRoot.getScript(A.MainConfig);if(!t.isCreateStartPrefab){r();return}if(t&&t.startPrefab){A.start=qc_game.add.clone(t.startPrefab,UIRoot);r()}else{var e="resource/start/start.bin";qc_game.assets.maxRetryTimes=0;qc_game.assets.load(e,function(t){if(t){A.start=qc_game.add.clone(t,UIRoot)}else{A.Print.red("start开始界面不存在")}r()})}}A.createStartPrefab=o;function r(){var t=UIRoot.getScript(A.MainConfig);if(t&&t.touchMaskPrefab){e=qc_game.add.clone(t.touchMaskPrefab,UIRoot)}if(A.ENV==="DEBUG"){A.cfg.AUTO_GAMESTART=A.debugCfg.AUTO_GAMESTART;A.cfg.SHOW_FPS=A.debugCfg.SHOW_FPS;A.cfg.USE_CONFIG_JSON=A.debugCfg.USE_CONFIG_JSON}if(A.cfg.AUTO_GAMESTART){A.Print.orange("AUTO_GAMESTART");window["gameStart"]()}if(A.cfg.USE_CONFIG_JSON)A.GameConfig.init();console.log("GAME_CFG",A.cfg.USE_CONFIG_JSON,GAME_CFG);A.hasReady=true;A.mainState.ready();n();if(A.cfg.SHOW_FPS){qc_game.assets.load("resource/prefab/FPS.bin",function(t){qc_game.add.clone(t,UIRoot)})}}A.onStartPrefabLoaded=r;function n(){if(qici.config.editor)return;if(A.hasLaunch)return;if(A.hasReady&&A.hasStart){A.Print.green("gameLaunch");A.hasLaunch=true;if(A.cfg.AUTO_PLAY_BGM!=false)playBgSound();l()}}A.checkLaunch=n;var a={};function s(t){if(a[t])return;a[t]=true;A.Print.blue("sendAction "+t);if(window["HttpAPI"])window["HttpAPI"].sendPoint("action&action="+t)}A.sendAction=s;function c(t){if(t===void 0){t="win"}qc_game.input.onPointerDown.add(function(){A.install();if(t){switch(t){case"win":A.gameEnd();break;case"lose":A.gameEnd(false);break;case"null":A.gameEnd(true,0,false);break}}})}A.induce=c;function h(t){if(t===void 0){t=false}A.Print.blue("install");if(window["install"])window["install"]();if(t)A.gameEnd()}A.install=h;function l(){if(e)e.visible=false;A.mainState.dispatch(A.GameState.GAMESTART);if(!A.start)A.mainState.start()}function u(i,t,e,o){if(i===void 0){i=true}if(t===void 0){t=0}if(e===void 0){e=true}if(!A.mainState.end(i))return;A.Print.blue("gameEnd "+i+" "+t+" "+e);if(window["gameEnd"])window["gameEnd"]();if(!e)return;A.timer.once(t,function(){var t=UIRoot.getScript(A.MainConfig);if(t&&t.endingPrefab){qc_game.add.clone(t.endingPrefab,UIRoot)}else{qc_game.assets.load("resource/ending/ending.bin",function(t){var e=qc_game.add.clone(t,UIRoot.getChildAt(0));var A=e.getScript(EndingBeh);if(A){A.show(i)}if(o){o(e)}})}})}A.gameEnd=u;function p(){A.Print.blue("retry");if(window["gameRetry"])window["gameRetry"]();A.mainState.reset();UIRoot.removeChildren();Object.keys(qc_game.nodePool._nodes).forEach(function(t){if(t!==UIRoot.uuid){qc_game.nodePool.remove(t)}});qc_game.scene.load(qc_game.scene.current,false,undefined,function(){A.hasReady=false;A.hasLaunch=false;A.mainState.retry();o()})}A.retry=p;function d(){var t=" PlaySmart v"+PS_VERSION+" ";t+="| jWebAudio "+jwv+" ";t+="| Channel "+A.CHANNEL+" ";t+="| Env "+A.ENV+" ";if(hasBase64())t+="| base64 ";var e=["#fb8cb3","#d44a52","#871905"];console.log("%c %c %c"+t+"%c %c ","background: "+e[0],"background: "+e[1],"color:#fff;background: "+e[2]+";","background: "+e[1],"background: "+e[0])}A.printVersion=d})(ps||(ps={}));function gameStart(){if(ps.hasStart){ps.Print.red("ERROR:重复调用gameStart");return}ps.Print.green("gameStart");ps.hasStart=true;ps.Audio.playBGM(ps.cfg.BGM_NAME,"game","mp3",arguments[0]);ps.checkLaunch()}function gameClose(){window["destorySound"]()}var ps;(function(t){t.DESIGN_LONG=1334;t.DESIGN_SHORT=750;var e=function(){function A(){}Object.defineProperty(A,"width",{get:function(){if(t.editor&&t.editor.scene.gameSize)return t.editor.scene.gameSize.width;if(this._width===undefined)return qc_game.width;return this._width},set:function(t){this._width=t},enumerable:true,configurable:true});Object.defineProperty(A,"height",{get:function(){if(t.editor&&t.editor.scene.gameSize)return t.editor.scene.gameSize.height;if(this._height===undefined)return qc_game.height;return this._height},set:function(t){this._height=t},enumerable:true,configurable:true});Object.defineProperty(A,"scale",{get:function(){return A.isP?A.width/750:A.height/750},enumerable:true,configurable:true});Object.defineProperty(A,"cx",{get:function(){return this.width/2},enumerable:true,configurable:true});Object.defineProperty(A,"cy",{get:function(){return this.height/2},enumerable:true,configurable:true});Object.defineProperty(A,"ratio",{get:function(){return this.width/this.height},enumerable:true,configurable:true});Object.defineProperty(A,"orientation",{get:function(){if(this.ratio>1)return"l";else return"p"},enumerable:true,configurable:true});Object.defineProperty(A,"isP",{get:function(){return A.orientation==="p"},enumerable:true,configurable:true});Object.defineProperty(A,"isL",{get:function(){return A.orientation==="l"},enumerable:true,configurable:true});Object.defineProperty(A,"mobileType",{get:function(){if(A.isP?this.ratio>10/16:this.ratio<16/10){return"pad"}if(A.isP?this.ratio<9/17:this.ratio>17/9){return"ipx"}return"def"},enumerable:true,configurable:true});Object.defineProperty(A,"isPAD",{get:function(){return A.mobileType==="pad"},enumerable:true,configurable:true});Object.defineProperty(A,"isIPX",{get:function(){return A.mobileType==="ipx"},enumerable:true,configurable:true});A.v=function(t,e){return A.isP?t:e};A.v2=function(t){if(A.isPAD)return A.isP?t.pp:t.pl;if(A.isIPX)return A.isP?t.xp:t.xl;return A.isP?t.np:t.nl};return A}();t.ScrFix=e})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(A){var t;(function(t){var e=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e.value=0;e.serializableFields={};return e}return t}(A.Behaviour);t.ConfigBase=e;qc.registerBehaviour("ps.config.ConfigBase",e);e["__menu"]="Config/ConfigBase"})(t=A.config||(A.config={}))})(ps||(ps={}));var ps;(function(t){var e=function(){function t(){}t.prototype.init=function(){var t=qc.N("config");var e=t.getScripts("ps.config.ConfigSlider");var A={};e.forEach(function(t){A[t.cfgName]=t.value});console.log(A)};return t}();t.ConfigManager=e})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(t){var e;(function(t){var e=function(e){__extends(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t.min=0;t.max=10;t.serializableFields={cfgName:qc.Serializer.STRING,value:qc.Serializer.NUMBER,min:qc.Serializer.NUMBER,max:qc.Serializer.NUMBER,desc:qc.Serializer.STRING};return t}return t}(t.ConfigBase);t.ConfigSlider=e;qc.registerBehaviour("ps.config.ConfigSlider",e);e["__menu"]="Config/ConfigSlider"})(e=t.config||(t.config={}))})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var BezierEvent;(function(t){t["THROW_START"]="throwStart"})(BezierEvent||(BezierEvent={}));var ps;(function(d){var t=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e.articleScale=1;e.orgPot=new qc.Point(0,0);e.powerPot=new qc.Point(0,0);e.tarPot=new qc.Point(0,0);e.color=new qc.Color([255,0,0]);e.lineLen=360;e.potCntMax=20;e.speedX=2;e.speedY=-2;e.articlePool=[];e.graphics=new qc.Graphics(qc_game,e.gameObject);e.curPot=new qc.Point;e.allPot=[];e.eventDisp=new d.EventDispatcher;e.serializableFields={articleTexture:qc.Serializer.TEXTURE,articleScale:qc.Serializer.NUMBER,orgPot:qc.Serializer.POINT,powerPot:qc.Serializer.POINT,tarPot:qc.Serializer.POINT,color:qc.Serializer.COLOR,lineLen:qc.Serializer.NUMBER,potCntMax:qc.Serializer.NUMBER};return e}t.prototype.awake=function(){this.gameObject.removeChildren();this.initBezier();this.refresh()};t.prototype.refresh=function(){this.createArticle();this.drawPath()};Object.defineProperty(t.prototype,"factor",{set:function(t){var e=(1-t)*(1-t)*this.orgPot.x+2*t*(1-t)*this.powerPot.x+t*t*this.tarPot.x;var A=(1-t)*(1-t)*this.orgPot.y+2*t*(1-t)*this.powerPot.y+t*t*this.tarPot.y;e=d.Mathf.keepDecimal(e,0);A=d.Mathf.keepDecimal(A,0);this.curPot.x=e;this.curPot.y=A;this.allPot.push(new qc.Point(e,A))},enumerable:true,configurable:true});t.prototype.initBezier=function(){main.gameEvent.remove(JoystickEvent.ON_DOWN,this.chgAngle,this);main.gameEvent.remove(JoystickEvent.ON_DRAG,this.chgAngle,this);main.gameEvent.remove(JoystickEvent.ON_UP,this.joystickUp,this);main.gameEvent.add(JoystickEvent.ON_DOWN,this.chgAngle,this);main.gameEvent.add(JoystickEvent.ON_DRAG,this.chgAngle,this);main.gameEvent.add(JoystickEvent.ON_UP,this.joystickUp,this)};t.prototype.joystickUp=function(){this.throwStart()};t.prototype.createArticle=function(){if(this.articleTexture&&!this.gameObject.getChildByName("article")){var t=void 0;while(!t&&this.articlePool&&this.articlePool.length>0){t=this.articlePool.shift()}if(!t){t=new qc.UIImage(this.game,this.gameObject)}this.article=t;this.article.texture=this.articleTexture;this.article.resetNativeSize();this.article.pivotX=.5;this.article.pivotY=.5;this.article.scaleX=this.article.scaleY=this.articleScale;this.gameObject.setChildIndex(this.article,0);this.article.name="article"}};t.prototype.throwStart=function(){if(!this.article){return}this.article["speedX"]=this.speedX;this.article["speedY"]=this.speedY;this.eventDisp.dispatch(BezierEvent.THROW_START,this.article,this.speedX,this.speedY,0,this.allPot);return true};t.prototype.calculateCoordinatePoint=function(t,e,A){var i=new qc.Point(A,0);var o=this.calculateRotate(i,e);var r=this.calculateCoordinateRelativePoint(t,o);return r};t.prototype.calculateRotate=function(t,e){var A=t.x*Math.cos(e*Math.PI/180)+t.y*Math.sin(e*Math.PI/180);var i=t.x*Math.sin(e*Math.PI/180)+t.y*Math.cos(e*Math.PI/180);var o=new qc.Point(Math.round(A*100)/100,Math.round(i*100)/100);return o};t.prototype.calculateCoordinateRelativePoint=function(t,e){var A=e.x+t.x;var i=e.y+t.y;var o=new qc.Point(Math.round(A*100)/100,Math.round(i*100)/100);return o};t.prototype.chgAngle=function(t,e,A,i,o,r,n,a){var s=this.lineLen;var c=new qc.Point(0,0);var h=new qc.Point(t,e);var l=Math.abs(h.x-c.x);var u=Math.abs(h.y-c.y);A=Math.atan2(h.y-c.y,h.x-c.x);var p=this.calculateCoordinatePoint(this.orgPot,d.Mathf.radianToAngle(A),s);if(n!=void 0&&a!=void 0){if(!this.tarPot){this.tarPot=new qc.Point(p.x,p.y)}else{this.tarPot.x=p.x;this.tarPot.y=p.y}this.drawPath()}this.speedX=p.x*.02;this.speedY=p.y*.02;this.chgArticle(A)};t.prototype.chgArticle=function(t){this.createArticle();if(this.article){this.article.rotation=t+90*Math.PI/180}};t.prototype.drawPath=function(){if(!this.tarPot){return}this.allPot=[];this.graphics.clear();var t=this.potCntMax;for(var e=0;e<t;e++){this.factor=(e+1)/t;this.drawPot(this.curPot);if(e===1){this.secondPot=new qc.Point(this.curPot.x,this.curPot.y)}}if(this.secondPot){this.chgAngle(this.secondPot.x,this.secondPot.y)}};t.prototype.drawPot=function(t){var e=this.graphics;e.beginFill(this.color.toNumber(),1);e.drawCircle(t.x,t.y,10);e.endFill();if(!e.parent){this.gameObject.addChild(e)}};return t}(d.Behaviour);d.Bezier=t;qc.registerBehaviour("ps.Bezier",t);t["__menu"]="Custom/Bezier"})(ps||(ps={}));var ps;(function(t){var e=function(){function t(t,e,A){if(A===void 0){A=0}this.data=[];this.rows=t;this.cols=e;var i=[];for(var o=0;o<e;o++)i.push(A);for(var o=0;o<t;o++)this.data[o]=i.concat()}t.prototype.set=function(t,e,A){if(this.data[t])this.data[t][e]=A};t.prototype.get=function(t,e){if(this.data[t])return this.data[t][e]};t.prototype.setAll=function(t){for(var e=0;e<this.rows;e++){for(var A=0;A<this.cols;A++){this.set(e,A,t)}}};t.prototype.setArea=function(t,e,A,i,o){for(var r=t;r<t+A;r++){for(var n=e;n<e+i;n++){this.set(r,n,o)}}};t.prototype.searchRoad=function(t,e,A,i){return astar.getPath(this,t,e,A,i)};t.prototype.print=function(){var t="";for(var e=0;e<this.rows;e++){var A=this.data[e];var i="";for(var o=0,r=A;o<r.length;o++){var n=r[o];i+=n+" "}t+=i+"\n"}console.log(t)};t.prototype.save=function(){var t="";for(var e=0;e<this.rows;e++){for(var A=0;A<this.cols;A++){t+=this.get(e,A)}}console.log(t)};t.prototype.load=function(t){for(var e=0;e<this.rows;e++){for(var A=0;A<this.cols;A++){var i=e*this.cols+A;this.set(e,A,parseInt(t.charAt(i)))}}};return t}();t.AStarMap=e})(ps||(ps={}));var astar;(function(t){function e(t,e,A,i,o){var r=[],n=[],a=[],s;r.push({x:e,y:A,G:0});do{var c=r.pop();n.push(c);var h=y(c);for(var l in h){var u=h[l];if(u.x>=0&&u.y>=0&&u.x<t.rows&&u.y<t.cols&&t.data[u.x][u.y]!=1&&!I(u,n)&&t.data[u.x][c.y]!=1&&t.data[c.x][u.y]!=1){var p=c.G+((c.x-u.x)*(c.y-u.y)==0?10:14);var d=I(u,r);if(!d){u["H"]=Math.abs(i-u.x)*10+Math.abs(o-u.y)*10;u["G"]=p;u["F"]=u["H"]+u["G"];u["parent"]=c;r.push(u)}else{if(p<r[d].G){r[d].parent=c;r[d].G=p;r[d].F=p+r[d].H}}}}if(r.length==0){break}r.sort(f)}while(!(s=I({x:i,y:o},r)));if(!s){a=[]}else{var g=r[s];do{a.unshift({x:g.x,y:g.y});g=g.parent}while(g.x!=e||g.y!=A)}return a}t.getPath=e;function f(t,e){return e.F-t.F}function y(t){var e=t.x,A=t.y;return[{x:e-1,y:A-1},{x:e,y:A-1},{x:e+1,y:A-1},{x:e+1,y:A},{x:e+1,y:A+1},{x:e,y:A+1},{x:e-1,y:A+1},{x:e-1,y:A}]}function I(t,e){for(var A in e){if(t.x==e[A].x&&t.y==e[A].y){return A}}return false}})(astar||(astar={}));var ps;(function(a){var t;(function(s){s.rootPath="";var c={};function t(t,e,A,i){if(e===void 0){e="game"}if(A===void 0){A="mp3"}if(i===void 0){i=true}if(t===undefined)t=a.cfg.BGM_NAME;var o=s.rootPath+"/"+e+"/audio/"+t+"."+A;playEnterSound(o,i,false)}s.playBGM=t;function e(){stopBgSound()}s.stopBGM=e;function A(t,e,A,i,o){if(e===void 0){e="game"}if(A===void 0){A="mp3"}if(i===void 0){i=1}if(o===void 0){o=50}if(window["playsound"]===false)return;var r=Date.now();var n=c[t]||0;if(r-n<o)return;c[t]=r;var a=s.rootPath+"/"+e+"/audio/"+t+"."+A;playSoundEff(a,i)}s.playSound=A;function i(t,e,A){if(e===void 0){e="game"}if(A===void 0){A="mp3"}var i=s.rootPath+"/"+e+"/audio/"+t+"."+A;stopSoundEff(i)}s.stopSound=i;function o(t,e,A){if(e===void 0){e="game"}if(A===void 0){A="mp3"}var i=s.rootPath+"/"+e+"/audio/"+t+"."+A;changeBgMusic(i)}s.changeBg=o;function r(t,e,A,i){if(e===void 0){e="game"}if(i===void 0){i="mp3"}var o=s.rootPath+"/"+e+"/audio/"+t+"."+i;setVolume(o,A)}s.setSoundVolume=r;function n(t){forceMuted(t)}s.forceSoundMuted=n})(t=a.Audio||(a.Audio={}))})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(e){var t=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e._color=new qc.Color("000000");e.serializableFields={color:qc.Serializer.COLOR};e.runInEditor=true;return e}t.prototype.awake=function(){this.refresh()};Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(t){this._color=t;this.refresh()},enumerable:true,configurable:true});t.prototype.refresh=function(){var t=this.gameObject;t.clear();t.beginFill(this.color.toNumber(false));t.drawRect(0,0,e.DESIGN_LONG,e.DESIGN_LONG);t.endFill()};return t}(qc.Behaviour);e.BgMask=t;qc.registerBehaviour("ps.BgMask",t);t["__menu"]="Custom/BgMask"})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(t){var e;(function(t){var e=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e.debug=false;e.floatY=-30;e.floatT=.5;e.serializableFields={debug:qc.Serializer.BOOLEAN,floatY:qc.Serializer.NUMBER,floatT:qc.Serializer.NUMBER};e.gameObject.interactive=true;return e}t.prototype.awake=function(){this.initScaleX=this.gameObject.scaleX||1;this.initScaleY=this.gameObject.scaleY||1;this.initY=this.gameObject.y||0};t.prototype.onDown=function(){if(!this.debug){return}if(this.clickIde){this.hide()}else{this.show()}this.clickIde=!this.clickIde};t.prototype.show=function(){var t=this;var e=this.gameObject.addScript("qc.TweenScale");this.gameObject.y=this.initY;this.gameObject.visible=true;this.gameObject.scaleX=this.gameObject.scaleY=0;e.to=new qc.Point(this.initScaleX,this.initScaleY);e.duration=.2;e.onFinished.addOnce(function(){e.destroy();t.float()});e.enable=true};t.prototype.float=function(){if(!this.floatY){return}var t=this.gameObject.addScript("qc.TweenPosition");t.from=new qc.Point(this.gameObject.x,this.initY);t.to=new qc.Point(this.gameObject.x,this.initY+this.floatY);t.moveAxis=qc.TweenPosition.ONLY_Y;t.style=qc.Tween.STYLE_PINGPONG;t.duration=this.floatT;t.enable=true};t.prototype.hide=function(t){var e=this;var A=this.gameObject.getScript("qc.TweenPosition");if(A){A.destroy()}this.gameObject.y=this.initY;var i=this.gameObject.addScript("qc.TweenScale");i.from=new qc.Point(this.initScaleX,this.initScaleY);i.to=new qc.Point(0,0);i.duration=.2;i.onFinished.addOnce(function(){i.destroy();e.gameObject.visible=false;e.gameObject.y=e.initY;e.gameObject.scaleX=e.initScaleX;e.gameObject.scaleY=e.initScaleY;if(t){e.gameObject.destroy()}if(e.debug){e.game.timer.add(500,e.show,e)}});i.enable=true};return t}(qc.Behaviour);t.Bubble=e;qc.registerBehaviour("ps.btn.Bubble",e);e["__menu"]="Btn/Bubble"})(e=t.btn||(t.btn={}))})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var CircleRing=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e.interval=300;e.serializableFields={interval:qc.Serializer.NUMBER};return e}t.prototype.awake=function(){var t=this;var e=this.gameObject;var A=this.gameObject.scaleX;var i=this.gameObject.scaleY;A=0;i=0;e.pivotX=.5;e.pivotY=.5;var o=this.gameObject.scaleY;this.newImg(1);this.newImg(.7);this.showRingBig(e,1,o);qc_game.timer.loop(this.interval*3+200,function(){t.showRingBig(e,1,o)})};t.prototype.newImg=function(t){var e=this.gameObject;var A=e.texture;var i=qc_game.add.image();i.texture=A;e.addChild(i);i.pivotX=.5;i.pivotY=.5;i.x=0;i.y=0;i.scaleX=t;i.scaleY=t};t.prototype.showRingBig=function(t,e,A){var i=this;ps.Tween.to(t,{scaleX:e+A,scaleY:e+A,alpha:.6},this.interval,undefined,0).onComplete.addOnce(function(){ps.Tween.to(t,{scaleX:e+A+2,scaleY:e+A+2,alpha:.3},i.interval,undefined,0).onComplete.addOnce(function(){ps.Tween.to(t,{scaleX:e+A+7,scaleY:e+A+7,alpha:0},i.interval,undefined,0).onComplete.addOnce(function(){t.scaleX=0;t.scaleY=0;t.alpha=1})})})};return t}(qc.Behaviour);qc.registerBehaviour("CircleRing",CircleRing);var __decorate=this&&this.__decorate||function(t,e,A,i){var o=arguments.length,r=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,A):i,n;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(t,e,A,i);else for(var a=t.length-1;a>=0;a--)if(n=t[a])r=(o<3?n(r):o>3?n(e,A,r):n(e,A))||r;return o>3&&r&&Object.defineProperty(e,A,r),r};var ps;(function(r){var t=function(){function o(){}o.init=function(){if(r.playerRetry){r.playerRetry=false;return}if(!r.Tools.objIsNull(this.config)){GAME_CFG={};for(var t in this.config){var e=this.config[t];if(e.items&&e.items.length){var A=[];for(var i=0;i<e.items.length;i++){A.push(e.items[i].value)}GAME_CFG[t]=A}else{GAME_CFG[t]=e.value}}}GAME_CFG["playAgain"]=o.playAgain;if(o.autoEndTime!==void 0)GAME_CFG["autoEndTime"]=o.autoEndTime;if(this.colorConfig){COLOR_CFG={};for(var t in this.colorConfig){var e=this.colorConfig[t];COLOR_CFG[t]=e.value}}};Object.defineProperty(o,"data",{get:function(){var t=game.cache.getJSON("gameConfig");if(r.Tools.objIsNull(t)){console.error("没有gameConfig文件 或 gameConfig文件配置为空");return t}var e=t;if(dcoData){if(!dcoData.param){e=r.Tools.strToJson(t[Object.keys(t)[0]])}else{e=r.Tools.strToJson(t[dcoData.param]);if(r.Tools.objIsNull(e))e=r.Tools.strToJson(t[Object.keys(t)[0]])}}return e},enumerable:false,configurable:true});Object.defineProperty(o,"colorConfig",{get:function(){var t=this.data;if(t==void 0)return;var e=t.colorConfig;return e},enumerable:false,configurable:true});Object.defineProperty(o,"config",{get:function(){var t=this.data;if(t==void 0)return;var e=t.gameConfig;if(!e||typeof e!="object"){console.error("游戏配置gameConfig字段有误！gameConfig == "+e);return}return e},enumerable:false,configurable:true});Object.defineProperty(o,"autoEndTime",{get:function(){var t=this.data;if(t==void 0)return;if(t.autoEndTime<0)return 0;return t.autoEndTime},enumerable:false,configurable:true});Object.defineProperty(o,"playAgain",{get:function(){var t=this.data;if(t==void 0||!t.playAgain)return 0;return t.playAgain},enumerable:false,configurable:true});o.getValue=function(t,e){if(e===void 0){e=false}if(!this.config[t]){console.error("动态参数里面没有"+t+"字段");return}if(e)return Math.round(this.config[t].value);return this.config[t].value};o.createTemplete=function(){var t={};t.autoEndTime=GAME_CFG["autoEndTime"];t.playAgain=GAME_CFG["playAgain"];if(window["COLOR_CFG"])t.colorConfig=this.exportColor();if(window["GAME_CFG"])t.gameConfig=this.exportConfig();console.log(r.Tools.jsonToStr(t));console.log("可使用用户代码片段创建，指令如下");console.log("cfgSlider,cfgInput,cfgSwitch,cfgRadio,cfgCheckbox,cfgArray");console.log("说明文档：http://confluence.mobvista.com/pages/viewpage.action?pageId=30346816")};o.exportConfig=function(){var t=this.config;var e={};var A=0;for(var i in GAME_CFG){if(i==="playAgain")continue;A++;var o=GAME_CFG[i];var r=0;var n=o*2;var a=1;var s="";var c="";if(t[i]){r=t[i].min;n=t[i].max;a=t[i].interval;s=t[i].desc;c=t[i].title}if(window["GAME_CFG_DESC"]&&window["GAME_CFG_DESC"][i]){var h=window["GAME_CFG_DESC"][i];r=h.min;n=h.max;a=h.interval;s=h.desc;c=h.title}switch(typeof o){case"number":e[i]={type:"slider",value:o,min:r,max:n,interval:a,desc:s,title:c,priority:A};break;case"string":e[i]={type:"radio",value:o,options:[o],desc:s,title:c,priority:A};e[i+"_input"]={type:"input:text",value:o,desc:s,title:c,priority:A};break;case"boolean":e[i]={type:"switch",value:o,desc:s,title:c,priority:A};break;case"object":if(Array.isArray(o)){if(o.length<=0){o[0]=0}switch(typeof o[0]){case"number":var l=Math.min.apply(Math,o);var u=Math.max.apply(Math,o);e[i]={type:"array",subtype:"slider",min:l,max:u,value:o,desc:s,title:c,priority:A};break;case"string":e[i]={type:"array",subtype:"input:text",value:o,desc:s,title:c,priority:A};e[i+"_checkbox"]={type:"checkbox",value:o,options:o,desc:s,title:c,priority:A};break}}break;default:}}return e};o.exportColor=function(){var t={};var e=0;for(var A in COLOR_CFG){var i="";var o="";if(this.colorConfig&&this.colorConfig[A]){i=this.colorConfig[A].desc;o=this.colorConfig[A].title}if(window["COLOR_CFG_DESC"]&&window["COLOR_CFG_DESC"][A]){i=window["COLOR_CFG_DESC"][A].desc;o=window["COLOR_CFG_DESC"][A].title}t[A]={value:COLOR_CFG[A],desc:i,title:o,priority:e};e++}return t};__decorate([ObsoleteMethod("GAME_CFG.key","GameConfig.getValue")],o,"getValue",null);return o}();r.GameConfig=t})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(i){var e;(function(t){t[t["TIME_UP"]=0]="TIME_UP";t[t["TIME_START"]=1]="TIME_START"})(e=i.ClockEvent||(i.ClockEvent={}));var t;(function(t){t[t["INTEGER"]=0]="INTEGER";t[t["HUNDRED_MS"]=1]="HUNDRED_MS";t[t["TEN_MS"]=2]="TEN_MS"})(t||(t={}));var A=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e.clockEvent=new i.EventDispatcher;e.time=10;e.reverse=false;e.template="{0}s";e.autoStart=false;e.started=false;e.paused=false;e.serializableFields={time:qc.Serializer.NUMBER,clockText:qc.Serializer.NODE,reverse:qc.Serializer.BOOLEAN,autoStart:qc.Serializer.BOOLEAN,template:qc.Serializer.STRING,precision:qc.Serializer.AUTO};return e}t.prototype.onInit=function(){var t=this.precision;this.updateInterval=t>0?parseInt("1000".substr(0,t)):1e3;if(this.reverse){this.showTimeMS=this.time*1e3}else{this.showTimeMS=0}this.updateText(this.showTimeMS)};t.prototype.onStart=function(){if(this.autoStart)this.start()};t.prototype.update=function(){if(!this.started)return;if(this.showTimeMS<=0&&this.reverse){this.showTimeMS=0;this.timeUp();return}else if(this.showTimeMS>=this.time*1e3&&!this.reverse){this.showTimeMS=this.time*1e3;this.timeUp();return}var t=Date.now();if(this.last===void 0)this.last=t;var e=t-this.last;if(e>=this.updateInterval){this.last=t;if(this.reverse){this.showTimeMS-=e}else{this.showTimeMS+=e}this.updateText(this.showTimeMS)}};t.prototype.start=function(){this.clockEvent.dispatch(e.TIME_START);this.started=true};t.prototype.stop=function(){this.started=false};t.prototype.timeUp=function(){this.clockEvent.dispatch(e.TIME_UP);this.started=false;this.paused=true;this.updateText(this.showTimeMS)};t.prototype.updateText=function(t){this.clockText.text=this.template.replace("{0}",""+(Math.abs(t)/1e3).toFixed(this.precision))};return t}(i.Behaviour);i.Clock=A;qc.registerBehaviour("ps.Clock",A);A["__menu"]="Custom/Clock"})(ps||(ps={}));var ps;(function(t){var e;(function(t){function e(t){return t*(Math.PI/180)}t.angleToRadian=e;function o(t){return t/(Math.PI/180)}t.radianToAngle=o;function A(t,e,A,i){if(e===void 0){e=0}if(A===void 0){A=1}if(i===void 0){i=true}if(i)return t>=e&&t<=A;else return t>e&&t<A}t.inRange=A;function i(t,e,A){if(e===void 0){e=0}if(A===void 0){A=1}t=Math.min(t,A);t=Math.max(t,e);return t}t.clamp=i;function r(t,e,A,i,o){var r=Math.sqrt(Math.pow(t-A,2)+Math.pow(e-i,2));if(o)r=Math[o](r);return r}t.getDistance=r;function n(t,e,A,i){var o=A-t;var r=i-e;return Math.atan2(r,o)}t.getRadian=n;function a(t,e,A,i){return o(n(t,e,A,i))}t.getAngle=a;function s(t,e,A){if(e===undefined){e=t.parent.mouseX;A=t.parent.mouseY}var i=t.x;var o=t.y;var r=t.width;var n=t.height;if(t.anchorX!=undefined&&!isNaN(t.anchorX)){i-=t.anchorX*r}if(t.anchorY!=undefined&&!isNaN(t.anchorY)){o-=t.anchorY*n}return e>=i&&e<=i+r&&A>=o&&A<=o+n}t.collision=s;function c(t){if(typeof t==="string"){if(t==="")return;return parseFloat(t)}return t}t.parseNumber=c;function h(t,e){if(e===void 0){e=["A","B","C","D"]}var A=t+"";var i=A.length;var o=Math.ceil(i/3)-1;var r=i%3;for(var n=0;n<o;n++){t/=1e3}var a=e[o]?e[o]:"缺少单位";A=t.toFixed(4-(r===0?3:r));return A+a}function l(t,e,A){var i=e-t;return t+i/A}t.damp=l;function u(t,e,A){return(e-t)*A}t.lerp=u;function p(t){t=t.concat();var e=[];while(true){var A=t.shift();var i=t.shift();if(A!=undefined&&i!=undefined){e.push({x:A,y:i})}else{return e}}}function d(t,e,A){if(e===void 0){e=2}if(A===void 0){A="round"}e=Math.max(0,e);var i=Math.pow(10,e);return Math[A](t*i)/i}t.keepDecimal=d;function g(t,e,A,i,o){if(A===void 0){A=t}if(i===void 0){i=e}return Math.ceil(r(t,e,A,i)/o)}t.getTimeBySpeed=g;function f(t,e,A,i,o){if(o===void 0){o=1}var r;var n;if(t!=void 0&&e!=void 0){r=r||{};r.x=t;r.y=e}else{n=true}if(A!=void 0&&i!=void 0){r=r||{};r.x=A;r.y=i}else{n=true}if(!r){return}var a=[];if(n){a.push(r)}else{var s=this.getDistance(t,e,A,i);o=Math.min(o,s);var c=s/o;for(var h=1;h<=c;h++){var l=Math.round(t-(t-A)*h/c);var u=Math.round(e-(e-i)*h/c);a.push({x:l,y:u})}var p=a[0];if(p.x!=t||p.y!=e){a.unshift({x:t,y:e})}var d=a[a.length-1];if(d.x!=A||d.y!=i){a.push({x:A,y:i})}}return a}t.pointListByDensity=f})(e=t.Mathf||(t.Mathf={}))})(ps||(ps={}));var ps;(function(h){var t=function(){function c(){}c.popLabel=function(t,e,A,i,o,r,n,a){var s=new c;s.popLabel(t,e,A,i,o,r,n,a);return s};c.prototype.popLabel=function(t,e,A,i,o,r,n,a){var s=this;if(o===undefined)o=-200;if(r===undefined)r=500;if(n===undefined)n=0;if(a===undefined)a=0;this.target=t;this.duration=r;var c=qc_game.add.text();c.fontSize=A;c.text=e;c.color=new qc.Color(i);c.x=n;c.y=a;this.target.addChild(c);h.Tween.to(c,{y:c.y+o},this.duration,undefined,0).onComplete.addOnce(function(){s.target.removeChild(c)})};c.popImg=function(t,e,A,i,o,r,n){var a=new c;a.popImg(t,e,A,i,o,r,n);return a};c.prototype.popImg=function(t,e,A,i,o,r,n){var a=this;if(A===undefined)A=-200;if(i===undefined)i=500;if(o===undefined)o=0;if(r===undefined)r=0;if(n===undefined)n=1;this.target=t;this.duration=i;var s=qc_game.add.image();s.pivotX=.5;s.pivotX=.5;s.scaleX=n;s.scaleY=n;s.texture=e;s.resetNativeSize();this.target.addChild(s);h.Tween.to(s,{y:s.y+A},this.duration,undefined,0).onComplete.addOnce(function(){a.target.removeChild(s)})};return c}();h.PopBox=t})(ps||(ps={}));var ps;(function(t){var e=function(){function e(){}e.green=function(t){e.colorful(" "+t+" ","white","#00bb00")};e.blue=function(t){e.colorful(" "+t+" ","white","#00aaaa")};e.orange=function(t){e.colorful(" "+t+" ","white","#ff8800")};e.red=function(t){e.colorful(" "+t+" ","white","#bb0000")};e.purple=function(t){e.colorful(" "+t+" ","white","#800080")};e.colorful=function(t,e,A){if(A===void 0){A="white"}console.log("%c"+t,"color:"+e+";background:"+A+";")};return e}();t.Print=e})(ps||(ps={}));var ps;(function(t){var e;(function(n){function t(t,e){if(e===void 0){e=0}return a(t,e,"round")}n.round=t;function i(t,e){if(e===void 0){e=0}return a(t,e,"floor")}n.floor=i;function e(t,e){if(e===void 0){e=0}return a(t,e,"ceil")}n.ceil=e;function a(t,e,A){var i=Math.min(t,e);var o=Math.max(t,e);var r=s(o-i)+i;if(A)r=Math[A](r);return r}n.range=a;function s(t,e){if(t===void 0){t=1}var A=Math.random()*t;if(e)A=Math[e](A);return A}n.ran=s;function A(t,e){if(e===void 0){e=1}return s(e)<t}n.rate=A;function o(t,e){if(t===void 0){t=0}if(e===void 0){e=1}var A=0,i=0,o=0,r=0;do{A=a(-1,1);i=a(-1,1);o=A*A+i*i}while(o==0||o>=1);r=Math.sqrt(-2*Math.log(o)/o);var n=A*r;return t+n*e}n.normalDistribution=o;function r(){var t=[];for(var e=0;e<arguments.length;e++){t[e]=arguments[e]}var A=i(t.length);return t[A]}n.getElement=r;function c(t,e){if(t.length<e){console.error("抽取数量大于数组长度");return}var A=t.concat();var i=[];for(var o=0;o<e;o++){var r=n.floor(A.length);i.push(A[r]);A.splice(r,1)}return i}n.getElements=c;function h(t){var e=0;for(var A in t){var i=t[A];e+=i}var o=Math.random()*e;var r=0;for(var A in t){r+=t[A];if(o<r){return A}}}n.drawOne=h})(e=t.Random||(t.Random={}))})(ps||(ps={}));var ps;(function(e){var t=function(){function i(){}i.getData=function(t){return i.data[t]|0};i.setData=function(t,e){i.data[t]=e;i.addChange("set",t,e)};i.addData=function(t,e){if(e===void 0){e=1}if(!i.data[t]){i.data[t]=e}else{i.data[t]+=e}i.addChange("add",t,e);return this.getData(t)};i.listen=function(t,e,A){this.event.add(t,e,A)};i.addChange=function(t,e,A){i.changes.push({operate:t,key:e,value:A,time:Date.now()});this.event.dispatch(e,A,t)};i.printData=function(){for(var t in i.data){console.log(t+":"+i.data[t])}};i.printChange=function(){for(var t in i.changes){console.log(t+":"+e.Tools.jsonToStr(i.changes[t]))}};i.changes=[];i.data={};i.event=new e.EventDispatcher;return i}();e.Records=t})(ps||(ps={}));var ps;(function(t){var e=function(){function n(){}n.shakeObj=function(t,e,A,i,o){var r=new n;r.shakeObj(t,e,A,i,o);return r};n.prototype.shakeObj=function(t,e,A,i,o){if(o===undefined)o=i;this.stop();this.target=t;this.initX=t.x;this.initY=t.y;this.maxDisX=i;this.maxDisY=o;this.rate=A;this.loopDelay=qc_game.timer.loop(1e3/A,this.shaking,this);this.completeDelay=qc_game.timer.add(e,this.shakeComplete,this)};n.prototype.shaking=function(){this.target.x=this.initX-this.maxDisX+Math.random()*this.maxDisX*2;this.target.y=this.initY-this.maxDisY+Math.random()*this.maxDisY*2;this.shakTw=game.add.tween(this.target).to({x:this.initX,y:this.initY},1e3/this.rate);this.shakTw.start()};n.prototype.shakeComplete=function(){if(this.loopDelay){qc_game.timer.remove(this.loopDelay);this.loopDelay=undefined}if(this.completeDelay){qc_game.timer.remove(this.completeDelay);this.completeDelay=undefined}if(this.target){game.tweens.remove(this.shakTw);this.target.x=this.initX;this.target.y=this.initY}};n.prototype.stop=function(){this.shakeComplete()};return n}();t.ShakeTool=e})(ps||(ps={}));var ps;(function(t){var e=function(){function t(t,e,A){if(A===void 0){A=false}this.state=A;this.openCB=t;this.closeCB=e}Object.defineProperty(t.prototype,"state",{get:function(){return this._state},set:function(t){this.setState(t)},enumerable:true,configurable:true});t.prototype.open=function(t){if(t===void 0){t="normal"}this.setState(true,t)};t.prototype.close=function(t){if(t===void 0){t="normal"}this.setState(false,t)};t.prototype.setState=function(t,e){if(e===void 0){e="normal"}if(e==="normal"&&this._state===t)return;this._state=t;if(e!="no")this.callCB()};t.prototype.callCB=function(){if(this.state){if(this.openCB)this.openCB()}else{if(this.closeCB)this.closeCB()}};return t}();t.SwitchState=e})(ps||(ps={}));var __spreadArrays=this&&this.__spreadArrays||function(){for(var t=0,e=0,A=arguments.length;e<A;e++)t+=arguments[e].length;for(var i=Array(t),o=0,e=0;e<A;e++)for(var r=arguments[e],n=0,a=r.length;n<a;n++,o++)i[o]=r[n];return i};var ps;(function(e){var t=function(){function t(){this.frameList=[]}t.prototype.once=function(t,e,A){var i;var o=[];for(var r=3;r<arguments.length;r++){o[r-3]=arguments[r]}return(i=qc_game.timer).add.apply(i,__spreadArrays([t,e,A],o))};t.prototype.loop=function(t,e,A){var i;var o=[];for(var r=3;r<arguments.length;r++){o[r-3]=arguments[r]}return(i=qc_game.timer).loop.apply(i,__spreadArrays([t,e,A],o))};t.prototype.times=function(t,e,A,i){var o;var r=[];for(var n=4;n<arguments.length;n++){r[n-4]=arguments[n]}if(t===1)return this.once.apply(this,__spreadArrays([e,A,i],r));if(t<=0)return this.loop.apply(this,__spreadArrays([e,A,i],r));var a=(o=qc_game.timer).loop.apply(o,__spreadArrays([e,function(){A.apply(i,r);t--;if(t===0)qc_game.timer.remove(a)},i],r));return a};t.prototype.remove=function(t){qc_game.timer.remove(t)};t.prototype.update=function(e){this.frameList.forEach(function(t){t(e)})};t.prototype.frameLoop=function(t,e){if(e)t.bind(e);this.frameList.push(t)};t.prototype.removeFrameLoop=function(t){e.Tools.deleteElement(this.frameList,t)};return t}();e.timer=new t})(ps||(ps={}));var ps;(function(u){var t;(function(t){function e(t,e,A){if(A===void 0){A=new qc.Point}var i=new qc.Point(t.x+A.x,t.y+A.y);i=t.parent.toGlobal(i);i=e.parent.toLocal(i);return i}t.transPos=e;function A(t){if(!t||t==="{}"||u.Tools.jsonToStr(t)==="{}"){return true}for(var e in t){var A=t[e];if(A!=void 0){return false}}return true}t.objIsNull=A;function i(t,e){if(!t||t.length<=0)return;var A=t.indexOf(e);if(A>=0){t.splice(A,1);return true}}t.deleteElement=i;function o(t,e,A,i,o,r){if(i===void 0){i=0}if(o===void 0){o=2}if(r===void 0){r="round"}var n="";switch(i){case 1:if(t>=1e9){n="G";t/=1e9}else if(t>=1e6){n="M";t/=1e6}else if(t>=1e3){n="K";t/=1e3}break;case 2:if(t>=1e8){n="亿";t/=1e8}else if(t>=1e7){n="千万";t/=1e7}else if(t>=1e6){n="百万";t/=1e6}else if(t>=1e5){n="十万";t/=1e5}else if(t>=1e4){n="万";t/=1e4}else if(t>=1e3){n="千";t/=1e3}else if(t>=100){n="百";t/=100}break;default:break}t=u.Mathf.keepDecimal(t,o,r);var a=t+"";if(A!=void 0){var s=A-a.length;if(s>0){for(var c=0;c<s;c++){a="0"+a}}}if(e){var h=a;var l=/(\d+)(\d{3})/;while(l.test(h)){h=h.replace(l,"$1"+","+"$2")}a=h}return a+n}t.switchNum=o;function r(t,e){if(e===void 0){e=true}var A;var i=e?23:11;if(t>i){t%=i+1}if(t<10){A="0"+t+":00"}else{A=t+":00"}return A}t.switchHour=r;function n(t){if(typeof t!=="string")return t;return JSON.parse(t)}t.strToJson=n;function a(t){if(typeof t!=="object")return t;return JSON.stringify(t)}t.jsonToStr=a})(t=u.Tools||(u.Tools={}))})(ps||(ps={}));var ps;(function(r){var t=function(){function h(){}h.to=function(t,e,A,i,o,r,n,a){if(r===void 0){r=true}t=l(t);u(e);var s;if(typeof i==="string"){s=game.add.tween(t).to(e,A,i,r,o,n,a)}else{s=game.add.tween(t).to(e,A,i,r,o,n,a)}return s};h.by=function(t,e,A,i,o,r,n,a){if(r===void 0){r=true}t=l(t);u(e);var s={};for(var c in e){s[c]=e[c]+t[c]}return h.to(t,s,A,i,o,r,n,a)};h.clear=function(t){game.tweens.remove(t)};h.clearAll=function(t){t=l(t);game.tweens.removeFrom(t)};h.showAlpha=function(t,e,A,i,o){if(e===void 0){e=500}if(A===void 0){A=1}if(i===void 0){i=0}t=l(t);t.visible=true;t.alpha=0;var r=h.to(t,{alpha:A},e,Phaser.Easing.Sinusoidal.InOut,i);if(o)r.onComplete.addOnce(o);return r};h.showZoom=function(t,e,A,i,o){if(e===void 0){e=500}if(A===void 0){A=1}if(i===void 0){i=0}t=l(t);t.visible=true;t.scaleX=0;t.scaleY=0;var r=h.to(t,{scale:A},e,Phaser.Easing.Back.Out,i);if(o)r.onComplete.addOnce(o);return r};h.hideAlpha=function(t,e,A,i,o){if(e===void 0){e=500}if(A===void 0){A=0}if(i===void 0){i=null}return h.hide("alpha",t,e,A,i,o)};h.hideZoom=function(t,e,A,i,o){if(e===void 0){e=500}if(A===void 0){A=0}if(i===void 0){i=null}return h.hide("zoom",t,e,A,i,o)};h.hide=function(t,e,A,i,o,r){if(t===void 0){t="alpha"}if(A===void 0){A=500}if(i===void 0){i=0}if(o===void 0){o="hide"}var n;switch(t){case"zoom":n=h.to(e,{scale:0},A,Phaser.Easing.Back.In,i);break;case"alpha":n=h.to(e,{alpha:0},A,undefined,i);break}n.onComplete.addOnce(function(){switch(o){case"null":break;case"hide":e.visible=false;break;case"remove":if(e.parent)e.parent.removeChild(e);break}if(r)r()});return n};h.zoom=function(t,e,A,i,o){if(i===void 0){i=0}if(o===void 0){o=true}return h.by(t,{scaleX:e,scaleY:e},A,Phaser.Easing.Sinusoidal.InOut,i,o,-1,true)};h.glint=function(t,e,A,i){if(A===void 0){A=0}if(i===void 0){i=true}var o=0;if(t.alpha===0)o=1;return h.to(t,{alpha:o},e,Phaser.Easing.Sinusoidal.InOut,A,i,-1,true)};h.rotationLoop=function(t,e,A,i){if(e===void 0){e=100}if(A===void 0){A=0}if(i===void 0){i=true}var o=e>0?1:-1;return h.by(t,{rotation:r.Mathf.angleToRadian(360)*o},36e4/e*o,undefined,A,i,-1)};h.moveYoyo=function(t,e,A,i,o,r){if(o===void 0){o=0}if(r===void 0){r=true}return h.by(t,{x:e,y:A},i,Phaser.Easing.Sinusoidal.InOut,o,r,-1,true)};h.shakeRotation=function(t,e,A,i){if(e===void 0){e=5}if(A===void 0){A=50}t=l(t);var o=t.rotation;return h.to(t,{rotation:r.Mathf.angleToRadian(o+e)},A,Phaser.Easing.Sinusoidal.InOut,i,false).to({rotation:r.Mathf.angleToRadian(o-e)},A*2,Phaser.Easing.Sinusoidal.InOut).to({rotation:r.Mathf.angleToRadian(o+e)},A*2,Phaser.Easing.Sinusoidal.InOut).to({rotation:r.Mathf.angleToRadian(o)},A,Phaser.Easing.Sinusoidal.InOut).start()};return h}();r.Tween=t;function l(t){if(t instanceof qc.Behaviour)return t.gameObject;return t}function u(t){if(t.scale!=undefined){t.scaleX=t.scale;t.scaleY=t.scale;delete t.scale}if(t.scaleXY!=undefined){t.scaleX=t.scaleXY;t.scaleY=t.scaleXY;delete t.scaleXY}}})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(i){var t;(function(t){t["UPDATE_LANG"]="UpdateLang"})(t=i.DebugEvent||(i.DebugEvent={}));var e=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e.autoGameStart=true;e.showFps=false;e.useConfigJson=false;e.debugLang="";e.eventDisp=new i.EventDispatcher;e.serializableFields={autoGameStart:qc.Serializer.BOOLEAN,showFps:qc.Serializer.BOOLEAN,useConfigJson:qc.Serializer.BOOLEAN,debugLang:qc.Serializer.AUTO};e.runInEditor=true;return e}t.prototype.awake=function(){i.debugCfg.AUTO_GAMESTART=this.autoGameStart;i.debugCfg.SHOW_FPS=this.showFps;i.debugCfg.USE_CONFIG_JSON=this.useConfigJson};t.prototype.update=function(){};t.prototype.onDown=function(){};t.prototype.getRes=function(){if(!this.game.config["useLanguages"])return;return languagesMgr.getRes()};t.prototype.language=function(){if(!this.game.config["useLanguages"])return;return languagesMgr.language};t.prototype.updateLang=function(t,e,A){if(e===void 0){e=false}if(A===void 0){A=false}if(t!=void 0)this.debugLang=t;if(e)this.eventDisp.dispatch(i.DebugEvent.UPDATE_LANG,A)};return t}(i.Behaviour);i.DebugConfig=e;qc.registerBehaviour("ps.DebugConfig",e);e["__menu"]="Custom/DebugConfig"})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(A){var t;(function(t){var e=function(e){__extends(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t.serializableFields={playOnAwake:qc.Serializer.BOOLEAN,duration:qc.Serializer.NUMBER,delay:qc.Serializer.NUMBER};return t}t.prototype.play=function(){if(!this.tween){this.tween=A.Tween.glint(this.gameObject,this.duration,this.delay)}else{this.resume()}};return t}(t.TweenBase);t.Glint=e;qc.registerBehaviour("ps.tween.Glint",e);e["__menu"]="CustomTween/Glint"})(t=A.tween||(A.tween={}))})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(A){var t;(function(t){var e=function(e){__extends(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t.type="zoom";t.oldValue={alpha:undefined,scaleX:undefined,scaleY:undefined};t.serializableFields={playOnAwake:qc.Serializer.BOOLEAN,type:qc.Serializer.STRING,duration:qc.Serializer.NUMBER,delay:qc.Serializer.NUMBER};return t}t.prototype.play=function(){if(!this.tween){this.oldValue.alpha=this.gameObject.alpha;this.oldValue.scaleX=this.gameObject.scaleX;this.oldValue.scaleY=this.gameObject.scaleY;this.tween=A.Tween.hide(this.type,this,this.duration,this.delay)}else{if(!this.tween.isPaused){this.pause()}else{this.resume()}}};t.prototype.reset=function(){this.tween=undefined;for(var t in this.oldValue){if(this.oldValue[t]!=undefined)this.gameObject[t]=this.oldValue[t]}};return t}(A.tween.TweenBase);t.Hide=e;qc.registerBehaviour("ps.tween.Hide",e);e["__menu"]="CustomTween/Hide"})(t=A.tween||(A.tween={}))})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(A){var t;(function(t){var e=function(e){__extends(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t.valueX=0;t.valueY=0;t.serializableFields={playOnAwake:qc.Serializer.BOOLEAN,valueX:qc.Serializer.NUMBER,valueY:qc.Serializer.NUMBER,duration:qc.Serializer.NUMBER,delay:qc.Serializer.NUMBER};return t}t.prototype.play=function(){if(!this.tween){this.tween=A.Tween.moveYoyo(this.gameObject,this.valueX,this.valueY,this.duration,this.delay)}else{this.resume()}};return t}(t.TweenBase);t.Move=e;qc.registerBehaviour("ps.tween.Move",e);e["__menu"]="CustomTween/Move"})(t=A.tween||(A.tween={}))})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(A){var t;(function(t){var e=function(e){__extends(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t.speed=100;t.serializableFields={playOnAwake:qc.Serializer.BOOLEAN,speed:qc.Serializer.NUMBER,delay:qc.Serializer.NUMBER};return t}t.prototype.play=function(){if(!this.tween){this.tween=A.Tween.rotationLoop(this.gameObject,this.speed)}else{this.resume()}};return t}(t.TweenBase);t.Rotation=e;qc.registerBehaviour("ps.tween.Rotation",e);e["__menu"]="CustomTween/Rotation"})(t=A.tween||(A.tween={}))})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(A){var t;(function(t){var e=function(e){__extends(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t.playOnAwake=true;t.speed=100;t.delay=0;t.serializableFields={playOnAwake:qc.Serializer.BOOLEAN,speed:qc.Serializer.NUMBER,delay:qc.Serializer.NUMBER};return t}t.prototype.play=function(){var t=this;if(this.delay){A.timer.once(this.delay,function(){t.playOnAwake=true})}else{this.playOnAwake=true}};t.prototype.update=function(){if(!this.playOnAwake)return;var t=A.Mathf.radianToAngle(this.gameObject.rotation);this.gameObject.rotation=A.Mathf.angleToRadian(t+this.speed*this.game.time.deltaTime/1e3)};return t}(qc.Behaviour);t.RotationFrame=e;qc.registerBehaviour("ps.tween.RotationFrame",e);e["__menu"]="CustomTween/RotationFrame"})(t=A.tween||(A.tween={}))})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(A){var t;(function(t){var e=function(e){__extends(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t.type="zoom";t.endValue=1;t.oldValue={alpha:undefined,scaleX:undefined,scaleY:undefined};t.serializableFields={playOnAwake:qc.Serializer.BOOLEAN,type:qc.Serializer.STRING,duration:qc.Serializer.NUMBER,endValue:qc.Serializer.NUMBER,delay:qc.Serializer.NUMBER};return t}t.prototype.play=function(){if(!this.tween){this.oldValue.alpha=this.gameObject.alpha;this.oldValue.scaleX=this.gameObject.scaleX;this.oldValue.scaleY=this.gameObject.scaleY;switch(this.type){case"zoom":this.tween=A.Tween.showZoom(this,this.duration,this.endValue,this.delay);break;case"alpha":this.tween=A.Tween.showAlpha(this,this.duration,this.endValue,this.delay);break}}else{if(!this.tween.isPaused){this.pause()}else{this.resume()}}};t.prototype.reset=function(){this.tween=undefined;for(var t in this.oldValue){if(this.oldValue[t]!=undefined)this.gameObject[t]=this.oldValue[t]}};return t}(A.tween.TweenBase);t.Show=e;qc.registerBehaviour("ps.tween.Show",e);e["__menu"]="CustomTween/Show"})(t=A.tween||(A.tween={}))})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(o){var t;(function(t){t["TriggerTarget"]="TriggerTarget";t["MissTarget"]="MissTarget"})(t=o.DraggableItemEvent||(o.DraggableItemEvent={}));var e=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e.itemEvent=new o.EventDispatcher;e.returnAnimTime=100;e.serializableFields={targetArea:qc.Serializer.NODE,returnAnimTime:qc.Serializer.NUMBER};return e}t.prototype.onInit=function(){};t.prototype.onStart=function(){this.gameObject.interactive=true;this.orgX=this.gameObject.x;this.orgY=this.gameObject.y};t.prototype.onDrag=function(){var t=[];for(var e=0;e<arguments.length;e++){t[e]=arguments[e]}var A;var i=this.gameObject;t.forEach(function(t){if(t instanceof qc.DragEvent){A=t}});if(!A)return;var o=i.parent.toLocal(new qc.Point(A.source["x"],A.source["y"]));i.x=o.x;i.y=o.y};t.prototype.onDragEnd=function(){var t=[];for(var e=0;e<arguments.length;e++){t[e]=arguments[e]}var A=t.filter(function(t){return t instanceof qc.DragEndEvent})[0];this.gameObject.interactive=false;if(!this.targetArea){this.returnToOrgPos();return}var i=new qc.Point(A.source["x"],A.source["y"]);if(this.targetArea.rectContains(i)){this.gameObject.visible=false;this.itemEvent.dispatch(o.DraggableItemEvent.TriggerTarget)}else{this.returnToOrgPos();this.itemEvent.dispatch(o.DraggableItemEvent.MissTarget,i)}};t.prototype.returnToOrgPos=function(){var t=this;o.Tween.to(this.gameObject,{x:this.orgX,y:this.orgY},this.returnAnimTime).onComplete.addOnce(function(){t.gameObject.interactive=true})};return t}(o.Behaviour);o.DraggableItem=e;qc.registerBehaviour("DraggableItem",e)})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(A){var t;(function(t){var e=function(e){__extends(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t.scale=.1;t.serializableFields={playOnAwake:qc.Serializer.BOOLEAN,scale:qc.Serializer.NUMBER,duration:qc.Serializer.NUMBER,delay:qc.Serializer.NUMBER};return t}t.prototype.play=function(){if(!this.tween){this.tween=A.Tween.zoom(this.gameObject,this.scale,this.duration,this.delay)}else{this.resume()}};return t}(t.TweenBase);t.Zoom=e;qc.registerBehaviour("ps.tween.Zoom",e);e["__menu"]="CustomTween/Zoom"})(t=A.tween||(A.tween={}))})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var EndingBeh=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e.serializableFields={};return e}t.prototype.awake=function(){this.gameObject.minAnchor.x=this.gameObject.minAnchor.y=0;this.gameObject.maxAnchor.x=this.gameObject.maxAnchor.y=1;this.gameObject.left=this.gameObject.right=this.gameObject.bottom=this.gameObject.top=0};t.prototype.show=function(t){if(t===void 0){t=true}};return t}(qc.Behaviour);qc.registerBehaviour("EndingBeh",EndingBeh);var GAME_CFG={playAgain:1,sliderName:4,inputName:"value",switchName:true,radioName:"a",checkboxName:["a","d"],arrayName:["a","d"]};var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(a){var t=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e.showAniTime=300;e.isShow=false;e.serializableFields={showAniTime:qc.Serializer.NUMBER};return e}t.prototype.awake=function(){this.gameObject.visible=false};t.prototype.show=function(t){if(t===void 0){t=true}if(this.isShow)return;this.isShow=true;a.Tween.showAlpha(this,this.showAniTime);if(t)this.setScale(1)};t.prototype.hide=function(){if(!this.isShow)return;this.isShow=false;this.stopScaleEffect();a.Tween.hideAlpha(this,this.showAniTime,0,"hide");this.clearTweener()};t.prototype.setScale=function(t,e){if(e===undefined)e=t;this.gameObject.scaleX=t;this.gameObject.scaleY=e};t.prototype.showScaleEffect=function(t,e){if(t===void 0){t=-.2}if(e===void 0){e=500}a.Tween.zoom(this,t,e)};t.prototype.stopScaleEffect=function(){a.Tween.clearAll(this)};t.prototype.moveToTarget0=function(A,i,o,r){var n=this;if(i===void 0){i=0}if(o===void 0){o=new qc.Point}if(r===void 0){r=new qc.Point(A.pivotX,A.pivotY)}if(i<=0)i=1;this.onceCB=function(){var t=new qc.Point(A.width*(r.x-A.pivotX)+o.x,A.height*(r.y-A.pivotY)+o.y);var e=a.Tools.transPos(A,n.gameObject,t);n.moveToPoint0(e.x,e.y,i)};this.reset()};t.prototype.moveToPoint0=function(t,e,A){if(A===void 0){A=0}if(A>0){a.Tween.to(this,{x:t,y:e},A,Phaser.Easing.Sinusoidal.InOut)}else{this.pos(t,e)}};t.prototype.waitTime=function(t){this.tweener.to({},t,Phaser.Easing.Sinusoidal.InOut);return this};t.prototype.showImg=function(t){if(t===void 0){t=200}this.tweener.to({alpha:1},t,Phaser.Easing.Sinusoidal.InOut);return this};t.prototype.hideImg=function(t){if(t===void 0){t=200}this.tweener.to({alpha:0},t,Phaser.Easing.Sinusoidal.InOut);return this};t.prototype.scaleImg=function(t,e){if(e===void 0){e=200}this.tweener.to({scaleX:t,scaleY:t},e,Phaser.Easing.Sinusoidal.InOut);return this};t.prototype.moveToTarget=function(t,e,A,i){if(e===void 0){e=1}if(A===void 0){A=new qc.Point}if(i===void 0){i=new qc.Point(t.pivotX,t.pivotY)}var o=new qc.Point(t.width*(i.x-t.pivotX)+A.x,t.height*(i.y-t.pivotY)+A.y);var r=a.Tools.transPos(t,this.gameObject,o);this.moveToPoint(r.x,r.y,e);return this};t.prototype.moveToPoint=function(t,e,A){if(A===void 0){A=1}if(this.tweener){this.tweener.to({x:t,y:e},A,Phaser.Easing.Sinusoidal.InOut)}else{this.tweener=a.Tween.to(this,{x:t,y:e},A,Phaser.Easing.Sinusoidal.InOut,undefined,false)}return this};t.prototype.clearTweener=function(){if(this.tweener){a.Tween.clear(this.tweener);this.tweener=undefined}return this};t.prototype.startLoop=function(t){var e=this;if(t){var A=function(){e.clearTweener();t();e.tweener.start();e.tweener.onComplete.addOnce(A)};this.onceCB=undefined;this.loopCB=A}this.reset()};t.prototype.onResize=function(){var t=this;a.timer.once(1,function(){t.reset()})};t.prototype.reset=function(){if(this.onceCB){this.onceCB()}else if(this.loopCB){this.loopCB()}};return t}(a.Behaviour);a.Finger=t;qc.registerBehaviour("ps.Finger",t);t["__menu"]="Custom/Finger"})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(e){var t=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e._interval=500;e.duration=1e3;e.scale=new qc.Point(0,5);e.serializableFields={texture:qc.Serializer.TEXTURE,interval:qc.Serializer.NUMBER,duration:qc.Serializer.NUMBER,scale:qc.Serializer.POINT};e.runInEditor=true;return e}Object.defineProperty(t.prototype,"interval",{get:function(){return this._interval},set:function(t){this._interval=t;this.emission()},enumerable:true,configurable:true});t.prototype.awake=function(){this.gameObject.removeChildren();this.emission()};t.prototype.emission=function(){if(this.timerEvent)e.timer.remove(this.timerEvent);this.timerEvent=e.timer.loop(this.interval,this.createHalo,this)};t.prototype.createHalo=function(){if(!this.enable)return;var t=new qc.UIImage(qc_game);this.gameObject.addChild(t);t.texture=this.texture;t.pivotX=.5;t.pivotY=.5;t.scaleX=this.scale.x;t.scaleY=this.scale.x;e.Tween.to(t,{scale:this.scale.y,alpha:0},this.duration).onComplete.addOnce(function(){t.removeSelf()})};return t}(e.Behaviour);e.Halo=t;qc.registerBehaviour("ps.Halo",t);t["__menu"]="Custom/Halo"})(ps||(ps={}));var JSMpeg={Player:null,VideoElement:null,BitBuffer:null,Source:{},Demuxer:{},Decoder:{},Renderer:{},AudioOutput:{},Now:function(){return window.performance?window.performance.now()/1e3:Date.now()/1e3},CreateVideoElements:function(){for(var t=document.querySelectorAll(".jsmpeg"),e=0;e<t.length;e++)new JSMpeg.VideoElement(t[e])},Fill:function(t,e){if(t.fill)t.fill(e);else for(var A=0;A<t.length;A++)t[A]=e},Base64ToArrayBuffer:function(t){for(var e=window.atob(t),A=e.length,i=new Uint8Array(A),o=0;A>o;o++)i[o]=e.charCodeAt(o);return i.buffer},WASM_BINARY_INLINED:null};"complete"===document.readyState?JSMpeg.CreateVideoElements():document.addEventListener("DOMContentLoaded",JSMpeg.CreateVideoElements),JSMpeg.VideoElement=function(){"use strict";var n=function(e){var t=e.dataset.url;if(!t)throw"VideoElement has no `data-url` attribute";var A=function(t,e){for(var A in e)t.style[A]=e[A]};this.container=e,A(this.container,{display:"inline-block",position:"relative",minWidth:"80px",minHeight:"80px"}),this.canvas=document.createElement("canvas"),this.canvas.width=960,this.canvas.height=540,A(this.canvas,{display:"block",width:"100%"}),this.container.appendChild(this.canvas),this.playButton=document.createElement("div"),this.playButton.innerHTML=n.PLAY_BUTTON,A(this.playButton,{zIndex:2,position:"absolute",top:"0",bottom:"0",left:"0",right:"0",maxWidth:"75px",maxHeight:"75px",margin:"auto",opacity:"0.7",cursor:"pointer"}),this.container.appendChild(this.playButton);var i={canvas:this.canvas};for(var o in e.dataset)try{i[o]=JSON.parse(e.dataset[o])}catch(t){i[o]=e.dataset[o]}if(this.player=new JSMpeg.Player(t,i),e.playerInstance=this.player,!i.poster||i.autoplay||this.player.options.streaming||(i.decodeFirstFrame=!1,this.poster=new Image,this.poster.src=i.poster,this.poster.addEventListener("load",this.posterLoaded),A(this.poster,{display:"block",zIndex:1,position:"absolute",top:0,left:0,bottom:0,right:0}),this.container.appendChild(this.poster)),this.player.options.streaming||this.container.addEventListener("click",this.onClick.bind(this)),(i.autoplay||this.player.options.streaming)&&(this.playButton.style.display="none"),this.player.audioOut&&!this.player.audioOut.unlocked){var r=this.container;(i.autoplay||this.player.options.streaming)&&(this.unmuteButton=document.createElement("div"),this.unmuteButton.innerHTML=n.UNMUTE_BUTTON,A(this.unmuteButton,{zIndex:2,position:"absolute",bottom:"10px",right:"20px",width:"75px",height:"75px",margin:"auto",opacity:"0.7",cursor:"pointer"}),this.container.appendChild(this.unmuteButton),r=this.unmuteButton),this.unlockAudioBound=this.onUnlockAudio.bind(this,r),r.addEventListener("touchstart",this.unlockAudioBound,!1),r.addEventListener("click",this.unlockAudioBound,!0)}};return n.prototype.onUnlockAudio=function(t,e){this.unmuteButton&&(e.preventDefault(),e.stopPropagation()),this.player.audioOut.unlock(function(){this.unmuteButton&&(this.unmuteButton.style.display="none"),t.removeEventListener("touchstart",this.unlockAudioBound),t.removeEventListener("click",this.unlockAudioBound)}.bind(this))},n.prototype.onClick=function(){this.player.isPlaying?(this.player.pause(),this.playButton.style.display="block"):(this.player.play(),this.playButton.style.display="none",this.poster&&(this.poster.style.display="none"))},n.PLAY_BUTTON='<svg style="max-width: 75px; max-height: 75px;" viewBox="0 0 200 200" alt="Play video"><circle cx="100" cy="100" r="90" fill="none" stroke-width="15" stroke="#fff"/><polygon points="70, 55 70, 145 145, 100" fill="#fff"/></svg>',n.UNMUTE_BUTTON='<svg style="max-width: 75px; max-height: 75px;" viewBox="0 0 75 75"><polygon class="audio-speaker" stroke="none" fill="#fff" points="39,13 22,28 6,28 6,47 21,47 39,62 39,13"/><g stroke="#fff" stroke-width="5"><path d="M 49,50 69,26"/><path d="M 69,50 49,26"/></g></svg>',n}(),JSMpeg.Player=function(){"use strict";var t=function(t,e){if(this.options=e||{},e.source?(this.source=new e.source(t,e),e.streaming=!!this.source.streaming):t.match(/^wss?:\/\//)?(this.source=new JSMpeg.Source.WebSocket(t,e),e.streaming=!0):e.progressive!==!1?(this.source=new JSMpeg.Source.AjaxProgressive(t,e),e.streaming=!1):(this.source=new JSMpeg.Source.Ajax(t,e),e.streaming=!1),this.maxAudioLag=e.maxAudioLag||.25,this.loop=e.loop!==!1,this.autoplay=!!e.autoplay||e.streaming,this.demuxer=new JSMpeg.Demuxer.TS(e),this.source.connect(this.demuxer),!e.disableWebAssembly&&JSMpeg.WASMModule.IsSupported()&&(this.wasmModule=new JSMpeg.WASMModule,e.wasmModule=this.wasmModule),e.video!==!1&&(this.video=e.wasmModule?new JSMpeg.Decoder.MPEG1VideoWASM(e):new JSMpeg.Decoder.MPEG1Video(e),this.renderer=!e.disableGl&&JSMpeg.Renderer.WebGL.IsSupported()?new JSMpeg.Renderer.WebGL(e):new JSMpeg.Renderer.Canvas2D(e),this.demuxer.connect(JSMpeg.Demuxer.TS.STREAM.VIDEO_1,this.video),this.video.connect(this.renderer)),e.audio!==!1&&JSMpeg.AudioOutput.WebAudio.IsSupported()&&(this.audio=e.wasmModule?new JSMpeg.Decoder.MP2AudioWASM(e):new JSMpeg.Decoder.MP2Audio(e),this.audioOut=new JSMpeg.AudioOutput.WebAudio(e),this.demuxer.connect(JSMpeg.Demuxer.TS.STREAM.AUDIO_1,this.audio),this.audio.connect(this.audioOut)),Object.defineProperty(this,"currentTime",{get:this.getCurrentTime,set:this.setCurrentTime}),Object.defineProperty(this,"volume",{get:this.getVolume,set:this.setVolume}),this.paused=!0,this.unpauseOnShow=!1,e.pauseWhenHidden!==!1&&document.addEventListener("visibilitychange",this.showHide.bind(this)),this.wasmModule)if(JSMpeg.WASM_BINARY_INLINED){var A=JSMpeg.Base64ToArrayBuffer(JSMpeg.WASM_BINARY_INLINED);this.wasmModule.loadFromBuffer(A,this.startLoading.bind(this))}else this.wasmModule.loadFromFile("jsmpeg.wasm",this.startLoading.bind(this));else this.startLoading()};return t.prototype.startLoading=function(){this.source.start(),this.autoplay&&this.play()},t.prototype.showHide=function(){"hidden"===document.visibilityState?(this.unpauseOnShow=this.wantsToPlay,this.pause()):this.unpauseOnShow&&this.play()},t.prototype.play=function(){this.animationId||(this.animationId=requestAnimationFrame(this.update.bind(this)),this.wantsToPlay=!0,this.paused=!1)},t.prototype.pause=function(){this.paused||(cancelAnimationFrame(this.animationId),this.animationId=null,this.wantsToPlay=!1,this.isPlaying=!1,this.paused=!0,this.options.onPause&&this.options.onPause(this))},t.prototype.getVolume=function(){return this.audioOut?this.audioOut.volume:0},t.prototype.setVolume=function(t){this.audioOut&&(this.audioOut.volume=t)},t.prototype.stop=function(){this.pause(),this.seek(0),this.video&&this.options.decodeFirstFrame!==!1&&this.video.decode()},t.prototype.destroy=function(){this.pause(),this.source.destroy(),this.video&&this.video.destroy(),this.renderer&&this.renderer.destroy(),this.audio&&this.audio.destroy(),this.audioOut&&this.audioOut.destroy()},t.prototype.seek=function(t){var e=this.audio&&this.audio.canPlay?this.audio.startTime:this.video.startTime;this.video&&this.video.seek(t+e),this.audio&&this.audio.seek(t+e),this.startTime=JSMpeg.Now()-t},t.prototype.getCurrentTime=function(){return this.audio&&this.audio.canPlay?this.audio.currentTime-this.audio.startTime:this.video.currentTime-this.video.startTime},t.prototype.setCurrentTime=function(t){this.seek(t)},t.prototype.update=function(){return this.animationId=requestAnimationFrame(this.update.bind(this)),this.source.established?(this.isPlaying||(this.isPlaying=!0,this.startTime=JSMpeg.Now()-this.currentTime,this.options.onPlay&&this.options.onPlay(this)),this.options.streaming?this.updateForStreaming():this.updateForStaticFile(),void 0):(this.renderer&&this.renderer.renderProgress(this.source.progress),void 0)},t.prototype.updateForStreaming=function(){if(this.video&&this.video.decode(),this.audio){var t=!1;do{this.audioOut.enqueuedTime>this.maxAudioLag&&(this.audioOut.resetEnqueuedTime(),this.audioOut.enabled=!1),t=this.audio.decode()}while(t);this.audioOut.enabled=!0}},t.prototype.nextFrame=function(){return this.source.established&&this.video?this.video.decode():!1},t.prototype.updateForStaticFile=function(){var t=!1,e=0;if(this.audio&&this.audio.canPlay){for(;!t&&this.audio.decodedTime-this.audio.currentTime<.01;)t=!this.audio.decode();if(this.video){var A=JSMpeg.Now()-this.startTime+this.video.startTime,i=A-this.video.currentTime,o=1/this.video.frameRate;this.video&&i>0&&(i>2*o&&(this.startTime+=i),t=!this.video.decode())}e=this.demuxer.currentTime-this.audio.currentTime}else if(this.video){var A=JSMpeg.Now()-this.startTime+this.video.startTime,i=A-this.video.currentTime,o=1/this.video.frameRate;this.video&&i>0&&(i>2*o&&(this.startTime+=i),t=!this.video.decode()),e=this.demuxer.currentTime-A}this.source.resume(e),t&&this.source.completed?this.loop?this.seek(0):(this.pause(),this.options.onEnded&&this.options.onEnded(this)):t&&this.options.onStalled&&this.options.onStalled(this)},t}(),JSMpeg.BitBuffer=function(){"use strict";var n=function(t,e){"object"==typeof t?(this.bytes=t instanceof Uint8Array?t:new Uint8Array(t),this.byteLength=this.bytes.length):(this.bytes=new Uint8Array(t||1048576),this.byteLength=0),this.mode=e||n.MODE.EXPAND,this.index=0};return n.prototype.resize=function(t){var e=new Uint8Array(t);0!==this.byteLength&&(this.byteLength=Math.min(this.byteLength,t),e.set(this.bytes,0,this.byteLength)),this.bytes=e,this.index=Math.min(this.index,this.byteLength<<3)},n.prototype.evict=function(t){var e=this.index>>3,A=this.bytes.length-this.byteLength;return this.index===this.byteLength<<3||t>A+e?(this.byteLength=0,this.index=0,void 0):(0!==e&&(this.bytes.copyWithin?this.bytes.copyWithin(0,e,this.byteLength):this.bytes.set(this.bytes.subarray(e,this.byteLength)),this.byteLength=this.byteLength-e,this.index-=e<<3),void 0)},n.prototype.write=function(t){var e="object"==typeof t[0],A=0,i=this.bytes.length-this.byteLength;if(e)for(var A=0,o=0;o<t.length;o++)A+=t[o].byteLength;else A=t.byteLength;if(A>i)if(this.mode===n.MODE.EXPAND){var r=Math.max(2*this.bytes.length,A-i);this.resize(r)}else this.evict(A);if(e)for(var o=0;o<t.length;o++)this.appendSingleBuffer(t[o]);else this.appendSingleBuffer(t);return A},n.prototype.appendSingleBuffer=function(t){t=t instanceof Uint8Array?t:new Uint8Array(t),this.bytes.set(t,this.byteLength),this.byteLength+=t.length},n.prototype.findNextStartCode=function(){for(var t=this.index+7>>3;t<this.byteLength;t++)if(0==this.bytes[t]&&0==this.bytes[t+1]&&1==this.bytes[t+2])return this.index=t+4<<3,this.bytes[t+3];return this.index=this.byteLength<<3,-1},n.prototype.findStartCode=function(t){for(var e=0;;)if(e=this.findNextStartCode(),e===t||-1===e)return e;return-1},n.prototype.nextBytesAreStartCode=function(){var t=this.index+7>>3;return t>=this.byteLength||0==this.bytes[t]&&0==this.bytes[t+1]&&1==this.bytes[t+2]},n.prototype.peek=function(t){for(var e=this.index,A=0;t;){var i=this.bytes[e>>3],o=8-(7&e),r=t>o?o:t,n=o-r,a=255>>8-r;A=A<<r|(i&a<<n)>>n,e+=r,t-=r}return A},n.prototype.read=function(t){var e=this.peek(t);return this.index+=t,e},n.prototype.skip=function(t){return this.index+=t},n.prototype.rewind=function(t){this.index=Math.max(this.index-t,0)},n.prototype.has=function(t){return(this.byteLength<<3)-this.index>=t},n.MODE={EVICT:1,EXPAND:2},n}(),JSMpeg.Source.Ajax=function(){"use strict";var t=function(t,e){this.url=t,this.destination=null,this.request=null,this.streaming=!1,this.completed=!1,this.established=!1,this.progress=0,this.onEstablishedCallback=e.onSourceEstablished,this.onCompletedCallback=e.onSourceCompleted};return t.prototype.connect=function(t){this.destination=t},t.prototype.start=function(){window.assetsPackage?this.onLoad(basedecode(getAssestByUrl(this.url))):(this.request=new XMLHttpRequest,this.request.onreadystatechange=function(){this.request.readyState===this.request.DONE&&200===this.request.status&&this.onLoad(this.request.response)}.bind(this),this.request.onprogress=this.onProgress.bind(this),this.request.open("GET",this.url),this.request.responseType="arraybuffer",this.request.send())},t.prototype.resume=function(){},t.prototype.destroy=function(){this.request.abort()},t.prototype.onProgress=function(t){this.progress=t.loaded/t.total},t.prototype.onLoad=function(t){this.established=!0,this.completed=!0,this.progress=1,this.onEstablishedCallback&&this.onEstablishedCallback(this),this.onCompletedCallback&&this.onCompletedCallback(this),this.destination&&this.destination.write(t)},t}(),JSMpeg.Source.Fetch=function(){"use strict";var t=function(t,e){this.url=t,this.destination=null,this.request=null,this.streaming=!0,this.completed=!1,this.established=!1,this.progress=0,this.aborted=!1,this.onEstablishedCallback=e.onSourceEstablished,this.onCompletedCallback=e.onSourceCompleted};return t.prototype.connect=function(t){this.destination=t},t.prototype.start=function(){var t={method:"GET",headers:new Headers,cache:"default"};self.fetch(this.url,t).then(function(t){return t.ok&&t.status>=200&&t.status<=299?(this.progress=1,this.established=!0,this.pump(t.body.getReader())):void 0}.bind(this)).catch(function(t){throw t})},t.prototype.pump=function(e){return e.read().then(function(t){return t.done?(this.completed=!0,void 0):this.aborted?e.cancel():(this.destination&&this.destination.write(t.value.buffer),this.pump(e))}.bind(this)).catch(function(t){throw t})},t.prototype.resume=function(){},t.prototype.abort=function(){this.aborted=!0},t}(),JSMpeg.Source.AjaxProgressive=function(){"use strict";var t=function(t,e){this.url=t,this.destination=null,this.request=null,this.arrayBuffer=null,this.streaming=!1,this.completed=!1,this.established=!1,this.progress=0,this.fileSize=0,this.loadedSize=0,this.chunkSize=e.chunkSize||1048576,this.isLoading=!1,this.loadStartTime=0,this.throttled=e.throttled!==!1,this.aborted=!1,this.onEstablishedCallback=e.onSourceEstablished,this.onCompletedCallback=e.onSourceCompleted};return t.prototype.connect=function(t){this.destination=t},t.prototype.start=function(){window.assetsPackage?(this.arrayBuffer=basedecode(getAssestByUrl(this.url)),this.fileSize=parseInt(this.arrayBuffer.byteLength),this.loadNextChunk()):(this.request=new XMLHttpRequest,this.request.onreadystatechange=function(){this.request.readyState===this.request.DONE&&(this.fileSize=parseInt(this.request.getResponseHeader("Content-Length")),this.loadNextChunk())}.bind(this),this.request.onprogress=this.onProgress.bind(this),this.request.open("HEAD",this.url),this.request.send())},t.prototype.resume=function(t){if(!this.isLoading&&this.throttled){var e=8*this.loadTime+2;e>t&&this.loadNextChunk()}},t.prototype.destroy=function(){this.request&&this.request.abort(),this.aborted=!0},t.prototype.loadNextChunk=function(){var t=this.loadedSize,e=Math.min(this.loadedSize+this.chunkSize-1,this.fileSize-1);return t>=this.fileSize||this.aborted?(this.completed=!0,this.onCompletedCallback&&this.onCompletedCallback(this),void 0):(this.isLoading=!0,this.loadStartTime=JSMpeg.Now(),window.assetsPackage&&this.arrayBuffer?this.onChunkLoad(this.arrayBuffer):(this.request=new XMLHttpRequest,this.request.onreadystatechange=function(){this.request.readyState===this.request.DONE&&this.request.status>=200&&this.request.status<300?this.onChunkLoad(this.request.response):this.request.readyState===this.request.DONE&&this.loadFails++<3&&this.loadNextChunk()}.bind(this),0===t&&(this.request.onprogress=this.onProgress.bind(this)),this.request.open("GET",this.url+"?"+t+"-"+e),this.request.setRequestHeader("Range","bytes="+t+"-"+e),this.request.responseType="arraybuffer",this.request.send()),void 0)},t.prototype.onProgress=function(t){this.progress=t.loaded/t.total},t.prototype.onChunkLoad=function(t){var e=!this.established;this.established=!0,this.progress=1,this.loadedSize+=t.byteLength,this.loadFails=0,this.isLoading=!1,e&&this.onEstablishedCallback&&this.onEstablishedCallback(this),this.destination&&this.destination.write(t),this.loadTime=JSMpeg.Now()-this.loadStartTime,this.throttled||this.loadNextChunk()},t}(),JSMpeg.Source.WebSocket=function(){"use strict";var t=function(t,e){this.url=t,this.options=e,this.socket=null,this.streaming=!0,this.callbacks={connect:[],data:[]},this.destination=null,this.reconnectInterval=void 0!==e.reconnectInterval?e.reconnectInterval:5,this.shouldAttemptReconnect=!!this.reconnectInterval,this.completed=!1,this.established=!1,this.progress=0,this.reconnectTimeoutId=0,this.onEstablishedCallback=e.onSourceEstablished,this.onCompletedCallback=e.onSourceCompleted};return t.prototype.connect=function(t){this.destination=t},t.prototype.destroy=function(){clearTimeout(this.reconnectTimeoutId),this.shouldAttemptReconnect=!1,this.socket.close()},t.prototype.start=function(){this.shouldAttemptReconnect=!!this.reconnectInterval,this.progress=0,this.established=!1,this.socket=new WebSocket(this.url,this.options.protocols||null),this.socket.binaryType="arraybuffer",this.socket.onmessage=this.onMessage.bind(this),this.socket.onopen=this.onOpen.bind(this),this.socket.onerror=this.onClose.bind(this),this.socket.onclose=this.onClose.bind(this)},t.prototype.resume=function(){},t.prototype.onOpen=function(){this.progress=1},t.prototype.onClose=function(){this.shouldAttemptReconnect&&(clearTimeout(this.reconnectTimeoutId),this.reconnectTimeoutId=setTimeout(function(){this.start()}.bind(this),1e3*this.reconnectInterval))},t.prototype.onMessage=function(t){var e=!this.established;this.established=!0,e&&this.onEstablishedCallback&&this.onEstablishedCallback(this),this.destination&&this.destination.write(t.data)},t}(),JSMpeg.Demuxer.TS=function(){"use strict";var t=function(){this.bits=null,this.leftoverBytes=null,this.guessVideoFrameEnd=!0,this.pidsToStreamIds={},this.pesPacketInfo={},this.startTime=0,this.currentTime=0};return t.prototype.connect=function(t,e){this.pesPacketInfo[t]={destination:e,currentLength:0,totalLength:0,pts:0,buffers:[]}},t.prototype.write=function(t){if(this.leftoverBytes){var e=t.byteLength+this.leftoverBytes.byteLength;this.bits=new JSMpeg.BitBuffer(e),this.bits.write([this.leftoverBytes,t])}else this.bits=new JSMpeg.BitBuffer(t);for(;this.bits.has(1504)&&this.parsePacket(););var A=this.bits.byteLength-(this.bits.index>>3);this.leftoverBytes=A>0?this.bits.bytes.subarray(this.bits.index>>3):null},t.prototype.parsePacket=function(){if(71!==this.bits.read(8)&&!this.resync())return!1;var t=(this.bits.index>>3)+187,e=(this.bits.read(1),this.bits.read(1)),A=(this.bits.read(1),this.bits.read(13)),i=(this.bits.read(2),this.bits.read(2)),o=(this.bits.read(4),this.pidsToStreamIds[A]);if(e&&o){var r=this.pesPacketInfo[o];r&&r.currentLength&&this.packetComplete(r)}if(1&i){if(2&i){var n=this.bits.read(8);this.bits.skip(n<<3)}if(e&&this.bits.nextBytesAreStartCode()){this.bits.skip(24),o=this.bits.read(8),this.pidsToStreamIds[A]=o;var a=this.bits.read(16);this.bits.skip(8);var s=this.bits.read(2);this.bits.skip(6);var c=this.bits.read(8),h=this.bits.index+(c<<3),r=this.pesPacketInfo[o];if(r){var l=0;if(2&s){this.bits.skip(4);var u=this.bits.read(3);this.bits.skip(1);var p=this.bits.read(15);this.bits.skip(1);var d=this.bits.read(15);this.bits.skip(1),l=(1073741824*u+32768*p+d)/9e4,this.currentTime=l,-1===this.startTime&&(this.startTime=l)}var g=a?a-c-3:0;this.packetStart(r,l,g)}this.bits.index=h}if(o){var r=this.pesPacketInfo[o];if(r){var f=this.bits.index>>3,y=this.packetAddData(r,f,t),I=!e&&2&i;(y||this.guessVideoFrameEnd&&I)&&this.packetComplete(r)}}}return this.bits.index=t<<3,!0},t.prototype.resync=function(){if(!this.bits.has(9024))return!1;for(var t=this.bits.index>>3,e=0;187>e;e++)if(71===this.bits.bytes[t+e]){for(var A=!0,i=1;5>i;i++)if(71!==this.bits.bytes[t+e+188*i]){A=!1;break}if(A)return this.bits.index=t+e+1<<3,!0}return console.warn("JSMpeg: Possible garbage data. Skipping."),this.bits.skip(1496),!1},t.prototype.packetStart=function(t,e,A){t.totalLength=A,t.currentLength=0,t.pts=e},t.prototype.packetAddData=function(t,e,A){t.buffers.push(this.bits.bytes.subarray(e,A)),t.currentLength+=A-e;var i=0!==t.totalLength&&t.currentLength>=t.totalLength;return i},t.prototype.packetComplete=function(t){t.destination.write(t.pts,t.buffers),t.totalLength=0,t.currentLength=0,t.buffers=[]},t.STREAM={PACK_HEADER:186,SYSTEM_HEADER:187,PROGRAM_MAP:188,PRIVATE_1:189,PADDING:190,PRIVATE_2:191,AUDIO_1:192,VIDEO_1:224,DIRECTORY:255},t}(),JSMpeg.Decoder.Base=function(){"use strict";var t=function(t){this.destination=null,this.canPlay=!1,this.collectTimestamps=!t.streaming,this.bytesWritten=0,this.timestamps=[],this.timestampIndex=0,this.startTime=0,this.decodedTime=0,Object.defineProperty(this,"currentTime",{get:this.getCurrentTime})};return t.prototype.destroy=function(){},t.prototype.connect=function(t){this.destination=t},t.prototype.bufferGetIndex=function(){return this.bits.index},t.prototype.bufferSetIndex=function(t){this.bits.index=t},t.prototype.bufferWrite=function(t){return this.bits.write(t)},t.prototype.write=function(t,e){this.collectTimestamps&&(0===this.timestamps.length&&(this.startTime=t,this.decodedTime=t),this.timestamps.push({index:this.bytesWritten<<3,time:t})),this.bytesWritten+=this.bufferWrite(e),this.canPlay=!0},t.prototype.seek=function(t){if(this.collectTimestamps){this.timestampIndex=0;for(var e=0;e<this.timestamps.length&&!(this.timestamps[e].time>t);e++)this.timestampIndex=e;var A=this.timestamps[this.timestampIndex];A?(this.bufferSetIndex(A.index),this.decodedTime=A.time):(this.bufferSetIndex(0),this.decodedTime=this.startTime)}},t.prototype.decode=function(){this.advanceDecodedTime(0)},t.prototype.advanceDecodedTime=function(t){if(this.collectTimestamps){for(var e=-1,A=this.bufferGetIndex(),i=this.timestampIndex;i<this.timestamps.length&&!(this.timestamps[i].index>A);i++)e=i;if(-1!==e&&e!==this.timestampIndex)return this.timestampIndex=e,this.decodedTime=this.timestamps[this.timestampIndex].time,void 0}this.decodedTime+=t},t.prototype.getCurrentTime=function(){return this.decodedTime},t}(),JSMpeg.Decoder.MPEG1Video=function(){"use strict";var p=function(t){JSMpeg.Decoder.Base.call(this,t),this.onDecodeCallback=t.onVideoDecode;var e=t.videoBufferSize||524288,A=t.streaming?JSMpeg.BitBuffer.MODE.EVICT:JSMpeg.BitBuffer.MODE.EXPAND;this.bits=new JSMpeg.BitBuffer(e,A),this.customIntraQuantMatrix=new Uint8Array(64),this.customNonIntraQuantMatrix=new Uint8Array(64),this.blockData=new Int32Array(64),this.currentFrame=0,this.decodeFirstFrame=t.decodeFirstFrame!==!1};return p.prototype=Object.create(JSMpeg.Decoder.Base.prototype),p.prototype.constructor=p,p.prototype.write=function(t,e){if(JSMpeg.Decoder.Base.prototype.write.call(this,t,e),!this.hasSequenceHeader){if(-1===this.bits.findStartCode(p.START.SEQUENCE))return!1;this.decodeSequenceHeader(),this.decodeFirstFrame&&this.decode()}},p.prototype.decode=function(){var t=JSMpeg.Now();if(!this.hasSequenceHeader)return!1;if(-1===this.bits.findStartCode(p.START.PICTURE)){{this.bits.byteLength-(this.bits.index>>3)}return!1}this.decodePicture(),this.advanceDecodedTime(1/this.frameRate);var e=JSMpeg.Now()-t;return this.onDecodeCallback&&this.onDecodeCallback(this,e),!0},p.prototype.readHuffman=function(t){var e=0;do{e=t[e+this.bits.read(1)]}while(e>=0&&0!==t[e]);return t[e+2]},p.prototype.frameRate=30,p.prototype.decodeSequenceHeader=function(){var t=this.bits.read(12),e=this.bits.read(12);if(this.bits.skip(4),this.frameRate=p.PICTURE_RATE[this.bits.read(4)],this.bits.skip(30),(t!==this.width||e!==this.height)&&(this.width=t,this.height=e,this.initBuffers(),this.destination&&this.destination.resize(t,e)),this.bits.read(1)){for(var A=0;64>A;A++)this.customIntraQuantMatrix[p.ZIG_ZAG[A]]=this.bits.read(8);this.intraQuantMatrix=this.customIntraQuantMatrix}if(this.bits.read(1)){for(var A=0;64>A;A++){var i=p.ZIG_ZAG[A];this.customNonIntraQuantMatrix[i]=this.bits.read(8)}this.nonIntraQuantMatrix=this.customNonIntraQuantMatrix}this.hasSequenceHeader=!0},p.prototype.initBuffers=function(){this.intraQuantMatrix=p.DEFAULT_INTRA_QUANT_MATRIX,this.nonIntraQuantMatrix=p.DEFAULT_NON_INTRA_QUANT_MATRIX,this.mbWidth=this.width+15>>4,this.mbHeight=this.height+15>>4,this.mbSize=this.mbWidth*this.mbHeight,this.codedWidth=this.mbWidth<<4,this.codedHeight=this.mbHeight<<4,this.codedSize=this.codedWidth*this.codedHeight,this.halfWidth=this.mbWidth<<3,this.halfHeight=this.mbHeight<<3,this.currentY=new Uint8ClampedArray(this.codedSize),this.currentY32=new Uint32Array(this.currentY.buffer),this.currentCr=new Uint8ClampedArray(this.codedSize>>2),this.currentCr32=new Uint32Array(this.currentCr.buffer),this.currentCb=new Uint8ClampedArray(this.codedSize>>2),this.currentCb32=new Uint32Array(this.currentCb.buffer),this.forwardY=new Uint8ClampedArray(this.codedSize),this.forwardY32=new Uint32Array(this.forwardY.buffer),this.forwardCr=new Uint8ClampedArray(this.codedSize>>2),this.forwardCr32=new Uint32Array(this.forwardCr.buffer),this.forwardCb=new Uint8ClampedArray(this.codedSize>>2),this.forwardCb32=new Uint32Array(this.forwardCb.buffer)},p.prototype.currentY=null,p.prototype.currentCr=null,p.prototype.currentCb=null,p.prototype.pictureType=0,p.prototype.forwardY=null,p.prototype.forwardCr=null,p.prototype.forwardCb=null,p.prototype.fullPelForward=!1,p.prototype.forwardFCode=0,p.prototype.forwardRSize=0,p.prototype.forwardF=0,p.prototype.decodePicture=function(){if(this.currentFrame++,this.bits.skip(10),this.pictureType=this.bits.read(3),this.bits.skip(16),!(this.pictureType<=0||this.pictureType>=p.PICTURE_TYPE.B)){if(this.pictureType===p.PICTURE_TYPE.PREDICTIVE){if(this.fullPelForward=this.bits.read(1),this.forwardFCode=this.bits.read(3),0===this.forwardFCode)return;this.forwardRSize=this.forwardFCode-1,this.forwardF=1<<this.forwardRSize}var t=0;do{t=this.bits.findNextStartCode()}while(t===p.START.EXTENSION||t===p.START.USER_DATA);for(;t>=p.START.SLICE_FIRST&&t<=p.START.SLICE_LAST;)this.decodeSlice(255&t),t=this.bits.findNextStartCode();if(-1!==t&&this.bits.rewind(32),this.destination&&this.destination.render(this.currentY,this.currentCr,this.currentCb,!0),this.pictureType===p.PICTURE_TYPE.INTRA||this.pictureType===p.PICTURE_TYPE.PREDICTIVE){var e=this.forwardY,A=this.forwardY32,i=this.forwardCr,o=this.forwardCr32,r=this.forwardCb,n=this.forwardCb32;this.forwardY=this.currentY,this.forwardY32=this.currentY32,this.forwardCr=this.currentCr,this.forwardCr32=this.currentCr32,this.forwardCb=this.currentCb,this.forwardCb32=this.currentCb32,this.currentY=e,this.currentY32=A,this.currentCr=i,this.currentCr32=o,this.currentCb=r,this.currentCb32=n}}},p.prototype.quantizerScale=0,p.prototype.sliceBegin=!1,p.prototype.decodeSlice=function(t){for(this.sliceBegin=!0,this.macroblockAddress=(t-1)*this.mbWidth-1,this.motionFwH=this.motionFwHPrev=0,this.motionFwV=this.motionFwVPrev=0,this.dcPredictorY=128,this.dcPredictorCr=128,this.dcPredictorCb=128,this.quantizerScale=this.bits.read(5);this.bits.read(1);)this.bits.skip(8);do{this.decodeMacroblock()}while(!this.bits.nextBytesAreStartCode())},p.prototype.macroblockAddress=0,p.prototype.mbRow=0,p.prototype.mbCol=0,p.prototype.macroblockType=0,p.prototype.macroblockIntra=!1,p.prototype.macroblockMotFw=!1,p.prototype.motionFwH=0,p.prototype.motionFwV=0,p.prototype.motionFwHPrev=0,p.prototype.motionFwVPrev=0,p.prototype.decodeMacroblock=function(){for(var t=0,e=this.readHuffman(p.MACROBLOCK_ADDRESS_INCREMENT);34===e;)e=this.readHuffman(p.MACROBLOCK_ADDRESS_INCREMENT);for(;35===e;)t+=33,e=this.readHuffman(p.MACROBLOCK_ADDRESS_INCREMENT);if(t+=e,this.sliceBegin)this.sliceBegin=!1,this.macroblockAddress+=t;else{if(this.macroblockAddress+t>=this.mbSize)return;for(t>1&&(this.dcPredictorY=128,this.dcPredictorCr=128,this.dcPredictorCb=128,this.pictureType===p.PICTURE_TYPE.PREDICTIVE&&(this.motionFwH=this.motionFwHPrev=0,this.motionFwV=this.motionFwVPrev=0));t>1;)this.macroblockAddress++,this.mbRow=this.macroblockAddress/this.mbWidth|0,this.mbCol=this.macroblockAddress%this.mbWidth,this.copyMacroblock(this.motionFwH,this.motionFwV,this.forwardY,this.forwardCr,this.forwardCb),t--;this.macroblockAddress++}this.mbRow=this.macroblockAddress/this.mbWidth|0,this.mbCol=this.macroblockAddress%this.mbWidth;var A=p.MACROBLOCK_TYPE[this.pictureType];this.macroblockType=this.readHuffman(A),this.macroblockIntra=1&this.macroblockType,this.macroblockMotFw=8&this.macroblockType,0!==(16&this.macroblockType)&&(this.quantizerScale=this.bits.read(5)),this.macroblockIntra?(this.motionFwH=this.motionFwHPrev=0,this.motionFwV=this.motionFwVPrev=0):(this.dcPredictorY=128,this.dcPredictorCr=128,this.dcPredictorCb=128,this.decodeMotionVectors(),this.copyMacroblock(this.motionFwH,this.motionFwV,this.forwardY,this.forwardCr,this.forwardCb));for(var i=0!==(2&this.macroblockType)?this.readHuffman(p.CODE_BLOCK_PATTERN):this.macroblockIntra?63:0,o=0,r=32;6>o;o++)0!==(i&r)&&this.decodeBlock(o),r>>=1},p.prototype.decodeMotionVectors=function(){var t,e,A=0;this.macroblockMotFw?(t=this.readHuffman(p.MOTION),0!==t&&1!==this.forwardF?(A=this.bits.read(this.forwardRSize),e=(Math.abs(t)-1<<this.forwardRSize)+A+1,0>t&&(e=-e)):e=t,this.motionFwHPrev+=e,this.motionFwHPrev>(this.forwardF<<4)-1?this.motionFwHPrev-=this.forwardF<<5:this.motionFwHPrev<-this.forwardF<<4&&(this.motionFwHPrev+=this.forwardF<<5),this.motionFwH=this.motionFwHPrev,this.fullPelForward&&(this.motionFwH<<=1),t=this.readHuffman(p.MOTION),0!==t&&1!==this.forwardF?(A=this.bits.read(this.forwardRSize),e=(Math.abs(t)-1<<this.forwardRSize)+A+1,0>t&&(e=-e)):e=t,this.motionFwVPrev+=e,this.motionFwVPrev>(this.forwardF<<4)-1?this.motionFwVPrev-=this.forwardF<<5:this.motionFwVPrev<-this.forwardF<<4&&(this.motionFwVPrev+=this.forwardF<<5),this.motionFwV=this.motionFwVPrev,this.fullPelForward&&(this.motionFwV<<=1)):this.pictureType===p.PICTURE_TYPE.PREDICTIVE&&(this.motionFwH=this.motionFwHPrev=0,this.motionFwV=this.motionFwVPrev=0)},p.prototype.copyMacroblock=function(t,e,A,i,o){var r,n,a,s,c,h,l,u,p,d=this.currentY32,g=this.currentCb32,f=this.currentCr32;r=this.codedWidth,n=r-16,a=t>>1,s=e>>1,c=1===(1&t),h=1===(1&e),l=((this.mbRow<<4)+s)*r+(this.mbCol<<4)+a,u=this.mbRow*r+this.mbCol<<2,p=u+(r<<2);var y,I,E,B;if(c)if(h)for(;p>u;){for(I=A[l]+A[l+r],l++,y=0;4>y;y++)E=A[l]+A[l+r],l++,B=I+E+2>>2&255,I=A[l]+A[l+r],l++,B|=I+E+2<<6&65280,E=A[l]+A[l+r],l++,B|=I+E+2<<14&16711680,I=A[l]+A[l+r],l++,B|=I+E+2<<22&4278190080,d[u++]=B;u+=n>>2,l+=n-1}else for(;p>u;){for(I=A[l++],y=0;4>y;y++)E=A[l++],B=I+E+1>>1&255,I=A[l++],B|=I+E+1<<7&65280,E=A[l++],B|=I+E+1<<15&16711680,I=A[l++],B|=I+E+1<<23&4278190080,d[u++]=B;u+=n>>2,l+=n-1}else if(h)for(;p>u;){for(y=0;4>y;y++)B=A[l]+A[l+r]+1>>1&255,l++,B|=A[l]+A[l+r]+1<<7&65280,l++,B|=A[l]+A[l+r]+1<<15&16711680,l++,B|=A[l]+A[l+r]+1<<23&4278190080,l++,d[u++]=B;u+=n>>2,l+=n}else for(;p>u;){for(y=0;4>y;y++)B=A[l],l++,B|=A[l]<<8,l++,B|=A[l]<<16,l++,B|=A[l]<<24,l++,d[u++]=B;u+=n>>2,l+=n}r=this.halfWidth,n=r-8,a=t/2>>1,s=e/2>>1,c=1===(t/2&1),h=1===(e/2&1),l=((this.mbRow<<3)+s)*r+(this.mbCol<<3)+a,u=this.mbRow*r+this.mbCol<<1,p=u+(r<<1);var m,v,C,Q,w,b;if(c)if(h)for(;p>u;){for(m=i[l]+i[l+r],Q=o[l]+o[l+r],l++,y=0;2>y;y++)v=i[l]+i[l+r],w=o[l]+o[l+r],l++,C=m+v+2>>2&255,b=Q+w+2>>2&255,m=i[l]+i[l+r],Q=o[l]+o[l+r],l++,C|=m+v+2<<6&65280,b|=Q+w+2<<6&65280,v=i[l]+i[l+r],w=o[l]+o[l+r],l++,C|=m+v+2<<14&16711680,b|=Q+w+2<<14&16711680,m=i[l]+i[l+r],Q=o[l]+o[l+r],l++,C|=m+v+2<<22&4278190080,b|=Q+w+2<<22&4278190080,f[u]=C,g[u]=b,u++;u+=n>>2,l+=n-1}else for(;p>u;){for(m=i[l],Q=o[l],l++,y=0;2>y;y++)v=i[l],w=o[l++],C=m+v+1>>1&255,b=Q+w+1>>1&255,m=i[l],Q=o[l++],C|=m+v+1<<7&65280,b|=Q+w+1<<7&65280,v=i[l],w=o[l++],C|=m+v+1<<15&16711680,b|=Q+w+1<<15&16711680,m=i[l],Q=o[l++],C|=m+v+1<<23&4278190080,b|=Q+w+1<<23&4278190080,f[u]=C,g[u]=b,u++;u+=n>>2,l+=n-1}else if(h)for(;p>u;){for(y=0;2>y;y++)C=i[l]+i[l+r]+1>>1&255,b=o[l]+o[l+r]+1>>1&255,l++,C|=i[l]+i[l+r]+1<<7&65280,b|=o[l]+o[l+r]+1<<7&65280,l++,C|=i[l]+i[l+r]+1<<15&16711680,b|=o[l]+o[l+r]+1<<15&16711680,l++,C|=i[l]+i[l+r]+1<<23&4278190080,b|=o[l]+o[l+r]+1<<23&4278190080,l++,f[u]=C,g[u]=b,u++;u+=n>>2,l+=n}else for(;p>u;){for(y=0;2>y;y++)C=i[l],b=o[l],l++,C|=i[l]<<8,b|=o[l]<<8,l++,C|=i[l]<<16,b|=o[l]<<16,l++,C|=i[l]<<24,b|=o[l]<<24,l++,f[u]=C,g[u]=b,u++;u+=n>>2,l+=n}},p.prototype.dcPredictorY=0,p.prototype.dcPredictorCr=0,p.prototype.dcPredictorCb=0,p.prototype.blockData=null,p.prototype.decodeBlock=function(t){var e,A=0;if(this.macroblockIntra){var i,o;if(4>t?(i=this.dcPredictorY,o=this.readHuffman(p.DCT_DC_SIZE_LUMINANCE)):(i=4===t?this.dcPredictorCr:this.dcPredictorCb,o=this.readHuffman(p.DCT_DC_SIZE_CHROMINANCE)),o>0){var r=this.bits.read(o);this.blockData[0]=0!==(r&1<<o-1)?i+r:i+(-1<<o|r+1)}else this.blockData[0]=i;4>t?this.dcPredictorY=this.blockData[0]:4===t?this.dcPredictorCr=this.blockData[0]:this.dcPredictorCb=this.blockData[0],this.blockData[0]<<=8,e=this.intraQuantMatrix,A=1}else e=this.nonIntraQuantMatrix;for(var n=0;;){var a=0,s=this.readHuffman(p.DCT_COEFF);if(1===s&&A>0&&0===this.bits.read(1))break;65535===s?(a=this.bits.read(6),n=this.bits.read(8),0===n?n=this.bits.read(8):128===n?n=this.bits.read(8)-256:n>128&&(n-=256)):(a=s>>8,n=255&s,this.bits.read(1)&&(n=-n)),A+=a;var c=p.ZIG_ZAG[A];A++,n<<=1,this.macroblockIntra||(n+=0>n?-1:1),n=n*this.quantizerScale*e[c]>>4,0===(1&n)&&(n-=n>0?1:-1),n>2047?n=2047:-2048>n&&(n=-2048),this.blockData[c]=n*p.PREMULTIPLIER_MATRIX[c]}var h,l,u;4>t?(h=this.currentY,u=this.codedWidth-8,l=this.mbRow*this.codedWidth+this.mbCol<<4,0!==(1&t)&&(l+=8),0!==(2&t)&&(l+=this.codedWidth<<3)):(h=4===t?this.currentCb:this.currentCr,u=(this.codedWidth>>1)-8,l=(this.mbRow*this.codedWidth<<2)+(this.mbCol<<3)),this.macroblockIntra?1===A?(p.CopyValueToDestination(this.blockData[0]+128>>8,h,l,u),this.blockData[0]=0):(p.IDCT(this.blockData),p.CopyBlockToDestination(this.blockData,h,l,u),JSMpeg.Fill(this.blockData,0)):1===A?(p.AddValueToDestination(this.blockData[0]+128>>8,h,l,u),this.blockData[0]=0):(p.IDCT(this.blockData),p.AddBlockToDestination(this.blockData,h,l,u),JSMpeg.Fill(this.blockData,0)),A=0},p.CopyBlockToDestination=function(t,e,A,i){for(var o=0;64>o;o+=8,A+=i+8)e[A+0]=t[o+0],e[A+1]=t[o+1],e[A+2]=t[o+2],e[A+3]=t[o+3],e[A+4]=t[o+4],e[A+5]=t[o+5],e[A+6]=t[o+6],e[A+7]=t[o+7]},p.AddBlockToDestination=function(t,e,A,i){for(var o=0;64>o;o+=8,A+=i+8)e[A+0]+=t[o+0],e[A+1]+=t[o+1],e[A+2]+=t[o+2],e[A+3]+=t[o+3],e[A+4]+=t[o+4],e[A+5]+=t[o+5],e[A+6]+=t[o+6],e[A+7]+=t[o+7]},p.CopyValueToDestination=function(t,e,A,i){for(var o=0;64>o;o+=8,A+=i+8)e[A+0]=t,e[A+1]=t,e[A+2]=t,e[A+3]=t,e[A+4]=t,e[A+5]=t,e[A+6]=t,e[A+7]=t},p.AddValueToDestination=function(t,e,A,i){for(var o=0;64>o;o+=8,A+=i+8)e[A+0]+=t,e[A+1]+=t,e[A+2]+=t,e[A+3]+=t,e[A+4]+=t,e[A+5]+=t,e[A+6]+=t,e[A+7]+=t},p.IDCT=function(t){for(var e,A,i,o,r,n,a,s,c,h,l,u,p,d,g,f,y,I,E=0;8>E;++E)e=t[32+E],A=t[16+E]+t[48+E],i=t[40+E]-t[24+E],n=t[8+E]+t[56+E],a=t[24+E]+t[40+E],o=t[8+E]-t[56+E],r=n+a,s=t[0+E],p=(473*o-196*i+128>>8)-r,c=p-(362*(n-a)+128>>8),h=s-e,l=(362*(t[16+E]-t[48+E])+128>>8)-A,u=s+e,d=h+l,g=u+A,f=h-l,y=u-A,I=-c-(473*i+196*o+128>>8),t[0+E]=r+g,t[8+E]=p+d,t[16+E]=f-c,t[24+E]=y-I,t[32+E]=y+I,t[40+E]=c+f,t[48+E]=d-p,t[56+E]=g-r;for(var E=0;64>E;E+=8)e=t[4+E],A=t[2+E]+t[6+E],i=t[5+E]-t[3+E],n=t[1+E]+t[7+E],a=t[3+E]+t[5+E],o=t[1+E]-t[7+E],r=n+a,s=t[0+E],p=(473*o-196*i+128>>8)-r,c=p-(362*(n-a)+128>>8),h=s-e,l=(362*(t[2+E]-t[6+E])+128>>8)-A,u=s+e,d=h+l,g=u+A,f=h-l,y=u-A,I=-c-(473*i+196*o+128>>8),t[0+E]=r+g+128>>8,t[1+E]=p+d+128>>8,t[2+E]=f-c+128>>8,t[3+E]=y-I+128>>8,t[4+E]=y+I+128>>8,t[5+E]=c+f+128>>8,t[6+E]=d-p+128>>8,t[7+E]=g-r+128>>8},p.PICTURE_RATE=[0,23.976,24,25,29.97,30,50,59.94,60,0,0,0,0,0,0,0],p.ZIG_ZAG=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),p.DEFAULT_INTRA_QUANT_MATRIX=new Uint8Array([8,16,19,22,26,27,29,34,16,16,22,24,27,29,34,37,19,22,26,27,29,34,34,38,22,22,26,27,29,34,37,40,22,26,27,29,32,35,40,48,26,27,29,32,35,40,48,58,26,27,29,34,38,46,56,69,27,29,35,38,46,56,69,83]),p.DEFAULT_NON_INTRA_QUANT_MATRIX=new Uint8Array([16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16]),p.PREMULTIPLIER_MATRIX=new Uint8Array([32,44,42,38,32,25,17,9,44,62,58,52,44,35,24,12,42,58,55,49,42,33,23,12,38,52,49,44,38,30,20,10,32,44,42,38,32,25,17,9,25,35,33,30,25,20,14,7,17,24,23,20,17,14,9,5,9,12,12,10,9,7,5,2]),p.MACROBLOCK_ADDRESS_INCREMENT=new Int16Array([3,6,0,9,12,0,0,0,1,15,18,0,21,24,0,27,30,0,33,36,0,0,0,3,0,0,2,39,42,0,45,48,0,0,0,5,0,0,4,51,54,0,57,60,0,0,0,7,0,0,6,63,66,0,69,72,0,75,78,0,81,84,0,-1,87,0,-1,90,0,93,96,0,99,102,0,105,108,0,111,114,0,0,0,9,0,0,8,117,120,0,123,126,0,129,132,0,135,138,0,0,0,15,0,0,14,0,0,13,0,0,12,0,0,11,0,0,10,141,-1,0,-1,144,0,147,150,0,153,156,0,159,162,0,165,168,0,171,174,0,177,180,0,183,-1,0,-1,186,0,189,192,0,195,198,0,201,204,0,207,210,0,213,216,0,219,222,0,0,0,21,0,0,20,0,0,19,0,0,18,0,0,17,0,0,16,0,0,35,0,0,34,0,0,33,0,0,32,0,0,31,0,0,30,0,0,29,0,0,28,0,0,27,0,0,26,0,0,25,0,0,24,0,0,23,0,0,22]),p.MACROBLOCK_TYPE_INTRA=new Int8Array([3,6,0,-1,9,0,0,0,1,0,0,17]),p.MACROBLOCK_TYPE_PREDICTIVE=new Int8Array([3,6,0,9,12,0,0,0,10,15,18,0,0,0,2,21,24,0,0,0,8,27,30,0,33,36,0,-1,39,0,0,0,18,0,0,26,0,0,1,0,0,17]),p.MACROBLOCK_TYPE_B=new Int8Array([3,6,0,9,15,0,12,18,0,24,21,0,0,0,12,27,30,0,0,0,14,39,42,0,36,33,0,0,0,4,0,0,6,54,48,0,45,51,0,0,0,8,0,0,10,-1,57,0,0,0,1,60,63,0,0,0,30,0,0,17,0,0,22,0,0,26]),p.MACROBLOCK_TYPE=[null,p.MACROBLOCK_TYPE_INTRA,p.MACROBLOCK_TYPE_PREDICTIVE,p.MACROBLOCK_TYPE_B],p.CODE_BLOCK_PATTERN=new Int16Array([6,3,0,9,18,0,12,15,0,24,33,0,36,39,0,27,21,0,30,42,0,60,57,0,54,48,0,69,51,0,81,75,0,63,84,0,45,66,0,72,78,0,0,0,60,105,120,0,132,144,0,114,108,0,126,141,0,87,93,0,117,96,0,0,0,32,135,138,0,99,123,0,129,102,0,0,0,4,90,111,0,0,0,8,0,0,16,0,0,44,150,168,0,0,0,28,0,0,52,0,0,62,183,177,0,156,180,0,0,0,1,165,162,0,0,0,61,0,0,56,171,174,0,0,0,2,0,0,40,153,186,0,0,0,48,192,189,0,147,159,0,0,0,20,0,0,12,240,249,0,0,0,63,231,225,0,195,219,0,252,198,0,0,0,24,0,0,36,0,0,3,207,261,0,243,237,0,204,213,0,210,234,0,201,228,0,216,222,0,258,255,0,264,246,0,-1,282,0,285,291,0,0,0,33,0,0,9,318,330,0,306,348,0,0,0,5,0,0,10,279,267,0,0,0,6,0,0,18,0,0,17,0,0,34,339,357,0,309,312,0,270,276,0,327,321,0,351,354,0,303,297,0,294,288,0,300,273,0,342,345,0,315,324,0,336,333,0,363,375,0,0,0,41,0,0,14,0,0,21,372,366,0,360,369,0,0,0,11,0,0,19,0,0,7,0,0,35,0,0,13,0,0,50,0,0,49,0,0,58,0,0,37,0,0,25,0,0,45,0,0,57,0,0,26,0,0,29,0,0,38,0,0,53,0,0,23,0,0,43,0,0,46,0,0,42,0,0,22,0,0,54,0,0,51,0,0,15,0,0,30,0,0,39,0,0,47,0,0,55,0,0,27,0,0,59,0,0,31]),p.MOTION=new Int16Array([3,6,0,12,9,0,0,0,0,18,15,0,24,21,0,0,0,-1,0,0,1,27,30,0,36,33,0,0,0,2,0,0,-2,42,45,0,48,39,0,60,54,0,0,0,3,0,0,-3,51,57,0,-1,69,0,81,75,0,78,63,0,72,66,0,96,84,0,87,93,0,-1,99,0,108,105,0,0,0,-4,90,102,0,0,0,4,0,0,-7,0,0,5,111,123,0,0,0,-5,0,0,7,114,120,0,126,117,0,0,0,-6,0,0,6,153,162,0,150,147,0,135,138,0,156,141,0,129,159,0,132,144,0,0,0,10,0,0,9,0,0,8,0,0,-8,171,198,0,0,0,-9,180,192,0,168,183,0,165,186,0,174,189,0,0,0,-10,177,195,0,0,0,12,0,0,16,0,0,13,0,0,14,0,0,11,0,0,15,0,0,-16,0,0,-12,0,0,-14,0,0,-15,0,0,-11,0,0,-13]),p.DCT_DC_SIZE_LUMINANCE=new Int8Array([6,3,0,18,15,0,9,12,0,0,0,1,0,0,2,27,24,0,21,30,0,0,0,0,36,33,0,0,0,4,0,0,3,39,42,0,0,0,5,0,0,6,48,45,0,51,-1,0,0,0,7,0,0,8]),p.DCT_DC_SIZE_CHROMINANCE=new Int8Array([6,3,0,12,9,0,18,15,0,24,21,0,0,0,2,0,0,1,0,0,0,30,27,0,0,0,3,36,33,0,0,0,4,42,39,0,0,0,5,48,45,0,0,0,6,51,-1,0,0,0,7,0,0,8]),p.DCT_COEFF=new Int32Array([3,6,0,12,9,0,0,0,1,21,24,0,18,15,0,39,27,0,33,30,0,42,36,0,0,0,257,60,66,0,54,63,0,48,57,0,0,0,513,51,45,0,0,0,2,0,0,3,81,75,0,87,93,0,72,78,0,96,90,0,0,0,1025,69,84,0,0,0,769,0,0,258,0,0,1793,0,0,65535,0,0,1537,111,108,0,0,0,1281,105,102,0,117,114,0,99,126,0,120,123,0,156,150,0,162,159,0,144,147,0,129,135,0,138,132,0,0,0,2049,0,0,4,0,0,514,0,0,2305,153,141,0,165,171,0,180,168,0,177,174,0,183,186,0,0,0,2561,0,0,3329,0,0,6,0,0,259,0,0,5,0,0,770,0,0,2817,0,0,3073,228,225,0,201,210,0,219,213,0,234,222,0,216,231,0,207,192,0,204,189,0,198,195,0,243,261,0,273,240,0,246,237,0,249,258,0,279,276,0,252,255,0,270,282,0,264,267,0,0,0,515,0,0,260,0,0,7,0,0,1026,0,0,1282,0,0,4097,0,0,3841,0,0,3585,315,321,0,333,342,0,312,291,0,375,357,0,288,294,0,-1,369,0,285,303,0,318,363,0,297,306,0,339,309,0,336,348,0,330,300,0,372,345,0,351,366,0,327,354,0,360,324,0,381,408,0,417,420,0,390,378,0,435,438,0,384,387,0,0,0,2050,396,402,0,465,462,0,0,0,8,411,399,0,429,432,0,453,414,0,426,423,0,0,0,10,0,0,9,0,0,11,0,0,5377,0,0,1538,0,0,771,0,0,5121,0,0,1794,0,0,4353,0,0,4609,0,0,4865,444,456,0,0,0,1027,459,450,0,0,0,261,393,405,0,0,0,516,447,441,0,516,519,0,486,474,0,510,483,0,504,498,0,471,537,0,507,501,0,522,513,0,534,531,0,468,477,0,492,495,0,549,546,0,525,528,0,0,0,263,0,0,2562,0,0,2306,0,0,5633,0,0,5889,0,0,6401,0,0,6145,0,0,1283,0,0,772,0,0,13,0,0,12,0,0,14,0,0,15,0,0,517,0,0,6657,0,0,262,540,543,0,480,489,0,588,597,0,0,0,27,609,555,0,606,603,0,0,0,19,0,0,22,591,621,0,0,0,18,573,576,0,564,570,0,0,0,20,552,582,0,0,0,21,558,579,0,0,0,23,612,594,0,0,0,25,0,0,24,600,615,0,0,0,31,0,0,30,0,0,28,0,0,29,0,0,26,0,0,17,0,0,16,567,618,0,561,585,0,654,633,0,0,0,37,645,648,0,0,0,36,630,636,0,0,0,34,639,627,0,663,666,0,657,624,0,651,642,0,669,660,0,0,0,35,0,0,267,0,0,40,0,0,268,0,0,266,0,0,32,0,0,264,0,0,265,0,0,38,0,0,269,0,0,270,0,0,33,0,0,39,0,0,7937,0,0,6913,0,0,7681,0,0,4098,0,0,7425,0,0,7169,0,0,271,0,0,274,0,0,273,0,0,272,0,0,1539,0,0,2818,0,0,3586,0,0,3330,0,0,3074,0,0,3842]),p.PICTURE_TYPE={INTRA:1,PREDICTIVE:2,B:3},p.START={SEQUENCE:179,SLICE_FIRST:1,SLICE_LAST:175,PICTURE:0,EXTENSION:181,USER_DATA:178},p}(),JSMpeg.Decoder.MPEG1VideoWASM=function(){"use strict";var t=function(t){JSMpeg.Decoder.Base.call(this,t),this.onDecodeCallback=t.onVideoDecode,this.module=t.wasmModule,this.bufferSize=t.videoBufferSize||524288,this.bufferMode=t.streaming?JSMpeg.BitBuffer.MODE.EVICT:JSMpeg.BitBuffer.MODE.EXPAND,this.decodeFirstFrame=t.decodeFirstFrame!==!1,this.hasSequenceHeader=!1};return t.prototype=Object.create(JSMpeg.Decoder.Base.prototype),t.prototype.constructor=t,t.prototype.initializeWasmDecoder=function(){return this.module.instance?(this.instance=this.module.instance,this.functions=this.module.instance.exports,this.decoder=this.functions._mpeg1_decoder_create(this.bufferSize,this.bufferMode),void 0):(console.warn("JSMpeg: WASM module not compiled yet"),void 0)},t.prototype.destroy=function(){this.decoder&&this.functions._mpeg1_decoder_destroy(this.decoder)},t.prototype.bufferGetIndex=function(){return this.decoder?this.functions._mpeg1_decoder_get_index(this.decoder):void 0},t.prototype.bufferSetIndex=function(t){this.decoder&&this.functions._mpeg1_decoder_set_index(this.decoder,t)},t.prototype.bufferWrite=function(t){this.decoder||this.initializeWasmDecoder();for(var e=0,A=0;A<t.length;A++)e+=t[A].length;for(var i=this.functions._mpeg1_decoder_get_write_ptr(this.decoder,e),A=0;A<t.length;A++)this.instance.heapU8.set(t[A],i),i+=t[A].length;return this.functions._mpeg1_decoder_did_write(this.decoder,e),e},t.prototype.write=function(t,e){JSMpeg.Decoder.Base.prototype.write.call(this,t,e),!this.hasSequenceHeader&&this.functions._mpeg1_decoder_has_sequence_header(this.decoder)&&this.loadSequnceHeader()},t.prototype.loadSequnceHeader=function(){if(this.hasSequenceHeader=!0,this.frameRate=this.functions._mpeg1_decoder_get_frame_rate(this.decoder),this.codedSize=this.functions._mpeg1_decoder_get_coded_size(this.decoder),this.destination){var t=this.functions._mpeg1_decoder_get_width(this.decoder),e=this.functions._mpeg1_decoder_get_height(this.decoder);this.destination.resize(t,e)}this.decodeFirstFrame&&this.decode()},t.prototype.decode=function(){var t=JSMpeg.Now();if(!this.decoder)return!1;var e=this.functions._mpeg1_decoder_decode(this.decoder);if(!e)return!1;if(this.destination){var A=this.functions._mpeg1_decoder_get_y_ptr(this.decoder),i=this.functions._mpeg1_decoder_get_cr_ptr(this.decoder),o=this.functions._mpeg1_decoder_get_cb_ptr(this.decoder),r=this.instance.heapU8.subarray(A,A+this.codedSize),n=this.instance.heapU8.subarray(i,i+(this.codedSize>>2)),a=this.instance.heapU8.subarray(o,o+(this.codedSize>>2));this.destination.render(r,n,a,!1)}this.advanceDecodedTime(1/this.frameRate);var s=JSMpeg.Now()-t;return this.onDecodeCallback&&this.onDecodeCallback(this,s),!0},t}(),JSMpeg.Decoder.MP2Audio=function(){"use strict";var T=function(t){JSMpeg.Decoder.Base.call(this,t),this.onDecodeCallback=t.onAudioDecode;var e=t.audioBufferSize||131072,A=t.streaming?JSMpeg.BitBuffer.MODE.EVICT:JSMpeg.BitBuffer.MODE.EXPAND;this.bits=new JSMpeg.BitBuffer(e,A),this.left=new Float32Array(1152),this.right=new Float32Array(1152),this.sampleRate=44100,this.D=new Float32Array(1024),this.D.set(T.SYNTHESIS_WINDOW,0),this.D.set(T.SYNTHESIS_WINDOW,512),this.V=new Float32Array(1024),this.U=new Int32Array(32),this.VPos=0,this.allocation=[new Array(32),new Array(32)],this.scaleFactorInfo=[new Uint8Array(32),new Uint8Array(32)],this.scaleFactor=[new Array(32),new Array(32)],this.sample=[new Array(32),new Array(32)];for(var i=0;2>i;i++)for(var o=0;32>o;o++)this.scaleFactor[i][o]=[0,0,0],this.sample[i][o]=[0,0,0]};return T.prototype=Object.create(JSMpeg.Decoder.Base.prototype),T.prototype.constructor=T,T.prototype.decode=function(){var t=JSMpeg.Now(),e=this.bits.index>>3;if(e>=this.bits.byteLength)return!1;var A=this.decodeFrame(this.left,this.right);if(this.bits.index=e+A<<3,!A)return!1;this.destination&&this.destination.play(this.sampleRate,this.left,this.right),this.advanceDecodedTime(this.left.length/this.sampleRate);var i=JSMpeg.Now()-t;return this.onDecodeCallback&&this.onDecodeCallback(this,i),!0},T.prototype.getCurrentTime=function(){var t=this.destination?this.destination.enqueuedTime:0;return this.decodedTime-t},T.prototype.decodeFrame=function(t,e){var A=this.bits.read(11),i=this.bits.read(2),o=this.bits.read(2),r=!this.bits.read(1);if(A!==T.FRAME_SYNC||i!==T.VERSION.MPEG_1||o!==T.LAYER.II)return 0;var n=this.bits.read(4)-1;if(n>13)return 0;var a=this.bits.read(2),s=T.SAMPLE_RATE[a];if(3===a)return 0;i===T.VERSION.MPEG_2&&(a+=4,n+=14);var c=this.bits.read(1),h=(this.bits.read(1),this.bits.read(2)),l=0;h===T.MODE.JOINT_STEREO?l=this.bits.read(2)+1<<2:(this.bits.skip(2),l=h===T.MODE.MONO?0:32),this.bits.skip(4),r&&this.bits.skip(16);var u=T.BIT_RATE[n],s=T.SAMPLE_RATE[a],p=144e3*u/s+c|0,d=0,g=0;if(i===T.VERSION.MPEG_2)d=2,g=30;else{var f=h===T.MODE.MONO?0:1,y=T.QUANT_LUT_STEP_1[f][n];d=T.QUANT_LUT_STEP_2[y][a],g=63&d,d>>=6}l>g&&(l=g);for(var I=0;l>I;I++)this.allocation[0][I]=this.readAllocation(I,d),this.allocation[1][I]=this.readAllocation(I,d);for(var I=l;g>I;I++)this.allocation[0][I]=this.allocation[1][I]=this.readAllocation(I,d);for(var E=h===T.MODE.MONO?1:2,I=0;g>I;I++){for(B=0;E>B;B++)this.allocation[B][I]&&(this.scaleFactorInfo[B][I]=this.bits.read(2));h===T.MODE.MONO&&(this.scaleFactorInfo[1][I]=this.scaleFactorInfo[0][I])}for(var I=0;g>I;I++){for(var B=0;E>B;B++)if(this.allocation[B][I]){var m=this.scaleFactor[B][I];switch(this.scaleFactorInfo[B][I]){case 0:m[0]=this.bits.read(6),m[1]=this.bits.read(6),m[2]=this.bits.read(6);break;case 1:m[0]=m[1]=this.bits.read(6),m[2]=this.bits.read(6);break;case 2:m[0]=m[1]=m[2]=this.bits.read(6);break;case 3:m[0]=this.bits.read(6),m[1]=m[2]=this.bits.read(6)}}h===T.MODE.MONO&&(this.scaleFactor[1][I][0]=this.scaleFactor[0][I][0],this.scaleFactor[1][I][1]=this.scaleFactor[0][I][1],this.scaleFactor[1][I][2]=this.scaleFactor[0][I][2])}for(var v=0,C=0;3>C;C++)for(var Q=0;4>Q;Q++){for(var I=0;l>I;I++)this.readSamples(0,I,C),this.readSamples(1,I,C);for(var I=l;g>I;I++)this.readSamples(0,I,C),this.sample[1][I][0]=this.sample[0][I][0],this.sample[1][I][1]=this.sample[0][I][1],this.sample[1][I][2]=this.sample[0][I][2];for(var I=g;32>I;I++)this.sample[0][I][0]=0,this.sample[0][I][1]=0,this.sample[0][I][2]=0,this.sample[1][I][0]=0,this.sample[1][I][1]=0,this.sample[1][I][2]=0;for(var w=0;3>w;w++){this.VPos=this.VPos-64&1023;for(var B=0;2>B;B++){T.MatrixTransform(this.sample[B],w,this.V,this.VPos),JSMpeg.Fill(this.U,0);for(var b=512-(this.VPos>>1),S=this.VPos%128>>1;1024>S;){for(var q=0;32>q;++q)this.U[q]+=this.D[b++]*this.V[S++];S+=96,b+=32}for(S=1120-S,b-=480;1024>S;){for(var q=0;32>q;++q)this.U[q]+=this.D[b++]*this.V[S++];S+=96,b+=32}for(var D=0===B?t:e,_=0;32>_;_++)D[v+_]=this.U[_]/2147418112}v+=32}}return this.sampleRate=s,p},T.prototype.readAllocation=function(t,e){var A=T.QUANT_LUT_STEP_3[e][t],i=T.QUANT_LUT_STEP4[15&A][this.bits.read(A>>4)];return i?T.QUANT_TAB[i-1]:0},T.prototype.readSamples=function(t,e,A){var i=this.allocation[t][e],o=this.scaleFactor[t][e][A],r=this.sample[t][e],n=0;if(!i)return r[0]=r[1]=r[2]=0,void 0;if(63===o)o=0;else{var a=o/3|0;o=T.SCALEFACTOR_BASE[o%3]+(1<<a>>1)>>a}var s=i.levels;i.group?(n=this.bits.read(i.bits),r[0]=n%s,n=n/s|0,r[1]=n%s,r[2]=n/s|0):(r[0]=this.bits.read(i.bits),r[1]=this.bits.read(i.bits),r[2]=this.bits.read(i.bits));var c=65536/(s+1)|0;s=(s+1>>1)-1,n=(s-r[0])*c,r[0]=n*(o>>12)+(n*(4095&o)+2048>>12)>>12,n=(s-r[1])*c,r[1]=n*(o>>12)+(n*(4095&o)+2048>>12)>>12,n=(s-r[2])*c,r[2]=n*(o>>12)+(n*(4095&o)+2048>>12)>>12},T.MatrixTransform=function(t,e,A,i){var o,r,n,a,s,c,h,l,u,p,d,g,f,y,I,E,B,m,v,C,Q,w,b,S,q,D,_,T,M,R,O,P,x;o=t[0][e]+t[31][e],r=.500602998235*(t[0][e]-t[31][e]),n=t[1][e]+t[30][e],a=.505470959898*(t[1][e]-t[30][e]),s=t[2][e]+t[29][e],c=.515447309923*(t[2][e]-t[29][e]),h=t[3][e]+t[28][e],l=.53104259109*(t[3][e]-t[28][e]),u=t[4][e]+t[27][e],p=.553103896034*(t[4][e]-t[27][e]),d=t[5][e]+t[26][e],g=.582934968206*(t[5][e]-t[26][e]),f=t[6][e]+t[25][e],y=.622504123036*(t[6][e]-t[25][e]),I=t[7][e]+t[24][e],E=.674808341455*(t[7][e]-t[24][e]),B=t[8][e]+t[23][e],m=.744536271002*(t[8][e]-t[23][e]),v=t[9][e]+t[22][e],C=.839349645416*(t[9][e]-t[22][e]),Q=t[10][e]+t[21][e],w=.972568237862*(t[10][e]-t[21][e]),b=t[11][e]+t[20][e],S=1.16943993343*(t[11][e]-t[20][e]),q=t[12][e]+t[19][e],D=1.48416461631*(t[12][e]-t[19][e]),_=t[13][e]+t[18][e],T=2.05778100995*(t[13][e]-t[18][e]),M=t[14][e]+t[17][e],R=3.40760841847*(t[14][e]-t[17][e]),O=t[15][e]+t[16][e],P=10.1900081235*(t[15][e]-t[16][e]),x=o+O,O=.502419286188*(o-O),o=n+M,M=.52249861494*(n-M),n=s+_,_=.566944034816*(s-_),s=h+q,q=.64682178336*(h-q),h=u+b,b=.788154623451*(u-b),u=d+Q,Q=1.06067768599*(d-Q),d=f+v,v=1.72244709824*(f-v),f=I+B,B=5.10114861869*(I-B),I=x+f,f=.509795579104*(x-f),x=o+d,o=.601344886935*(o-d),d=n+u,u=.899976223136*(n-u),n=s+h,h=2.56291544774*(s-h),s=I+n,I=.541196100146*(I-n),n=x+d,d=1.30656296488*(x-d),x=s+n,s=.707106781187*(s-n),n=I+d,I=.707106781187*(I-d),n+=I,d=f+h,f=.541196100146*(f-h),h=o+u,u=1.30656296488*(o-u),o=d+h,h=.707106781187*(d-h),d=f+u,f=.707106781187*(f-u),d+=f,o+=d,d+=h,h+=f,u=O+B,O=.509795579104*(O-B),B=M+v,M=.601344886935*(M-v),v=_+Q,Q=.899976223136*(_-Q),_=q+b,b=2.56291544774*(q-b),q=u+_,u=.541196100146*(u-_),_=B+v,v=1.30656296488*(B-v),B=q+_,_=.707106781187*(q-_),q=u+v,v=.707106781187*(u-v),q+=v,u=O+b,O=.541196100146*(O-b),b=M+Q,Q=1.30656296488*(M-Q),M=u+b,b=.707106781187*(u-b),u=O+Q,O=.707106781187*(O-Q),u+=O,M+=u,u+=b,b+=O,B+=M,M+=q,q+=u,u+=_,_+=b,b+=v,v+=O,Q=r+P,r=.502419286188*(r-P),P=a+R,a=.52249861494*(a-R),R=c+T,T=.566944034816*(c-T),c=l+D,l=.64682178336*(l-D),D=p+S,p=.788154623451*(p-S),S=g+w,w=1.06067768599*(g-w),g=y+C,C=1.72244709824*(y-C),y=E+m,E=5.10114861869*(E-m),m=Q+y,y=.509795579104*(Q-y),Q=P+g,P=.601344886935*(P-g),g=R+S,S=.899976223136*(R-S),R=c+D,D=2.56291544774*(c-D),c=m+R,m=.541196100146*(m-R),R=Q+g,g=1.30656296488*(Q-g),Q=c+R,R=.707106781187*(c-R),c=m+g,g=.707106781187*(m-g),c+=g,m=y+D,D=.541196100146*(y-D),y=P+S,S=1.30656296488*(P-S),P=m+y,y=.707106781187*(m-y),m=D+S,S=.707106781187*(D-S),m+=S,P+=m,m+=y,D=y+S,y=r+E,r=.509795579104*(r-E),E=a+C,a=.601344886935*(a-C),C=T+w,w=.899976223136*(T-w),T=l+p,p=2.56291544774*(l-p),l=y+T,y=.541196100146*(y-T),T=E+C,C=1.30656296488*(E-C),E=l+T,T=.707106781187*(l-T),l=y+C,C=.707106781187*(y-C),l+=C,y=r+p,r=.541196100146*(r-p),p=a+w,w=1.30656296488*(a-w),a=y+p,p=.707106781187*(y-p),y=r+w,r=.707106781187*(r-w),y+=r,a+=y,y+=p,p+=r,E+=a,a+=l,l+=y,y+=T,T+=p,p+=C,C+=r,Q+=E,E+=P,P+=a,a+=c,c+=l,l+=m,m+=y,y+=R,R+=T,T+=D,D+=p,p+=g,g+=C,C+=S,S+=r,A[i+48]=-x,A[i+49]=A[i+47]=-Q,A[i+50]=A[i+46]=-B,A[i+51]=A[i+45]=-E,A[i+52]=A[i+44]=-o,A[i+53]=A[i+43]=-P,A[i+54]=A[i+42]=-M,A[i+55]=A[i+41]=-a,A[i+56]=A[i+40]=-n,A[i+57]=A[i+39]=-c,A[i+58]=A[i+38]=-q,A[i+59]=A[i+37]=-l,A[i+60]=A[i+36]=-d,A[i+61]=A[i+35]=-m,A[i+62]=A[i+34]=-u,A[i+63]=A[i+33]=-y,A[i+32]=-s,A[i+0]=s,A[i+31]=-R,A[i+1]=R,A[i+30]=-_,A[i+2]=_,A[i+29]=-T,A[i+3]=T,A[i+28]=-h,A[i+4]=h,A[i+27]=-D,A[i+5]=D,A[i+26]=-b,A[i+6]=b,A[i+25]=-p,A[i+7]=p,A[i+24]=-I,A[i+8]=I,A[i+23]=-g,A[i+9]=g,A[i+22]=-v,A[i+10]=v,A[i+21]=-C,A[i+11]=C,A[i+20]=-f,A[i+12]=f,A[i+19]=-S,A[i+13]=S,A[i+18]=-O,A[i+14]=O,A[i+17]=-r,A[i+15]=r,A[i+16]=0},T.FRAME_SYNC=2047,T.VERSION={MPEG_2_5:0,MPEG_2:2,MPEG_1:3},T.LAYER={III:1,II:2,I:3},T.MODE={STEREO:0,JOINT_STEREO:1,DUAL_CHANNEL:2,MONO:3},T.SAMPLE_RATE=new Uint16Array([44100,48e3,32e3,0,22050,24e3,16e3,0]),T.BIT_RATE=new Uint16Array([32,48,56,64,80,96,112,128,160,192,224,256,320,384,8,16,24,32,40,48,56,64,80,96,112,128,144,160]),T.SCALEFACTOR_BASE=new Uint32Array([33554432,26632170,21137968]),T.SYNTHESIS_WINDOW=new Float32Array([0,-.5,-.5,-.5,-.5,-.5,-.5,-1,-1,-1,-1,-1.5,-1.5,-2,-2,-2.5,-2.5,-3,-3.5,-3.5,-4,-4.5,-5,-5.5,-6.5,-7,-8,-8.5,-9.5,-10.5,-12,-13,-14.5,-15.5,-17.5,-19,-20.5,-22.5,-24.5,-26.5,-29,-31.5,-34,-36.5,-39.5,-42.5,-45.5,-48.5,-52,-55.5,-58.5,-62.5,-66,-69.5,-73.5,-77,-80.5,-84.5,-88,-91.5,-95,-98,-101,-104,106.5,109,111,112.5,113.5,114,114,113.5,112,110.5,107.5,104,100,94.5,88.5,81.5,73,63.5,53,41.5,28.5,14.5,-1,-18,-36,-55.5,-76.5,-98.5,-122,-147,-173.5,-200.5,-229.5,-259.5,-290.5,-322.5,-355.5,-389.5,-424,-459.5,-495.5,-532,-568.5,-605,-641.5,-678,-714,-749,-783.5,-817,-849,-879.5,-908.5,-935,-959.5,-981,-1000.5,-1016,-1028.5,-1037.5,-1042.5,-1043.5,-1040,-1031.5,1018.5,1e3,976,946.5,911,869.5,822,767.5,707,640,565.5,485,397,302.5,201,92.5,-22.5,-144,-272.5,-407,-547.5,-694,-846,-1003,-1165,-1331.5,-1502,-1675.5,-1852.5,-2031.5,-2212.5,-2394,-2576.5,-2758.5,-2939.5,-3118.5,-3294.5,-3467.5,-3635.5,-3798.5,-3955,-4104.5,-4245.5,-4377.5,-4499,-4609.5,-4708,-4792.5,-4863.5,-4919,-4958,-4979.5,-4983,-4967.5,-4931.5,-4875,-4796,-4694.5,-4569.5,-4420,-4246,-4046,-3820,-3567,3287,2979.5,2644,2280.5,1888,1467.5,1018.5,541,35,-499,-1061,-1650,-2266.5,-2909,-3577,-4270,-4987.5,-5727.5,-6490,-7274,-8077.5,-8899.5,-9739,-10594.5,-11464.5,-12347,-13241,-14144.5,-15056,-15973.5,-16895.5,-17820,-18744.5,-19668,-20588,-21503,-22410.5,-23308.5,-24195,-25068.5,-25926.5,-26767,-27589,-28389,-29166.5,-29919,-30644.5,-31342,-32009.5,-32645,-33247,-33814.5,-34346,-34839.5,-35295,-35710,-36084.5,-36417.5,-36707.5,-36954,-37156.5,-37315,-37428,-37496,37519,37496,37428,37315,37156.5,36954,36707.5,36417.5,36084.5,35710,35295,34839.5,34346,33814.5,33247,32645,32009.5,31342,30644.5,29919,29166.5,28389,27589,26767,25926.5,25068.5,24195,23308.5,22410.5,21503,20588,19668,18744.5,17820,16895.5,15973.5,15056,14144.5,13241,12347,11464.5,10594.5,9739,8899.5,8077.5,7274,6490,5727.5,4987.5,4270,3577,2909,2266.5,1650,1061,499,-35,-541,-1018.5,-1467.5,-1888,-2280.5,-2644,-2979.5,3287,3567,3820,4046,4246,4420,4569.5,4694.5,4796,4875,4931.5,4967.5,4983,4979.5,4958,4919,4863.5,4792.5,4708,4609.5,4499,4377.5,4245.5,4104.5,3955,3798.5,3635.5,3467.5,3294.5,3118.5,2939.5,2758.5,2576.5,2394,2212.5,2031.5,1852.5,1675.5,1502,1331.5,1165,1003,846,694,547.5,407,272.5,144,22.5,-92.5,-201,-302.5,-397,-485,-565.5,-640,-707,-767.5,-822,-869.5,-911,-946.5,-976,-1e3,1018.5,1031.5,1040,1043.5,1042.5,1037.5,1028.5,1016,1000.5,981,959.5,935,908.5,879.5,849,817,783.5,749,714,678,641.5,605,568.5,532,495.5,459.5,424,389.5,355.5,322.5,290.5,259.5,229.5,200.5,173.5,147,122,98.5,76.5,55.5,36,18,1,-14.5,-28.5,-41.5,-53,-63.5,-73,-81.5,-88.5,-94.5,-100,-104,-107.5,-110.5,-112,-113.5,-114,-114,-113.5,-112.5,-111,-109,106.5,104,101,98,95,91.5,88,84.5,80.5,77,73.5,69.5,66,62.5,58.5,55.5,52,48.5,45.5,42.5,39.5,36.5,34,31.5,29,26.5,24.5,22.5,20.5,19,17.5,15.5,14.5,13,12,10.5,9.5,8.5,8,7,6.5,5.5,5,4.5,4,3.5,3.5,3,2.5,2.5,2,2,1.5,1.5,1,1,1,1,.5,.5,.5,.5,.5,.5]),T.QUANT_LUT_STEP_1=[[0,0,1,1,1,2,2,2,2,2,2,2,2,2],[0,0,0,0,0,0,1,1,1,2,2,2,2,2]],T.QUANT_TAB={A:91,B:94,C:8,D:12},T.QUANT_LUT_STEP_2=[[T.QUANT_TAB.C,T.QUANT_TAB.C,T.QUANT_TAB.D],[T.QUANT_TAB.A,T.QUANT_TAB.A,T.QUANT_TAB.A],[T.QUANT_TAB.B,T.QUANT_TAB.A,T.QUANT_TAB.B]],T.QUANT_LUT_STEP_3=[[68,68,52,52,52,52,52,52,52,52,52,52],[67,67,67,66,66,66,66,66,66,66,66,49,49,49,49,49,49,49,49,49,49,49,49,32,32,32,32,32,32,32],[69,69,69,69,52,52,52,52,52,52,52,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36]],T.QUANT_LUT_STEP4=[[0,1,2,17],[0,1,2,3,4,5,6,17],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,17],[0,1,3,5,6,7,8,9,10,11,12,13,14,15,16,17],[0,1,2,4,5,6,7,8,9,10,11,12,13,14,15,17],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]],T.QUANT_TAB=[{levels:3,group:1,bits:5},{levels:5,group:1,bits:7},{levels:7,group:0,bits:3},{levels:9,group:1,bits:10},{levels:15,group:0,bits:4},{levels:31,group:0,bits:5},{levels:63,group:0,bits:6},{levels:127,group:0,bits:7},{levels:255,group:0,bits:8},{levels:511,group:0,bits:9},{levels:1023,group:0,bits:10},{levels:2047,group:0,bits:11},{levels:4095,group:0,bits:12},{levels:8191,group:0,bits:13},{levels:16383,group:0,bits:14},{levels:32767,group:0,bits:15},{levels:65535,group:0,bits:16}],T}(),JSMpeg.Decoder.MP2AudioWASM=function(){"use strict";var c=function(t){JSMpeg.Decoder.Base.call(this,t),this.onDecodeCallback=t.onAudioDecode,this.module=t.wasmModule,this.bufferSize=t.audioBufferSize||131072,this.bufferMode=t.streaming?JSMpeg.BitBuffer.MODE.EVICT:JSMpeg.BitBuffer.MODE.EXPAND,this.sampleRate=0};return c.prototype=Object.create(JSMpeg.Decoder.Base.prototype),c.prototype.constructor=c,c.prototype.initializeWasmDecoder=function(){return this.module.instance?(this.instance=this.module.instance,this.functions=this.module.instance.exports,this.decoder=this.functions._mp2_decoder_create(this.bufferSize,this.bufferMode),void 0):(console.warn("JSMpeg: WASM module not compiled yet"),void 0)},c.prototype.destroy=function(){this.decoder&&this.functions._mp2_decoder_destroy(this.decoder)},c.prototype.bufferGetIndex=function(){return this.decoder?this.functions._mp2_decoder_get_index(this.decoder):void 0},c.prototype.bufferSetIndex=function(t){this.decoder&&this.functions._mp2_decoder_set_index(this.decoder,t)},c.prototype.bufferWrite=function(t){this.decoder||this.initializeWasmDecoder();for(var e=0,A=0;A<t.length;A++)e+=t[A].length;for(var i=this.functions._mp2_decoder_get_write_ptr(this.decoder,e),A=0;A<t.length;A++)this.instance.heapU8.set(t[A],i),i+=t[A].length;return this.functions._mp2_decoder_did_write(this.decoder,e),e},c.prototype.decode=function(){var t=JSMpeg.Now();if(!this.decoder)return!1;var e=this.functions._mp2_decoder_decode(this.decoder);if(0===e)return!1;if(this.sampleRate||(this.sampleRate=this.functions._mp2_decoder_get_sample_rate(this.decoder)),this.destination){var A=this.functions._mp2_decoder_get_left_channel_ptr(this.decoder),i=this.functions._mp2_decoder_get_right_channel_ptr(this.decoder),o=A/Float32Array.BYTES_PER_ELEMENT,r=i/Float32Array.BYTES_PER_ELEMENT,n=this.instance.heapF32.subarray(o,o+c.SAMPLES_PER_FRAME),a=this.instance.heapF32.subarray(r,r+c.SAMPLES_PER_FRAME);this.destination.play(this.sampleRate,n,a)}this.advanceDecodedTime(c.SAMPLES_PER_FRAME/this.sampleRate);var s=JSMpeg.Now()-t;return this.onDecodeCallback&&this.onDecodeCallback(this,s),!0},c.prototype.getCurrentTime=function(){var t=this.destination?this.destination.enqueuedTime:0;return this.decodedTime-t},c.SAMPLES_PER_FRAME=1152,c}(),JSMpeg.Renderer.WebGL=function(){"use strict";var r=function(t){this.canvas=t.canvas||document.createElement("canvas"),this.width=this.canvas.width,this.height=this.canvas.height,this.enabled=!0,this.hasTextureData={};var e={preserveDrawingBuffer:!!t.preserveDrawingBuffer,alpha:!1,depth:!1,stencil:!1,antialias:!1,premultipliedAlpha:!1};if(this.gl=this.canvas.getContext("webgl",e)||this.canvas.getContext("experimental-webgl",e),!this.gl)throw new Error("Failed to get WebGL Context");var A=this.gl,i=null;A.pixelStorei(A.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),this.vertexBuffer=A.createBuffer();var o=new Float32Array([0,0,0,1,1,0,1,1]);A.bindBuffer(A.ARRAY_BUFFER,this.vertexBuffer),A.bufferData(A.ARRAY_BUFFER,o,A.STATIC_DRAW),this.program=this.createProgram(r.SHADER.VERTEX_IDENTITY,r.SHADER.FRAGMENT_YCRCB_TO_RGBA),i=A.getAttribLocation(this.program,"vertex"),A.enableVertexAttribArray(i),A.vertexAttribPointer(i,2,A.FLOAT,!1,0,0),this.textureY=this.createTexture(0,"textureY"),this.textureCb=this.createTexture(1,"textureCb"),this.textureCr=this.createTexture(2,"textureCr"),this.loadingProgram=this.createProgram(r.SHADER.VERTEX_IDENTITY,r.SHADER.FRAGMENT_LOADING),i=A.getAttribLocation(this.loadingProgram,"vertex"),A.enableVertexAttribArray(i),A.vertexAttribPointer(i,2,A.FLOAT,!1,0,0),this.shouldCreateUnclampedViews=!this.allowsClampedTextureData()};return r.prototype.destroy=function(){var t=this.gl;t.deleteTexture(this.textureY),t.deleteTexture(this.textureCb),t.deleteTexture(this.textureCr),t.deleteProgram(this.program),t.deleteProgram(this.loadingProgram),t.deleteBuffer(this.vertexBuffer),t.getExtension("WEBGL_lose_context").loseContext(),this.canvas.remove()},r.prototype.resize=function(t,e){this.width=0|t,this.height=0|e,this.canvas.width=this.width,this.canvas.height=this.height,this.gl.useProgram(this.program);var A=this.width+15>>4<<4;this.gl.viewport(0,0,A,this.height)},r.prototype.createTexture=function(t,e){var A=this.gl,i=A.createTexture();return A.bindTexture(A.TEXTURE_2D,i),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.LINEAR),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,A.LINEAR),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE),A.uniform1i(A.getUniformLocation(this.program,e),t),i},r.prototype.createProgram=function(t,e){var A=this.gl,i=A.createProgram();return A.attachShader(i,this.compileShader(A.VERTEX_SHADER,t)),A.attachShader(i,this.compileShader(A.FRAGMENT_SHADER,e)),A.linkProgram(i),A.useProgram(i),i},r.prototype.compileShader=function(t,e){var A=this.gl,i=A.createShader(t);if(A.shaderSource(i,e),A.compileShader(i),!A.getShaderParameter(i,A.COMPILE_STATUS))throw new Error(A.getShaderInfoLog(i));return i},r.prototype.allowsClampedTextureData=function(){var t=this.gl,e=t.createTexture();return t.bindTexture(t.TEXTURE_2D,e),t.texImage2D(t.TEXTURE_2D,0,t.LUMINANCE,1,1,0,t.LUMINANCE,t.UNSIGNED_BYTE,new Uint8ClampedArray([0])),0===t.getError()},r.prototype.renderProgress=function(t){var e=this.gl;e.useProgram(this.loadingProgram);var A=e.getUniformLocation(this.loadingProgram,"progress");e.uniform1f(A,t),e.drawArrays(e.TRIANGLE_STRIP,0,4)},r.prototype.render=function(t,e,A,i){if(this.enabled){var o=this.gl,r=this.width+15>>4<<4,n=this.height,a=r>>1,s=n>>1;i&&this.shouldCreateUnclampedViews&&(t=new Uint8Array(t.buffer),e=new Uint8Array(e.buffer),A=new Uint8Array(A.buffer)),o.useProgram(this.program),this.updateTexture(o.TEXTURE0,this.textureY,r,n,t),this.updateTexture(o.TEXTURE1,this.textureCb,a,s,e),this.updateTexture(o.TEXTURE2,this.textureCr,a,s,A),o.drawArrays(o.TRIANGLE_STRIP,0,4)}},r.prototype.updateTexture=function(t,e,A,i,o){var r=this.gl;r.activeTexture(t),r.bindTexture(r.TEXTURE_2D,e),this.hasTextureData[t]?r.texSubImage2D(r.TEXTURE_2D,0,0,0,A,i,r.LUMINANCE,r.UNSIGNED_BYTE,o):(this.hasTextureData[t]=!0,r.texImage2D(r.TEXTURE_2D,0,r.LUMINANCE,A,i,0,r.LUMINANCE,r.UNSIGNED_BYTE,o))},r.IsSupported=function(){try{if(!window.WebGLRenderingContext)return!1;var t=document.createElement("canvas");return!(!t.getContext("webgl")&&!t.getContext("experimental-webgl"))}catch(t){return!1}},r.SHADER={FRAGMENT_YCRCB_TO_RGBA:["precision mediump float;","uniform sampler2D textureY;","uniform sampler2D textureCb;","uniform sampler2D textureCr;","varying vec2 texCoord;","mat4 rec601 = mat4(","1.16438,  0.00000,  1.59603, -0.87079,","1.16438, -0.39176, -0.81297,  0.52959,","1.16438,  2.01723,  0.00000, -1.08139,","0, 0, 0, 1",");","void main() {","float y = texture2D(textureY, texCoord).r;","float cb = texture2D(textureCb, texCoord).r;","float cr = texture2D(textureCr, texCoord).r;","gl_FragColor = vec4(y, cr, cb, 1.0) * rec601;","}"].join("\n"),FRAGMENT_LOADING:["precision mediump float;","uniform float progress;","varying vec2 texCoord;","void main() {","float c = ceil(progress-(1.0-texCoord.y));","gl_FragColor = vec4(c,c,c,1);","}"].join("\n"),VERTEX_IDENTITY:["attribute vec2 vertex;","varying vec2 texCoord;","void main() {","texCoord = vertex;","gl_Position = vec4((vertex * 2.0 - 1.0) * vec2(1, -1), 0.0, 1.0);","}"].join("\n")},r}(),JSMpeg.Renderer.Canvas2D=function(){"use strict";var t=function(t){this.canvas=t.canvas||document.createElement("canvas"),this.width=this.canvas.width,this.height=this.canvas.height,this.enabled=!0,this.context=this.canvas.getContext("2d")};return t.prototype.destroy=function(){},t.prototype.resize=function(t,e){this.width=0|t,this.height=0|e,this.canvas.width=this.width,this.canvas.height=this.height,this.imageData=this.context.getImageData(0,0,this.width,this.height),JSMpeg.Fill(this.imageData.data,255)},t.prototype.renderProgress=function(t){var e=this.canvas.width,A=this.canvas.height,i=this.context;i.fillStyle="#222",i.fillRect(0,0,e,A),i.fillStyle="#fff",i.fillRect(0,A-A*t,e,A*t)},t.prototype.render=function(t,e,A){this.YCbCrToRGBA(t,e,A,this.imageData.data),this.context.putImageData(this.imageData,0,0)},t.prototype.YCbCrToRGBA=function(t,e,A,i){if(this.enabled)for(var o,r,n,a,s,c=this.width+15>>4<<4,h=c>>1,l=0,u=c,p=c+(c-this.width),d=0,g=h-(this.width>>1),f=0,y=4*this.width,I=4*this.width,E=this.width>>1,B=this.height>>1,m=0;B>m;m++){for(var v=0;E>v;v++){o=e[d],r=A[d],d++,n=o+(103*o>>8)-179,a=(88*r>>8)-44+(183*o>>8)-91,s=r+(198*r>>8)-227;var C=t[l++],Q=t[l++];i[f]=C+n,i[f+1]=C-a,i[f+2]=C+s,i[f+4]=Q+n,i[f+5]=Q-a,i[f+6]=Q+s,f+=8;var w=t[u++],b=t[u++];i[y]=w+n,i[y+1]=w-a,i[y+2]=w+s,i[y+4]=b+n,i[y+5]=b-a,i[y+6]=b+s,y+=8}l+=p,u+=p,f+=I,y+=I,d+=g}},t}(),JSMpeg.AudioOutput.WebAudio=function(){"use strict";var t=function(){this.context=t.CachedContext=t.CachedContext||new(window.AudioContext||window.webkitAudioContext),this.gain=this.context.createGain(),this.destination=this.gain,this.gain.connect(this.context.destination),this.context._connections=(this.context._connections||0)+1,this.startTime=0,this.buffer=null,this.wallclockStartTime=0,this.volume=1,this.enabled=!0,this.unlocked=!t.NeedsUnlocking(),Object.defineProperty(this,"enqueuedTime",{get:this.getEnqueuedTime})};return t.prototype.destroy=function(){this.gain.disconnect(),this.context._connections--,0===this.context._connections&&(this.context.close(),t.CachedContext=null)},t.prototype.play=function(t,e,A){if(this.enabled){if(!this.unlocked){var i=JSMpeg.Now();return this.wallclockStartTime<i&&(this.wallclockStartTime=i),this.wallclockStartTime+=e.length/t,this.unlock.call(this),void 0}this.gain.gain.value=this.volume;var o=this.context.createBuffer(2,e.length,t);o.getChannelData(0).set(e),o.getChannelData(1).set(A);var r=this.context.createBufferSource();r.buffer=o,r.connect(this.destination);var n=this.context.currentTime,a=o.duration;this.startTime<n&&(this.startTime=n,this.wallclockStartTime=JSMpeg.Now()),r.start(this.startTime),this.startTime+=a,this.wallclockStartTime+=a}},t.prototype.stop=function(){this.gain.gain.value=0},t.prototype.getEnqueuedTime=function(){return Math.max(this.wallclockStartTime-JSMpeg.Now(),0)},t.prototype.resetEnqueuedTime=function(){this.startTime=this.context.currentTime,this.wallclockStartTime=JSMpeg.Now()},t.prototype.unlock=function(t){if(this.unlocked)return t&&t(),void 0;this.unlockCallback=t;var e=this.context.createBuffer(1,1,22050),A=this.context.createBufferSource();A.buffer=e,A.connect(this.destination),A.start(0),setTimeout(this.checkIfUnlocked.bind(this,A,0),0)},t.prototype.checkIfUnlocked=function(t,e){t.playbackState===t.PLAYING_STATE||t.playbackState===t.FINISHED_STATE?(this.unlocked=!0,this.unlockCallback&&(this.unlockCallback(),this.unlockCallback=null)):10>e&&setTimeout(this.checkIfUnlocked.bind(this,t,e+1),100)},t.NeedsUnlocking=function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)},t.IsSupported=function(){return window.AudioContext||window.webkitAudioContext},t.CachedContext=null,t}(),JSMpeg.WASMModule=function(){"use strict";var t=function(){this.stackSize=5242880,this.pageSize=65536,this.onInitCallback=null};return t.prototype.write=function(t){this.loadFromBuffer(t,this.onInitCallback)},t.prototype.loadFromFile=function(t,e){this.onInitCallback=e;var A=new JSMpeg.Source.Ajax(t);A.connect(this),A.start()},t.prototype.loadFromBuffer=function(t,e){if(this.moduleInfo=this.readDylinkSection(t),!this.moduleInfo)return this.callback&&this.callback(null),void 0;this.memory=new WebAssembly.Memory({initial:256});var A={memory:this.memory,memoryBase:0,__memory_base:0,table:new WebAssembly.Table({initial:this.moduleInfo.tableSize,element:"anyfunc"}),tableBase:0,__table_base:0,abort:this.c_abort.bind(this),___assert_fail:this.c_assertFail.bind(this),_sbrk:this.c_sbrk.bind(this)};this.brk=this.align(this.moduleInfo.memorySize+this.stackSize),WebAssembly.instantiate(t,{env:A}).then(function(t){this.instance=t.instance,this.instance.exports.__post_instantiate&&this.instance.exports.__post_instantiate(),this.createHeapViews(),e&&e(this)}.bind(this))},t.prototype.createHeapViews=function(){this.instance.heapU8=new Uint8Array(this.memory.buffer),this.instance.heapU32=new Uint32Array(this.memory.buffer),this.instance.heapF32=new Float32Array(this.memory.buffer)},t.prototype.align=function(t){var e=Math.pow(2,this.moduleInfo.memoryAlignment);return Math.ceil(t/e)*e},t.prototype.c_sbrk=function(t){var e=this.brk;if(this.brk+=t,this.brk>this.memory.buffer.byteLength){var A=this.brk-this.memory.buffer.byteLength,i=Math.ceil(A/this.pageSize);this.memory.grow(i),this.createHeapViews()}return e},t.prototype.c_abort=function(){console.warn("JSMPeg: WASM abort",arguments)},t.prototype.c_assertFail=function(){console.warn("JSMPeg: WASM ___assert_fail",arguments)},t.prototype.readDylinkSection=function(t){var i=new Uint8Array(t),o=0,e=function(){for(var t=0,e=1;;){var A=i[o++];if(t+=(127&A)*e,e*=128,!(128&A))return t}},A=function(t){for(var e=0;e<t.length;e++){var A="string"==typeof t[e]?t[e].charCodeAt(0):t[e];if(i[o++]!==A)return!1}return!0};if(!A([0,"a","s","m"]))return console.warn("JSMpeg: WASM header not found"),null;{var o=9;e()}return A([6,"d","y","l","i","n","k"])?{memorySize:e(),memoryAlignment:e(),tableSize:e(),tableAlignment:e()}:(console.warn("JSMpeg: No dylink section found in WASM"),null)},t.IsSupported=function(){return!!window.WebAssembly},t}(),JSMpeg.WASM_BINARY_INLINED="AGFzbQEAAAAADgZkeWxpbmvgzcACBCAAATgKYAF/AGAEf39/fwBgAX8Bf2ACf38Bf2ACf38AYAF/AX1gBn9/f39/fwBgA39/fwF/YAAAYAABfAJuBwNlbnYGbWVtb3J5AgCAAgNlbnYFdGFibGUBcAAgA2VudgptZW1vcnlCYXNlA38AA2Vudgl0YWJsZUJhc2UDfwADZW52BWFib3J0AAADZW52Dl9fX2Fzc2VydF9mYWlsAAEDZW52BV9zYnJrAAIDPz4DAAMCBAQAAgUCAgICAgICAAQABgAEAQABAQEDAAMCBAQCAgICAgEBAwADAgMCAwICAgIABAAAAwcHBwgICQahASB/AUEAC38BQQALfwBBGwt/AEEaC38AQRwLfwBBHQt/AEEeC38AQRALfwBBGQt/AEERC38AQRULfwBBEwt/AEEXC38AQRgLfwBBFgt/AEESC38AQRQLfwBBAQt/AEEPC38AQQILfwBBBgt/AEEOC38AQQkLfwBBDQt/AEEIC38AQQsLfwBBBAt/AEEKC38AQQMLfwBBDAt/AEEHC38AQQULB9YMPhJfX3Bvc3RfaW5zdGFudGlhdGUAPwVfZnJlZQA5B19tYWxsb2MAMgdfbWVtY3B5ADsIX21lbW1vdmUAPAdfbWVtc2V0AD0TX21wMl9kZWNvZGVyX2NyZWF0ZQAeE19tcDJfZGVjb2Rlcl9kZWNvZGUAJxRfbXAyX2RlY29kZXJfZGVzdHJveQAfFl9tcDJfZGVjb2Rlcl9kaWRfd3JpdGUAIxZfbXAyX2RlY29kZXJfZ2V0X2luZGV4ACEhX21wMl9kZWNvZGVyX2dldF9sZWZ0X2NoYW5uZWxfcHRyACUiX21wMl9kZWNvZGVyX2dldF9yaWdodF9jaGFubmVsX3B0cgAmHF9tcDJfZGVjb2Rlcl9nZXRfc2FtcGxlX3JhdGUAJBpfbXAyX2RlY29kZXJfZ2V0X3dyaXRlX3B0cgAgFl9tcDJfZGVjb2Rlcl9zZXRfaW5kZXgAIhVfbXBlZzFfZGVjb2Rlcl9jcmVhdGUAAxVfbXBlZzFfZGVjb2Rlcl9kZWNvZGUAEhZfbXBlZzFfZGVjb2Rlcl9kZXN0cm95AAQYX21wZWcxX2RlY29kZXJfZGlkX3dyaXRlAAgZX21wZWcxX2RlY29kZXJfZ2V0X2NiX3B0cgARHV9tcGVnMV9kZWNvZGVyX2dldF9jb2RlZF9zaXplAAwZX21wZWcxX2RlY29kZXJfZ2V0X2NyX3B0cgAQHV9tcGVnMV9kZWNvZGVyX2dldF9mcmFtZV9yYXRlAAsZX21wZWcxX2RlY29kZXJfZ2V0X2hlaWdodAAOGF9tcGVnMV9kZWNvZGVyX2dldF9pbmRleAAGGF9tcGVnMV9kZWNvZGVyX2dldF93aWR0aAANHF9tcGVnMV9kZWNvZGVyX2dldF93cml0ZV9wdHIABRhfbXBlZzFfZGVjb2Rlcl9nZXRfeV9wdHIADyJfbXBlZzFfZGVjb2Rlcl9oYXNfc2VxdWVuY2VfaGVhZGVyAAoYX21wZWcxX2RlY29kZXJfc2V0X2luZGV4AAcLcnVuUG9zdFNldHMAPghmcCRfZnJlZQMECmZwJF9tYWxsb2MDBQpmcCRfbWVtY3B5AwYLZnAkX21lbW1vdmUDBwpmcCRfbWVtc2V0AwgWZnAkX21wMl9kZWNvZGVyX2NyZWF0ZQMJFmZwJF9tcDJfZGVjb2Rlcl9kZWNvZGUDChdmcCRfbXAyX2RlY29kZXJfZGVzdHJveQMLGWZwJF9tcDJfZGVjb2Rlcl9kaWRfd3JpdGUDDBlmcCRfbXAyX2RlY29kZXJfZ2V0X2luZGV4Aw0kZnAkX21wMl9kZWNvZGVyX2dldF9sZWZ0X2NoYW5uZWxfcHRyAw4lZnAkX21wMl9kZWNvZGVyX2dldF9yaWdodF9jaGFubmVsX3B0cgMPH2ZwJF9tcDJfZGVjb2Rlcl9nZXRfc2FtcGxlX3JhdGUDEB1mcCRfbXAyX2RlY29kZXJfZ2V0X3dyaXRlX3B0cgMRGWZwJF9tcDJfZGVjb2Rlcl9zZXRfaW5kZXgDEhhmcCRfbXBlZzFfZGVjb2Rlcl9jcmVhdGUDExhmcCRfbXBlZzFfZGVjb2Rlcl9kZWNvZGUDFBlmcCRfbXBlZzFfZGVjb2Rlcl9kZXN0cm95AxUbZnAkX21wZWcxX2RlY29kZXJfZGlkX3dyaXRlAxYcZnAkX21wZWcxX2RlY29kZXJfZ2V0X2NiX3B0cgMXIGZwJF9tcGVnMV9kZWNvZGVyX2dldF9jb2RlZF9zaXplAxgcZnAkX21wZWcxX2RlY29kZXJfZ2V0X2NyX3B0cgMZIGZwJF9tcGVnMV9k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QQN0IQUgAEGEAWohAyAGIAFBAnEEfyAFBUEAC2oFIABBjAFqIQMgAEGIAWohBiAAKAIYIgVBAXUhAiABQQRHBEAgBiEDCyAAKAJUQQN0IAVBAnQgACgCUGxqCyEBIAJBeGohAiADKAIAIQMgBEEBRiEEIABBnAFqIQAgCCgCAARAIAQEQCAAKAIAQYABakEIdSADIAEgAhAZIABBADYCAAUgABAaIAAgAyABIAIQGyAAQQBBgAIQPRoLBSAEBEAgACgCAEGAAWpBCHUgAyABIAIQHCAAQQA2AgAFIAAQGiAAIAMgASACEB0gAEEAQYACED0aCwsL8gYAIAEgAmogAEEASgR/IAAFQQAiAAtB/wFIBH8gAAVB/wELQf8BcSIAOgAAIAEgAkEBamogADoAACABIAJBAmpqIAA6AAAgASACQQNqaiAAOgAAIAEgAkEEamogADoAACABIAJBBWpqIAA6AAAgASACQQZqaiAAOgAAIAEgAkEHamogADoAACABIANBCGoiAyACaiICaiAAOgAAIAEgAkEBamogADoAACABIAJBAmpqIAA6AAAgASACQQNqaiAAOgAAIAEgAkEEamogADoAACABIAJBBWpqIAA6AAAgASACQQZqaiAAOgAAIAEgAkEHamogADoAACABIAMgAmoiAmogADoAACABIAJBAWpqIAA6AAAgASACQQJqaiAAOgAAIAEgAkEDamogADoAACABIAJBBGpqIAA6AAAgASACQQVqaiAAOgAAIAEgAkEGamogADoAACABIAJBB2pqIAA6AAAgASADIAJqIgJqIAA6AAAgASACQQFqaiAAOgAAIAEgAkECamogADoAACABIAJBA2pqIAA6AAAgASACQQRqaiAAOgAAIAEgAkEFamogADoAACABIAJBBmpqIAA6AAAgASACQQdqaiAAOgAAIAEgAyACaiICaiAAOgAAIAEgAkEBamogADoAACABIAJBAmpqIAA6AAAgASACQQNqaiAAOgAAIAEgAkEEamogADoAACABIAJBBWpqIAA6AAAgASACQQZqaiAAOgAAIAEgAkEHamogADoAACABIAMgAmoiAmogADoAACABIAJBAWpqIAA6AAAgASACQQJqaiAAOgAAIAEgAkEDamogADoAACABIAJBBGpqIAA6AAAgASACQQVqaiAAOgAAIAEgAkEGamogADoAACABIAJBB2pqIAA6AAAgASADIAJqIgJqIAA6AAAgASACQQFqaiAAOgAAIAEgAkECamogADoAACABIAJBA2pqIAA6AAAgASACQQRqaiAAOgAAIAEgAkEFamogADoAACABIAJBBmpqIAA6AAAgASACQQdqaiAAOgAAIAEgAyACaiICaiAAOgAAIAEgAkEBamogADoAACABIAJBAmpqIAA6AAAgASACQQNqaiAAOgAAIAEgAkEEamogADoAACABIAJBBWpqIAA6AAAgASACQQZqaiAAOgAAIAEgAkEHamogADoAAAubBgEVfwNAIAAgAUEwakECdGoiDygCACIHIAAgAUEQakECdGoiCCgCACIDaiEEIAAgAUE4akECdGoiCygCACIFIAAgAUEIakECdGoiECgCACICaiEGIAAgAUECdGoiCSgCACIMIAAgAUEgakECdGoiESgCACIKayINIAMgB2tB6gJsQYABakEIdSAEayIOaiEHIAAgAUEoakECdGoiEigCACIDIAAgAUEYakECdGoiFCgCACITayIVQbx+bEGAAWogAiAFayICQdkDbGpBCHUgBiATIANqIhNqIgNrIgUgBiATa0HqAmxBgAFqQQh1ayIGIBVB2QNsQYABaiACQcQBbGpBCHVqIQIgCSAMIApqIgkgBGoiDCADajYCACAQIAUgB2o2AgAgCCANIA5rIgggBms2AgAgFCAJIARrIgQgAmo2AgAgESAEIAJrNgIAIBIgBiAIajYCACAPIAcgBWs2AgAgCyAMIANrNgIAIAFBAWoiAUEIRw0AC0EAIQEDQCAAIAFBB3JBAnRqIg8oAgAiByAAIAFBAXJBAnRqIggoAgAiA2ohBCAAIAFBAnRqIgIoAgAiCyAAIAFBBHJBAnRqIhAoAgAiCWshBiAAIAFBBXJBAnRqIgwoAgAiBSAAIAFBA3JBAnRqIhEoAgAiCmsiDUG8fmxBgAFqIAMgB2siDkHZA2xqQQh1IAQgCiAFaiIFaiIHayIDIAQgBWtB6gJsQYABakEIdWsiBCANQdkDbEGAAWogDkHEAWxqQQh1aiEFIAIgB0GAAWogCyAJaiILIAAgAUEGckECdGoiCSgCACIKIAAgAUECckECdGoiDSgCACIOaiICaiISakEIdTYCACAIIAYgDiAKa0HqAmxBgAFqQQh1IAJrIghqQYABaiIKIANqQQh1NgIAIA0gBiAIa0GAAWoiBiAEa0EIdTYCACARIAsgAmtBgAFqIgIgBWpBCHU2AgAgECACIAVrQQh1NgIAIAwgBiAEakEIdTYCACAJIAogA2tBCHU2AgAgD0GAASAHayASakEIdTYCACABQQhqIgFBwABJDQALC8gDAQJ/IANBCGohBUEAIQMDQCABIAJqIAAgA0ECdGooAgAiBEEASgR/IAQFQQAiBAtB/wFIBH8gBAVB/wELOgAAIAEgAkEBamogACADQQFyQQJ0aigCACIEQQBKBH8gBAVBACIEC0H/AUgEfyAEBUH/AQs6AAAgASACQQJqaiAAIANBAnJBAnRqKAIAIgRBAEoEfyAEBUEAIgQLQf8BSAR/IAQFQf8BCzoAACABIAJBA2pqIAAgA0EDckECdGooAgAiBEEASgR/IAQFQQAiBAtB/wFIBH8gBAVB/wELOgAAIAEgAkEEamogACADQQRyQQJ0aigCACIEQQBKBH8gBAVBACIEC0H/AUgEfyAEBUH/AQs6AAAgASACQQVqaiAAIANBBXJBAnRqKAIAIgRBAEoEfyAEBUEAIgQLQf8BSAR/IAQFQf8BCzoAACABIAJBBmpqIAAgA0EGckECdGooAgAiBEEASgR/IAQFQQAiBAtB/wFIBH8gBAVB/wELOgAAIAEgAkEHamogACADQQdyQQJ0aigCACIEQQBKBH8gBAVBACIEC0H/AUgEfyAEBUH/AQs6AAAgBSACaiECIANBCGoiA0HAAEkNAAsLowMBA38gA0EIaiEGQQAhAwNAIAEgAmoiBS0AACAAaiIEQQBMBEBBACEECyAFIARB/wFIBH8gBAVB/wELOgAAIAEgAkEBamoiBS0AACAAaiIEQQBMBEBBACEECyAFIARB/wFIBH8gBAVB/wELOgAAIAEgAkECamoiBS0AACAAaiIEQQBMBEBBACEECyAFIARB/wFIBH8gBAVB/wELOgAAIAEgAkEDamoiBS0AACAAaiIEQQBMBEBBACEECyAFIARB/wFIBH8gBAVB/wELOgAAIAEgAkEEamoiBS0AACAAaiIEQQBMBEBBACEECyAFIARB/wFIBH8gBAVB/wELOgAAIAEgAkEFamoiBS0AACAAaiIEQQBMBEBBACEECyAFIARB/wFIBH8gBAVB/wELOgAAIAEgAkEGamoiBS0AACAAaiIEQQBMBEBBACEECyAFIARB/wFIBH8gBAVB/wELOgAAIAEgAkEHamoiBS0AACAAaiIEQQBMBEBBACEECyAFIARB/wFIBH8gBAVB/wELOgAAIAYgAmohAiADQQhqIgNBwABJDQALC4AEAQN/IANBCGohBkEAIQMDQCAAIANBAnRqKAIAIAEgAmoiBS0AAGoiBEEATARAQQAhBAsgBSAEQf8BSAR/IAQFQf8BCzoAACAAIANBAXJBAnRqKAIAIAEgAkEBamoiBS0AAGoiBEEATARAQQAhBAsgBSAEQf8BSAR/IAQFQf8BCzoAACAAIANBAnJBAnRqKAIAIAEgAkECamoiBS0AAGoiBEEATARAQQAhBAsgBSAEQf8BSAR/IAQFQf8BCzoAACAAIANBA3JBAnRqKAIAIAEgAkEDamoiBS0AAGoiBEEATARAQQAhBAsgBSAEQf8BSAR/IAQFQf8BCzoAACAAIANBBHJBAnRqKAIAIAEgAkEEamoiBS0AAGoiBEEATARAQQAhBAsgBSAEQf8BSAR/IAQFQf8BCzoAACAAIANBBXJBAnRqKAIAIAEgAkEFamoiBS0AAGoiBEEATARAQQAhBAsgBSAEQf8BSAR/IAQFQf8BCzoAACAAIANBBnJBAnRqKAIAIAEgAkEGamoiBS0AAGoiBEEATARAQQAhBAsgBSAEQf8BSAR/IAQFQf8BCzoAACAAIANBB3JBAnRqKAIAIAEgAkEHamoiBS0AAGoiBEEATARAQQAhBAsgBSAEQf8BSAR/IAQFQf8BCzoAACAGIAJqIQIgA0EIaiIDQcAASQ0ACwtGAQF/QcyXARAyIgIgACABECs2AgggAkHE2AI2AgAgAkHM1gBqIwBB2DNqQYAQEDsaIAJBzOYAaiMAQdgzakGAEBA7GiACCw0AIAAoAggQLCAAEDkLCwAgACgCCCABEC0LCgAgACgCCCgCBAsMACAAKAIIIAE2AgQLGQEBfyAAKAIIQQxqIgIgAigCACABajYCAAsHACAAKAIACwgAIABBzA5qCwgAIABBzDJqC0oBA38gAEEIaiIBKAIAKAIEIQIgASgCACIDKAIMQQN0IAMoAgRrQRBJBEBBAA8LIAAQKCEAIAEoAgAgAEEDdCACakF4cTYCBCAAC/MaAR9/IABBCGoiBCgCAEELEDEhASAEKAIAQQIQMSECIAQoAgBBAhAxIQ0gBCgCAEEBEDEhBSABQf8PRyACQQNHciANQQJHcgRAQQAPCyAEKAIAQQQQMSINQQ5KBEBBAA8LIAQoAgBBAhAxIgFBA0YEQEEADwsgBCgCAEEBEDEhCCAEKAIAQQEQMRogBCgCAEECEDEhCSAEKAIAIQIgCUEBRgR/IAJBAhAxQQJ0QQRqBSACQQRqIgIoAgBBAmohAyACIAM2AgAgCUEDRgR/QQAFQSALCyECIAQoAgBBBGoiDCgCAEEEaiEDIAwgAzYCACAFRQRAIAQoAgBBBGoiDCgCAEEQaiEDIAwgAzYCAAsjAEHkwwBqIA1Bf2oiDUEBdGouAQBBgOUIbCMAQZzEAGogAUEBdGovAQAiGW0hECMAQdDGAGojAEGwxgBqIAlBA0dBBHRqIA1qLQAAQQNsaiABai0AACIBQT9xIQogAUEGdiEFIAIgCkoEfyAKBSACCyINQQBKIhoEQEEAIQEDQCMAQdnGAGogBUEFdGogAWotAAAiC0EPcSEDIAQoAgAgC0EEdiILEDEhByMAIwBBuccAaiADQQR0aiAHaiwAACIHQf8BcUECdGpBqMQAaiETIABBDGogAUECdGogBwR/IBMFQQALNgIAIAQoAgAgCxAxIQsjACMAQbnHAGogA0EEdGogC2osAAAiA0H/AXFBAnRqQajEAGohCyAAQYwBaiABQQJ0aiADBH8gCwVBAAs2AgAgAUEBaiIBIA1IDQALCyAKIAJKIhsEQCANIQEDQCAEKAIAIwBB2cYAaiAFQQV0aiABai0AACICQQR2EDEhAyMAIwBBuccAaiACQQ9xQQR0aiADaiwAACIDQf8BcUECdGpBqMQAaiECIABBjAFqIAFBAnRqIAMEfyACBUEAIgILNgIAIABBDGogAUECdGogAjYCACABQQFqIgEgCkgNAAsLIAlBA0YiBQR/QQEFQQILIQkgCkUiA0UEQCAFBEBBACEBA0BBACECA0AgAEEMaiACQQd0aiABQQJ0aigCAARAIABBjAJqIAJBBXRqIAFqIAQoAgBBAhAxOgAACyACQQFqIgIgCUkNAAsgAEGsAmogAWogAEGMAmogAWosAAA6AAAgAUEBaiIBIApHDQALBUEAIQEDQEEAIQIDQCAAQQxqIAJBB3RqIAFBAnRqKAIABEAgAEGMAmogAkEFdGogAWogBCgCAEECEDE6AAALIAJBAWoiAiAJSQ0ACyABQQFqIgEgCkcNAAsLIANFBEAgBQRAQQAhAQNAQQAhAgNAAkAgAEEMaiACQQd0aiABQQJ0aigCAARAIABBzAJqIAJBgANsaiABQQxsaiEFAkACQAJAAkACQCAAQYwCaiACQQV0aiABaiwAAA4EAAECAwQLIAUgBCgCAEEGEDE2AgAgACACQYADbGogAUEMbGogBCgCAEEGEDE2AtACIAAgAkGAA2xqIAFBDGxqIAQoAgBBBhAxNgLUAgwFCyAAIAJBgANsaiABQQxsaiAEKAIAQQYQMSIDNgLQAiAFIAM2AgAgACACQYADbGogAUEMbGogBCgCAEEGEDE2AtQCDAQLIAAgAkGAA2xqIAFBDGxqIAQoAgBBBhAxIgM2AtQCIAAgAkGAA2xqIAFBDGxqIAM2AtACIAUgAzYCAAwDCyAFIAQoAgBBBhAxNgIAIAAgAkGAA2xqIAFBDGxqIAQoAgBBBhAxIgU2AtQCIAAgAkGAA2xqIAFBDGxqIAU2AtACCwsLIAJBAWoiAiAJSQ0ACyAAQcwFaiABQQxsaiAAQcwCaiABQQxsaigCADYCACAAIAFBDGxqIAAgAUEMbGooAtACNgLQBSAAIAFBDGxqIAAgAUEMbGooAtQCNgLUBSABQQFqIgEgCkcNAAsFQQAhAQNAQQAhAgNAAkAgAEEMaiACQQd0aiABQQJ0aigCAARAIABBzAJqIAJBgANsaiABQQxsaiEFAkACQAJAAkACQCAAQYwCaiACQQV0aiABaiwAAA4EAAECAwQLIAUgBCgCAEEGEDE2AgAgACACQYADbGogAUEMbGogBCgCAEEGEDE2AtACIAAgAkGAA2xqIAFBDGxqIAQoAgBBBhAxNgLUAgwFCyAAIAJBgANsaiABQQxsaiAEKAIAQQYQMSIDNgLQAiAFIAM2AgAgACACQYADbGogAUEMbGogBCgCAEEGEDE2AtQCDAQLIAAgAkGAA2xqIAFBDGxqIAQoAgBBBhAxIgM2AtQCIAAgAkGAA2xqIAFBDGxqIAM2AtACIAUgAzYCAAwDCyAFIAQoAgBBBhAxNgIAIAAgAkGAA2xqIAFBDGxqIAQoAgBBBhAxIgU2AtQCIAAgAkGAA2xqIAFBDGxqIAU2AtACCwsLIAJBAWoiAiAJSQ0ACyABQQFqIgEgCkcNAAsLCwsgECAIaiEcIApBIEkhHSAAQQRqIRQgAEHM9gBqIRggAEHMlgFqIQYgAEHMCGohHiAAQcwLaiEfQQAhEEEAIQkDQEEAIRMgCSECA0AgGgRAQQAhAQNAIABBACABIBAQKSAAQQEgASAQECkgAUEBaiIBIA1IDQALCyAbBEAgDSEBA0AgAEEAIAEgEBApIABBzAtqIAFBDGxqIABBzAhqIAFBDGxqKAIANgIAIAAgAUEMbGpB0AtqIAAgAUEMbGpB0AhqKAIANgIAIAAgAUEMbGpB1AtqIAAgAUEMbGpB1AhqKAIANgIAIAFBAWoiASAKSA0ACwsgHQRAIAohAQNAIABBzAhqIAFBDGxqQQA2AgAgACABQQxsakHQCGpBADYCACAAIAFBDGxqQdQIakEANgIAIABBzAtqIAFBDGxqQQA2AgAgACABQQxsakHQC2pBADYCACAAIAFBDGxqQdQLakEANgIAIAFBAWoiAUEgRw0ACwtBACELIAIhBCAUKAIAIQEDQCAUIAFBwAdqQf8HcSIBNgIAIB4gCyAYIAEQKiAGQgA3AgAgBkIANwIIIAZCADcCECAGQgA3AhggBkIANwIgIAZCADcCKCAGQgA3AjAgBkIANwI4IAZBQGtCADcCACAGQgA3AkggBkIANwJQIAZCADcCWCAGQgA3AmAgBkIANwJoIAZCADcCcCAGQgA3AnggFCgCACIRQQF1IQ5B/wcgEUGAAW9BAXUiD2siAUGAf3EhFSABQQd2QQZ0QcAEaiEWIA8hAUGABCAOayEFA0BBACEHIAEhAyAFIQgDQCAIQQFqIRIgA0EBaiEMIABBzJYBaiAHQQJ0aiIXIABBzNYAaiAIQQJ0aioCACAAQcz2AGogA0ECdGoqAgCUIBcoAgCykqg2AgAgB0EBaiIHQSBHBEAgDCEDIBIhCAwBCwsgAUGAAWohAyAFQUBrIQUgAUGAB0gEQCADIQEMAQsLQeAHIA8gFWprIgFBgAhIBEAgFiAOa0GgfGohBQNAIAFBH2ohD0EAIQcgBSEDIAEhCANAIANBAWohEiAIQQFqIQwgAEHMlgFqIAdBAnRqIg4gAEHM1gBqIANBAnRqKgIAIABBzPYAaiAIQQJ0aioCAJQgDigCALKSqDYCACAHQQFqIgdBIEcEQCASIQMgDCEIDAELCyABQYABaiEBIAVBQGshBSAPQZ8HSA0ACwtBACEBA0AgAEHMDmogASAEakECdGogAEHMlgFqIAFBAnRqKAIAskMA/v9OlTgCACABQQFqIgFBIEcNAAsgHyALIBggERAqIAZCADcCACAGQgA3AgggBkIANwIQIAZCADcCGCAGQgA3AiAgBkIANwIoIAZCADcCMCAGQgA3AjggBkFAa0IANwIAIAZCADcCSCAGQgA3AlAgBkIANwJYIAZCADcCYCAGQgA3AmggBkIANwJwIAZCADcCeCAUKAIAIhJBAXUhDkH/ByASQYABb0EBdSIRayIBQYB/cSEVIAFBB3ZBBnRBwARqIRYgESEBQYAEIA5rIQUDQEEAIQcgASEDIAUhCANAIAhBAWohDCADQQFqIQ8gAEHMlgFqIAdBAnRqIhcgAEHM1gBqIAhBAnRqKgIAIABBzPYAaiADQQJ0aioCAJQgFygCALKSqDYCACAHQQFqIgdBIEcEQCAPIQMgDCEIDAELCyABQYABaiEDIAVBQGshBSABQYAHSARAIAMhAQwBCwtB4AcgESAVamsiAUGACEgEQCAWIA5rQaB8aiEFA0AgAUEfaiERQQAhByAFIQMgASEIA0AgA0EBaiEMIAhBAWohDyAAQcyWAWogB0ECdGoiDiAAQczWAGogA0ECdGoqAgAgAEHM9gBqIAhBAnRqKgIAlCAOKAIAspKoNgIAIAdBAWoiB0EgRwRAIAwhAyAPIQgMAQsLIAFBgAFqIQEgBUFAayEFIBFBnwdIDQALC0EAIQEDQCAAQcwyaiABIARqQQJ0aiAAQcyWAWogAUECdGooAgCyQwD+/06VOAIAIAFBAWoiAUEgRw0ACyAEQSBqIQQgC0EBaiILQQNHBEAgEiEBDAELCyACQeAAaiECIBNBAWoiE0EERw0ACyAJQYADaiEJIBBBAWoiEEEDRw0ACyAAIBk2AgAgHAuEBAEHfyAAQcwCaiABQYADbGogAkEMbGogA0ECdGooAgAhAyAAQcwIaiABQYADbGogAkEMbGohBiAAQQxqIAFBB3RqIAJBAnRqKAIAIgRFBEAgACABQYADbGogAkEMbGpB1AhqQQA2AgAgACABQYADbGogAkEMbGpB0AhqQQA2AgAgBkEANgIADwsgA0E/RgR/QQAFIwBB2MMAaiADIANBA20iA0EDbGtBAnRqKAIAQQEgA3RBAXVqIAN1CyEIIAQvAQAhBSAELAACRSEJIABBCGoiBygCACAEQQNqIgQtAAAQMSEDIAkEQCAGIAM2AgAgACABQYADbGogAkEMbGpB0AhqIgMgBygCACAELQAAEDE2AgAgBygCACAELQAAEDEhBCAGKAIAIQcgAygCACEJBSAGIAMgAyAFbSIEIAVsayIHNgIAIAAgAUGAA2xqIAJBDGxqQdAIaiIDIAQgBCAFbSIEIAVsayIJNgIAC0GAgAQgBUEBaiIKbiEFIAYgCkEBdkF/aiIGIAdrIAVsIgogCEH/H3EiB2xBgBBqQQx1IAogCEEMdSIIbGpBDHU2AgAgAyAGIAlrIAVsIgMgB2xBgBBqQQx1IAMgCGxqQQx1NgIAIAAgAUGAA2xqIAJBDGxqQdQIaiAGIARrIAVsIgAgB2xBgBBqQQx1IAAgCGxqQQx1NgIAC4AcAh9/Nn0gAEHEAmogAUECdGooAgAiBCAAQTBqIAFBAnRqKAIAIgVqsiIlIABB8AFqIAFBAnRqKAIAIgYgAEGEAWogAUECdGooAgAiB2qyIi6SIiYgAEHQAmogAUECdGooAgAiCCAAQSRqIAFBAnRqKAIAIglqsiI7IABB5AFqIAFBAnRqKAIAIgogAEGQAWogAUECdGooAgAiC2qyIiOSIjWSIjEgAEGgAmogAUECdGooAgAiDCAAQdQAaiABQQJ0aigCACINarIiJyAAQZQCaiABQQJ0aigCACIOIABB4ABqIAFBAnRqKAIAIg9qsiI5kiIvIABB9AJqIAFBAnRqKAIAIhAgACABQQJ0aigCACIRarIiKCAAQcABaiABQQJ0aigCACISIABBtAFqIAFBAnRqKAIAIhNqsiIpkiItkiIwkiI8IABBuAJqIAFBAnRqKAIAIhQgAEE8aiABQQJ0aigCACIVarIiMiAAQfwBaiABQQJ0aigCACIWIABB+ABqIAFBAnRqKAIAIhdqsiIrkiIsIABB3AJqIAFBAnRqKAIAIhggAEEYaiABQQJ0aigCACIZarIiJCAAQdgBaiABQQJ0aigCACIaIABBnAFqIAFBAnRqKAIAIhtqsiIzkiI6kiIqIABBrAJqIAFBAnRqKAIAIhwgAEHIAGogAUECdGooAgAiHWqyIj0gAEGIAmogAUECdGooAgAiHiAAQewAaiABQQJ0aigCACIfarIiRJIiNiAAQegCaiABQQJ0aigCACIgIABBDGogAUECdGooAgAiIWqyIkUgAEHMAWogAUECdGooAgAiIiAAQagBaiABQQJ0aigCACIAarIiRpIiR5IiSJIiTZO7RLhLf2aeoOY/orYhNCAwIDGTu0SmMdt7elHhP6K2Ik4gSCAqk7tEujBFka7n9D+itiJIk7tEuEt/Zp6g5j+itiExIDUgJpO7ROimc9DZgARAorYiJiAtIC+Tu0S5tHzRPlDgP6K2IjWSIk8gOiAsk7tEuH6x75rM7D+itiIvIEcgNpO7RKYV4KE3PuM/orYiLZIiNpO7RLhLf2aeoOY/orYiRyA1ICaTu0SmMdt7elHhP6K2IlAgLSAvk7tEujBFka7n9D+itiJRk7tEuEt/Zp6g5j+itiI1kiEvICcgOZO7RIs85YCTZxRAorYiJiAoICmTu0T302Gc0RPgP6K2IieSIjkgJSAuk7tEQjl9C5A46T+itiIlIDsgI5O7RB/ku5jDsuQ/orYiLpIiKJO7RKYx23t6UeE/orYiUiA9IESTu0SQfkCwJI/7P6K2IiMgRSBGk7tEUezrA0+44D+itiIpkiItIDIgK5O7RLzITiqJ+PA/orYiMCAkIDOTu0TeTQbRZyTiP6K2IjKSIiuTu0S6MEWRruf0P6K2Ij2Tu0S4S39mnqDmP6K2ITsgLiAlk7tE6KZz0NmABECitiIuICcgJpO7RLm0fNE+UOA/orYiJ5IhJSAyIDCTu0S4frHvmszsP6K2IjAgKSAjk7tEphXgoTc+4z+itiIjkiEmICcgLpO7RKYx23t6UeE/orYiJyAjIDCTu0S6MEWRruf0P6K2IiOTu0S4S39mnqDmP6K2IS4gJiAlkiAjICeSIC6SIieSISMgJyAlICaTu0S4S39mnqDmP6K2IiWSIScgJSAukiJEICggOZIiRSArIC2SIkaTu0S4S39mnqDmP6K2IlOSITkgBSAEa7K7ROgyGPEGs+E/orYiJSAHIAZrsrtEBn7LpQa28j+itiIykiImIAkgCGuyu0QFeDAITf7gP6K2IisgCyAKa7K7RM/ojmUjv/c/orYiLJIiLZIiOiANIAxrsrtEUcCzqQeY5T+itiIkIA8gDmuyu0TUddS6PdPnP6K2IjOSIjAgESAQa7K7RCZdNpTwBOA/orYiKiATIBJrsrtETNCovkhhJECitiJJkiI+kiJKkiEoIBUgFGuyu0RbdwQ8Z6fiP6K2IjcgFyAWa7K7REbc12xHH+8/orYiP5IiQCAZIBhrsrtEV8ZdW4t+4D+itiJBIBsgGmuyu0RTheDjVXYAQKK2IkKSIjiSIksgHSAca7K7RK4SQsSN6+M/orYiQyAfIB5rsrtEvxGfyfPb6j+itiJMkiJUICEgIGuyu0RP3jpv0SzgP6K2IlUgACAia7K7RDU51zPIQgtAorYiVpIiV5IiWJIhKSAtICaTu0TopnPQ2YAEQKK2IiYgPiAwk7tEubR80T5Q4D+itiI+kiEtIDggQJO7RLh+se+azOw/orYiQCBXIFSTu0SmFeChNz7jP6K2IjiSITAgPiAmk7tEpjHbe3pR4T+itiI+IDggQJO7RLowRZGu5/Q/orYiQJO7RLhLf2aeoOY/orYhJiAlIDKTu0RCOX0LkDjpP6K2IiUgKyAsk7tEH+S7mMOy5D+itiIrkiI4ICQgM5O7RIs85YCTZxRAorYiLCAqIEmTu0T302Gc0RPgP6K2IiSSIjOSIkkgNyA/k7tEvMhOKon48D+itiIqIEEgQpO7RN5NBtFnJOI/orYiN5IiPyBDIEyTu0SQfkCwJI/7P6K2IkEgVSBWk7tEUezrA0+44D+itiJCkiJDkiJMk7tEuEt/Zp6g5j+itiEyICsgJZO7ROimc9DZgARAorYiJSAkICyTu0S5tHzRPlDgP6K2IiSSISsgNyAqk7tEuH6x75rM7D+itiIqIEIgQZO7RKYV4KE3PuM/orYiN5IhLCAkICWTu0SmMdt7elHhP6K2IiQgNyAqk7tEujBFka7n9D+itiIqk7tEuEt/Zp6g5j+itiElICwgK5IgKiAkkiAlkiIqkiEkICogKyAsk7tEuEt/Zp6g5j+itiIskiErICwgJZIiNyAykiJBICggKZO7RLhLf2aeoOY/orYiQpIhLCAzIDiTu0SmMdt7elHhP6K2IjggQyA/k7tEujBFka7n9D+itiI/k7tEuEt/Zp6g5j+itiIzICWSIkMgSiA6k7tEpjHbe3pR4T+itiJKIFggS5O7RLowRZGu5/Q/orYiS5O7RLhLf2aeoOY/orYiOpIhKiACIANBMGpBAnRqIE0gPJKMOAIAIAIgA0EvakECdGogKSAokiBMIEmSICSSIiiSjCIpOAIAIAIgA0ExakECdGogKTgCACACIANBLmpBAnRqIEYgRZIgI5KMIik4AgAgAiADQTJqQQJ0aiApOAIAIAIgA0EtakECdGogMCAtkiBAID6SICaSIimSIjwgKJKMIig4AgAgAiADQTNqQQJ0aiAoOAIAIAIgA0EsakECdGogNiBPkiBRIFCSIDWSIiiSjCI2OAIAIAIgA0E0akECdGogNjgCACACIANBK2pBAnRqIDwgPyA4kiAzkiI8ICSSIiSSjCI2OAIAIAIgA0E1akECdGogNjgCACACIANBKmpBAnRqID0gUpIgO5IiPSAjkowiIzgCACACIANBNmpBAnRqICM4AgAgAiADQSlqQQJ0aiBLIEqSIDqSIiMgJJKMIiQ4AgAgAiADQTdqQQJ0aiAkOAIAIAIgA0EoakECdGogSCBOkiAxkowiJDgCACACIANBOGpBAnRqICQ4AgAgAiADQSdqQQJ0aiAjIDwgK5IiI5KMIiQ4AgAgAiADQTlqQQJ0aiAkOAIAIAIgA0EmakECdGogPSAnkowiJDgCACACIANBOmpBAnRqICQ4AgAgAiADQSVqQQJ0aiApIC0gMJO7RLhLf2aeoOY/orYiKZIiLSAjkowiIzgCACACIANBO2pBAnRqICM4AgAgAiADQSRqQQJ0aiAoIEeSjCIjOAIAIAIgA0E8akECdGogIzgCACACIANBI2pBAnRqIC0gKyAykiIjkowiKDgCACACIANBPWpBAnRqICg4AgAgAiADQSJqQQJ0aiAnIFOSjCInOAIAIAIgA0E+akECdGogJzgCACACIANBIWpBAnRqICMgQpKMIiM4AgAgAiADQT9qQQJ0aiAjOAIAIAIgA0EgakECdGogNIw4AgAgAiADQQJ0aiA0OAIAIAIgA0EfakECdGogLIw4AgAgAiADQQFqQQJ0aiAsOAIAIAIgA0EeakECdGogOYw4AgAgAiADQQJqQQJ0aiA5OAIAIAIgA0EdakECdGogKSAmkiI0IEGSIiOMOAIAIAIgA0EDakECdGogIzgCACACIANBHGpBAnRqIC+MOAIAIAIgA0EEakECdGogLzgCACACIANBG2pBAnRqIDQgNyAzkiI0kiIvjDgCACACIANBBWpBAnRqIC84AgAgAiADQRpqQQJ0aiBEIDuSIi+MOAIAIAIgA0EGakECdGogLzgCACACIANBGWpBAnRqIDQgOpIiNIw4AgAgAiADQQdqQQJ0aiA0OAIAIAIgA0EYakECdGogMYw4AgAgAiADQQhqQQJ0aiAxOAIAIAIgA0EXakECdGogKow4AgAgAiADQQlqQQJ0aiAqOAIAIAIgA0EWakECdGogOyAukiIxjDgCACACIANBCmpBAnRqIDE4AgAgAiADQRVqQQJ0aiBDICaSIjGMOAIAIAIgA0ELakECdGogMTgCACACIANBFGpBAnRqIDWMOAIAIAIgA0EMakECdGogNTgCACACIANBE2pBAnRqICYgJZIiJow4AgAgAiADQQ1qQQJ0aiAmOAIAIAIgA0ESakECdGogLow4AgAgAiADQQ5qQQJ0aiAuOAIAIAIgA0ERakECdGogJYw4AgAgAiADQQ9qQQJ0aiAlOAIAIAIgA0EQakECdGpDAAAAADgCAAsvAQF/QRQQMiICIAE2AhAgAiAAEDI2AgAgAiAANgIIIAJBADYCDCACQQA2AgQgAgsNACAAKAIAEDkgABA5C4QCAQZ/AkAgAEEIaiIDKAIAIgQgAEEMaiIGKAIAIgJrIgUgAUkEQCAAKAIQQQJGBEAgASAFayECIAAgACgCACAFIARBAXQiBWogAUkEfyACBSAFIgILEDo2AgAgAyACNgIAIABBBGoiAigCACAGKAIAIgFBA3QiA00NAiACIAM2AgAMAgsgAiAAQQRqIgQoAgAiB0EDdiIDRiAFIANqIAFJcgRAIAZBADYCACAEQQA2AgBBACEBDAILIAMEQCAAKAIAIgEgASADaiACIANrEDwaIAYgBigCACADayIBNgIAIAQgBCgCACAHQXhxazYCAAUgAiEBCwUgAiEBCwsgACgCACABaguWAQEEfwJAIABBBGoiAygCAEEHakEDdiIBIAAoAgwiBEkEQCAAKAIAIQIgASEAA0ACQCAAQQFqIQEgAiAAaiwAAEUEQCACIAFqLAAARQRAIAIgAEECamosAABBAUYNAgsLIAEgBE8NAyABIQAMAQsLIAMgAEEDdEEgajYCACACIABBA2pqLQAADwsLIAMgBEEDdDYCAEF/C7IBAQR/AkAgAEEEaiIFKAIAQQdqQQN2IgIgACgCDCIESQRAIAAoAgAhAyACIQADQAJAIABBAWohAgJAAkAgAyAAaiwAAA0AIAMgAmosAAANACADIABBAmpqLAAAQQFHDQAgBSAAQQN0IgJBIGo2AgAgAyAAQQNqai0AACABRg0CIAJBJ2pBA3YiACAETw0FDAELIAIgBE8NBCACIQALDAELCyABDwsLIAUgBEEDdDYCAEF/C08BAX8gACgCBEEHakEDdiIBIAAoAgxPBEBBAQ8LIAAoAgAiACABaiwAAARAQQAPCyAAIAFBAWpqLAAABEBBAA8LIAAgAUECamosAABBAUYLlgEBCH8gAEEEaiIHKAIAIQYgAUUEQCAHIAYgAWo2AgBBAA8LIAAoAgAhCCAGIQJBACEAIAEhAwNAIAggAkEDdWotAAAhCUH/AUEIQQggAkEHcWsiBCADSQR/IAQFIAMLIgVrdiAEIAVrIgR0IAlxIAR2IAAgBXRyIQAgBSACaiECIAMgBWsiAw0ACyAHIAYgAWo2AgAgAAucAwEEfyAARQRAQQAPCyAAEDMiAQRAIAEhAAUCQAJAIwBB1M3AAmooAgAiAkUNACACKAIAIgFBAXENACACIAFBAXI2AgAgAUEBdkF4aiIBRQRAIwBBmcgAaiMAQaLIAGpBggIjAEHZyABqEAELQR8gAUEISwR/IAEFQQgiAQtnayEDIAEEfyADBUEBIgMLQX1qQR1PBEAjAEHqyABqIwBBosgAakGHAiMAQdnIAGoQAQsgAkEMaiEBIwBB0MzAAmogA0ECdGoiBCgCACACQQhqIgNGBEAgBCABKAIANgIACyADKAIAIgIEQCACIAEoAgA2AgQLIAEoAgAiAQRAIAEgAygCADYCAAsgABA0RSEBIwBB1M3AAmooAgAhACABBEAgACAAKAIAQX5xNgIAQQAPCwwBCyAAEDUhAAsgAEUEQEEADwsLIAAgACgCAEEBdmpBABACSwRAIwBBpMkAaiMAQaLIAGpBtwYjAEHAyQBqEAELIAAoAgBBAXFFBEAjAEHQyQBqIwBBosgAakHOASMAQeLJAGoQAQsgAEEIagvGBQEFfyAARQRAIwBBmcgAaiMAQaLIAGpBkgIjAEGFywBqEAELQR8gAEEISwR/IAAFQQgLIgJnayEBIAIEfyABBUEBIgELQX1qQR1PBEAjAEHqyABqIwBBosgAakGHAiMAQdnIAGoQAQsCQCABIABpQQFHaiIDQQNLQQEgA3QgAEtxBEAjACADQQJ0akHMzMACaigCACICBEBBACEBA0AgAkF4aiIEKAIAQQF2QXhqIgUgAEkEQCABQQFqIgFBIEkgAigCBCICQQBHcUUNBAwBCwsgBUUEQCMAQZnIAGojAEGiyABqQYICIwBB2cgAahABC0EfIAVBCEsEfyAFBUEIIgULZ2shASAFBH8gAQVBASIBC0F9akEdTwRAIwBB6sgAaiMAQaLIAGpBhwIjAEHZyABqEAELIAJBBGohAyMAQdDMwAJqIAFBAnRqIgEoAgAgAkYEQCABIAMoAgA2AgALIAIoAgAiAQRAIAEgAygCADYCBAsgAygCACIBBEAgASACKAIANgIACyAEIAQoAgBBAXI2AgAgBCAAEDcgBA8LCwsgA0EgTwRAQQAPCyADIQICQAJAA0AjAEHQzMACaiACQQJ0aigCACIERQRAIAJBAWoiAkEgSQRADAIFQQAhAAwDCwALCwwBC0EADwsgBEF4aiICKAIAQQF2QXhqIgFFBEAjAEGZyABqIwBBosgAakGCAiMAQdnIAGoQAQtBHyABQQhLBH8gAQVBCCIBC2drIQMgAQR/IAMFQQEiAwtBfWpBHU8EQCMAQerIAGojAEGiyABqQYcCIwBB2cgAahABCyAEQQRqIQEjAEHQzMACaiADQQJ0aiIDKAIAIARGBEAgAyABKAIANgIACyAEKAIAIgMEQCADIAEoAgA2AgQLIAEoAgAiAQRAIAEgBCgCADYCAAsgAiACKAIAQQFyNgIAIAIgABA3IAIL1QIBBH8gAEEPakF4cSMAQdTNwAJqKAIAKAIAQQF2ayIEEAIiAUF/RgRAQQAPCyMAQdTNwAJqKAIAIgIoAgAiA0EBdiEAIAEgAiAAakcEQCMAQcrKAGojAEGiyABqQasDIwBB5soAahABCyADQQFxRQRAIABBeGoiAEUEQCMAQZnIAGojAEGiyABqQYICIwBB2cgAahABC0EfIABBCEsEfyAABUEIIgALZ2shASAABH8gAQVBASIBC0F9akEdTwRAIwBB6sgAaiMAQaLIAGpBhwIjAEHZyABqEAELIAJBDGohACMAQdDMwAJqIAFBAnRqIgMoAgAgAkEIaiIBRgRAIAMgACgCADYCAAsgASgCACIDBEAgAyAAKAIANgIECyAAKAIAIgAEQCAAIAEoAgA2AgALCyACIAIoAgAgBEEBdGoiADYCACAAQQFxBEBBAQ8LIAIQNkEBC9UCAQV/IABBD2pBeHEiBBACIgFBf0YEQEEADwsCQAJAIAEgAUEHakF4cSIAIgVGBEAjAEHQzcACaigCAEEARyECIwBB1M3AAmooAgAiAUUEQCACRQ0CIwBBscoAaiMAQaLIAGpB9wUjAEGWygBqEAELIAIEQCAAIAE2AgQgACEDBSMAQb7KAGojAEGiyABqQfsFIwBBlsoAahABCwUgACABaxACIgJBf0YEQEEADwsgAiABIARqRwRAIwBB7ckAaiMAQaLIAGpB7AUjAEGWygBqEAELIwBB1M3AAmooAgAEQCMAQaXKAGojAEGiyABqQe4FIwBBlsoAahABCyMAQdDNwAJqKAIARQ0BIwBBscoAaiMAQaLIAGpB9wUjAEGWygBqEAELDAELIwBB0M3AAmogBTYCACAAIQMLIwBB1M3AAmogBTYCACADIARBAXRBAXI2AgAgAwvdAQECfyAAIAAoAgBBAXZqQQAQAksEQCMAQaTJAGojAEGiyABqQbwCIwBB98oAahABCyAAKAIAQQF2QXhqIgFFBEAjAEGZyABqIwBBosgAakGCAiMAQdnIAGoQAQtBHyABQQhLBH8gAQVBCCIBC2drIQIgAQR/IAIFQQEiAgtBfWpBHU8EQCMAQerIAGojAEGiyABqQYcCIwBB2cgAahABCyMAQdDMwAJqIAJBAnRqIgIoAgAhASACIABBCGoiAjYCACACQQA2AgAgACABNgIMIAFFBEAPCyABIAI2AgAL2AIBBH8gACgCACICQQF2IgVBeGoiBCABSQRAIwBBn8sAaiMAQaLIAGpBtgMjAEGzywBqEAELIAQgAWsiBEF4cUEIRiMAQdTNwAJqKAIAIABGcQRAIAUQNEUEQA8LIARBCGpBD0sEQCAAKAIAIQMFIwBByssAaiMAQaLIAGpBxwMjAEGzywBqEAELBSAEQQ9LBH8gAgUPCyEDCyADQQFxIgJFBEAjAEHQyQBqIwBBosgAakHOASMAQeLJAGoQAQsgACACIAAgAWpBD2pBeHEiASAAa0EBdHI2AgAgACADQQF2aiABayICQQ9NBEAjAEHjywBqIwBBosgAakHWAyMAQbPLAGoQAQsgASABKAIAQQFxIAJBAXRyNgIAIAEgADYCBCABIgMgAkH/////B3FqQQRqIQIjAEHUzcACaigCACAARgR/IwBB1M3AAmoFIAILIAM2AgAgARA4C9wHAQh/IAAgACgCACIFQX5xNgIAIAAgBUEBdmpBABACSwRAIwBBpMkAaiMAQaLIAGpBzgIjAEGFzABqEAELIAAoAgQhAyMAQdTNwAJqKAIAIgUgAEYiCAR/QQAFIAAgACgCAEEBdmoiBgshBCADBEAgAygCACIBQQFxRQRAIAFBAXZBeGoiAUUEQCMAQZnIAGojAEGiyABqQYICIwBB2cgAahABC0EfIAFBCEsEfyABBUEIIgELZ2shAiABBH8gAgVBASICC0F9akEdTwRAIwBB6sgAaiMAQaLIAGpBhwIjAEHZyABqEAELIANBDGohASMAQdDMwAJqIAJBAnRqIgcoAgAgA0EIaiICRgRAIAcgASgCADYCAAsgAigCACIHBEAgByABKAIANgIECyABKAIAIgEEQCABIAIoAgA2AgALIAMgAygCACAAKAIAQX5xajYCAAJAAkAgBARAIAQgAzYCBCAEKAIAIgBBAXFFBEAgAEEBdkF4aiIARQRAIwBBmcgAaiMAQaLIAGpBggIjAEHZyABqEAELQR8gAEEISwR/IAAFQQgiAAtnayEBIAAEfyABBUEBIgELQX1qQR1PBEAjAEHqyABqIwBBosgAakGHAiMAQdnIAGoQAQsgBEEMaiEAIwBB0MzAAmogAUECdGoiAigCACAEQQhqIgFGBEAgAiAAKAIANgIACyABKAIAIgIEQCACIAAoAgA2AgQLIAAoAgAiAARAIAAgASgCADYCACMAQdTNwAJqKAIAIQULIAMgAygCACAEKAIAQX5xajYCACAEIAVGBEAjAEHUzcACaiEABSAGIAQoAgBBAXZqQQRqIQALDAILBSAIBEAjAEHUzcACaiEADAIFIwBBocwAaiMAQaLIAGpB3AIjAEGFzABqEAELCwwBCyAAIAM2AgALIAMQNg8LCyAEBEAgBCgCACIBQQFxRQRAIAFBAXZBeGoiAUUEQCMAQZnIAGojAEGiyABqQYICIwBB2cgAahABC0EfIAFBCEsEfyABBUEIIgELZ2shAiABBH8gAgVBASICC0F9akEdTwRAIwBB6sgAaiMAQaLIAGpBhwIjAEHZyABqEAELIARBDGohASMAQdDMwAJqIAJBAnRqIgMoAgAgBEEIaiICRgRAIAMgASgCADYCAAsgAigCACIDBEAgAyABKAIANgIECyABKAIAIgEEQCABIAIoAgA2AgAjAEHUzcACaigCACEFCyAAIAAoAgAgBCgCAEF+cWo2AgAgBCAFRgR/IwBB1M3AAmoFIAYgBCgCAEEBdmpBBGoLIgUgADYCACAAEDYPCwsgABA2CxAAIABFBEAPCyAAQXhqEDgLpgoBBn8CQAJAIAFFIQIgAEUEQCACDQIgARAzIgBFBEACQAJAIwBB1M3AAmooAgAiA0UNACADKAIAIgBBAXENACADIABBAXI2AgAgAEEBdkF4aiIARQRAIwBBmcgAaiMAQaLIAGpBggIjAEHZyABqEAELQR8gAEEISwR/IAAFQQgiAAtnayECIAAEfyACBUEBIgILQX1qQR1PBEAjAEHqyABqIwBBosgAakGHAiMAQdnIAGoQAQsgA0EMaiEAIwBB0MzAAmogAkECdGoiBCgCACADQQhqIgJGBEAgBCAAKAIANgIACyACKAIAIgMEQCADIAAoAgA2AgQLIAAoAgAiAARAIAAgAigCADYCAAsgARA0RSEBIwBB1M3AAmooAgAhACABBEAgACAAKAIAQX5xNgIADAYLDAELIAEQNSEACyAARQ0DCyAAIAAoAgBBAXZqQQAQAksEQCMAQaTJAGojAEGiyABqQbcGIwBBwMkAahABCyAAKAIAQQFxRQRAIwBB0MkAaiMAQaLIAGpBzgEjAEHiyQBqEAELIABBCGoPCyAAQXhqIQQgAgRAIAQQOAwCCyAEKAIAIgJBAXFFBEAjAEHQyQBqIwBBosgAakHQBiMAQbbMAGoQAQsgAkEBdiIDQXhqIAFPDQAgBCADaiEFIwBB1M3AAmooAgAiBiAERwRAIAUoAgAiA0EBcUUEQCADQQF2QXhqIgJFBEAjAEGZyABqIwBBosgAakGCAiMAQdnIAGoQAQtBHyACQQhLBH8gAgVBCCICC2drIQMgAgR/IAMFQQEiAwtBfWpBHU8EQCMAQerIAGojAEGiyABqQYcCIwBB2cgAahABCyAFQQxqIQIjAEHQzMACaiADQQJ0aiIHKAIAIAVBCGoiA0YEQCAHIAIoAgA2AgALIAMoAgAiBwRAIAcgAigCADYCBAsgAigCACICBEAgAiADKAIANgIACyAEIAQoAgAgBSgCAEF+cWoiAjYCACAGIAVGBEAjAEHUzcACaiAENgIABSAFIAUoAgBBAXZqIAQ2AgQLCwsgAkEBdkF4aiABTw0AIAEQMyICQQBHIQMjAEHUzcACaigCACAERiADQQFzcQRAIAEQNARAIAAPCwsgA0UEQAJAAkAjAEHUzcACaigCACIFRQ0AIAUoAgAiAkEBcQ0AIAUgAkEBcjYCACACQQF2QXhqIgJFBEAjAEGZyABqIwBBosgAakGCAiMAQdnIAGoQAQtBHyACQQhLBH8gAgVBCCICC2drIQMgAgR/IAMFQQEiAwtBfWpBHU8EQCMAQerIAGojAEGiyABqQYcCIwBB2cgAahABCyAFQQxqIQIjAEHQzMACaiADQQJ0aiIGKAIAIAVBCGoiA0YEQCAGIAIoAgA2AgALIAMoAgAiBQRAIAUgAigCADYCBAsgAigCACICBEAgAiADKAIANgIACyABEDRFIQMjAEHUzcACaigCACECIAMEQCACIAIoAgBBfnE2AgAMBQsMAQsgARA1IQILIAJFDQILIAIoAgBBAXFFBEAjAEHQyQBqIwBBosgAakHOASMAQeLJAGoQAQsgBCgCACIDQQFxRQRAIwBB0MkAaiMAQaLIAGpBzgEjAEHiyQBqEAELIAJBCGoiBSAAIANBAXZBeGoiACABSwR/IAEFIAALEDsaIAQQOCACKAIAQQFxBEAgBQ8FIwBB0MkAaiMAQaLIAGpBzgEjAEHiyQBqEAELQQAPCyAEIAJBAXI2AgAgBCABEDcgAA8LQQALiwsBCH8gAkEARyABQQNxQQBHcQRAIAAhAwNAIANBAWohBCADIAEsAAA6AAAgAkF/aiICQQBHIAFBAWoiAUEDcUEAR3EEfyAEIQMMAQUgBAshAwsFIAAhAwsgA0EDcUUEQCACQQ9LBH8gAyACQXBqIgdBcHEiCEEQaiIJaiEGIAEhBANAIAMgBCgCADYCACADIAQoAgQ2AgQgAyAEKAIINgIIIAMgBCgCDDYCDCAEQRBqIQQgA0EQaiEDIAJBcGoiAkEPSw0ACyABIAlqIQEgBiEDIAcgCGsFIAILIgRBCHEEfyADIAEoAgA2AgAgAyABKAIENgIEIAFBCGohASADQQhqBSADCyECIARBBHEEQCACIAEoAgA2AgAgAUEEaiEBIAJBBGohAgsgBEECcQRAIAIgASwAADoAACACIAEsAAE6AAEgAUECaiEBIAJBAmohAgsgBEEBcUUEQCAADwsgAiABLAAAOgAAIAAPCwJAIAJBH0sEQAJAAkACQAJAIANBA3FBAWsOAwABAgMLIAMgASgCACIEOgAAIAMgASwAAToAASADIAEsAAI6AAIgASACQWxqQXBxIghBE2oiCWohByACQW1qIQogAkF9aiEGIANBA2ohAiABQQNqIQEDQCACIAEoAgEiBUEIdCAEQRh2cjYCACACIAEoAgUiBEEIdCAFQRh2cjYCBCACIAEoAgkiBUEIdCAEQRh2cjYCCCACIAEoAg0iBEEIdCAFQRh2cjYCDCABQRBqIQEgAkEQaiECIAZBcGoiBkEQSw0ACyAKIAhrIQIgByEBIAMgCWohAwwECyADIAEoAgAiBDoAACADIAEsAAE6AAEgASACQWxqQXBxIghBEmoiCWohByACQW5qIQogAkF+aiEGIANBAmohAiABQQJqIQEDQCACIAEoAgIiBUEQdCAEQRB2cjYCACACIAEoAgYiBEEQdCAFQRB2cjYCBCACIAEoAgoiBUEQdCAEQRB2cjYCCCACIAEoAg4iBEEQdCAFQRB2cjYCDCABQRBqIQEgAkEQaiECIAZBcGoiBkERSw0ACyAKIAhrIQIgByEBIAMgCWohAwwDCyADIAEoAgAiBDoAACABIAJBbGpBcHEiCEERaiIJaiEHIAJBb2ohCiACQX9qIQYgA0EBaiECIAFBAWohAQNAIAIgASgCAyIFQRh0IARBCHZyNgIAIAIgASgCByIEQRh0IAVBCHZyNgIEIAIgASgCCyIFQRh0IARBCHZyNgIIIAIgASgCDyIEQRh0IAVBCHZyNgIMIAFBEGohASACQRBqIQIgBkFwaiIGQRJLDQALIAogCGshAiAHIQEgAyAJaiEDCwsLIAJBEHEEQCADIAEsAAA6AAAgAyABLAABOgABIAMgASwAAjoAAiADIAEsAAM6AAMgAyABLAAEOgAEIAMgASwABToABSADIAEsAAY6AAYgAyABLAAHOgAHIAMgASwACDoACCADIAEsAAk6AAkgAyABLAAKOgAKIAMgASwACzoACyADIAEsAAw6AAwgAyABLAANOgANIAMgASwADjoADiADIAEsAA86AA8gAUEQaiEBIANBEGohAwsgAkEIcQRAIAMgASwAADoAACADIAEsAAE6AAEgAyABLAACOgACIAMgASwAAzoAAyADIAEsAAQ6AAQgAyABLAAFOgAFIAMgASwABjoABiADIAEsAAc6AAcgAUEIaiEBIANB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LjU8PTYvNz4/CBATFhobHSIQEBYYGx0iJRMWGhsdIiImFhYaGx0iJSgWGhsdICMoMBobHSAjKDA6GhsdIiYuOEUbHSMmLjhFUyAsKiYgGREJLD46NCwjGAwqOjcxKiEXDCY0MSwmHhQKICwqJiAZEQkZIyEeGRQOBxEYFxQRDgkFCQwMCgkHBQIAAAEBAQICAgICAgICAgAAAAAAAAAAAQEBAgICAgIAAAgIDFtbW15bXkRENDQ0NDQ0NDQ0NAAAAAAAAAAAAAAAAAAAAAAAAAAAQ0NDQkJCQkJCQkIxMTExMTExMTExMTEgICAgICAgAABFRUVFNDQ0NDQ0NCQkJCQkJCQkJCQkJCQkJCQkJCQAAAABAhEAAAAAAAAAAAAAAAAAAQIDBAUGEQAAAAAAAAAAAAECAwQFBgcICQoLDA0OEQABAwUGBwgJCgsMDQ4PEBEAAQIEBQYHCAkKCwwNDg8RAAECAwQFBgcICQoLDA0OD3NpemUgPiAwAEQ6L3Nydi9lbXNkay9lbXNjcmlwdGVuLzEuMzguNS9zeXN0ZW0vbGliL2VtbWFsbG9jLmNwcABnZXRGcmVlTGlzdEluZGV4AE1JTl9GUkVFTElTVF9JTkRFWCA8PSBpbmRleCAmJiBpbmRleCA8IE1BWF9GUkVFTElTVF9JTkRFWABnZXRBZnRlcihyZWdpb24pIDw9IHNicmsoMCkAZW1tYWxsb2NfbWFsbG9jAHJlZ2lvbi0+Z2V0VXNlZCgpAGdldFBheWxvYWQAKGNoYXIqKWV4dHJhUHRyID09IChjaGFyKilwdHIgKyBzYnJrU2l6ZQBhbGxvY2F0ZVJlZ2lvbgAhbGFzdFJlZ2lvbgAhZmlyc3RSZWdpb24AZmlyc3RSZWdpb24AcHRyID09IGdldEFmdGVyKGxhc3RSZWdpb24pAGV4dGVuZExhc3RSZWdpb24AYWRkVG9GcmVlTGlzdABnZXRCaWdFbm91Z2hGcmVlTGlzdEluZGV4AHBheWxvYWRTaXplID49IHNpemUAcG9zc2libHlTcGxpdFJlbWFpbmRlcgBleHRyYSA+PSBNSU5fUkVHSU9OX1NJWkUAdG90YWxTcGxpdFNpemUgPj0gTUlOX1JFR0lPTl9TSVpFAG1lcmdlSW50b0V4aXN0aW5nRnJlZVJlZ2lvbgByZWdpb24gPT0gbGFzdFJlZ2lvbgBlbW1hbGxvY19yZWFsbG9j";var jwv="2.3.2";var jWebAudio=function(){if(window.hasOwnProperty("AudioContext")){try{this.context=new AudioContext}catch(t){this.context=null}}else if(window.hasOwnProperty("webkitAudioContext")){this.context=new webkitAudioContext}else{this.context=null;console.error("Web audio is not supported in current "+"web browser. Please try with the latest"+" Chrome.")}};jWebAudio=new jWebAudio;var triggerSoundStr="";jWebAudio.SoundEngine=function(){console.log("SoundEngine");this.soundArray=[];triggerSoundStr="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";if(window.MW_CONFIG){this.dingSound=this.addSoundSource({data:triggerSoundStr,preLoad:true,loop:false,multishot:true,playtime:1})}};jWebAudio.SoundEngine.prototype={addSoundSource:function(t){if(typeof t!=="object"||!t.hasOwnProperty("url")&&!t.hasOwnProperty("data")){console.error("Error url in addSoundSource.");return}if(t.preLoad!==true){t.preLoad=false}if(typeof t.callback!=="function"&&typeof t.callback!=="object"){t.callback=null}if(t.multishot!==true){t.multishot=false}if(t.playtime==undefined){t.playtime=-1}if(typeof t.url==="string"){if(window.hasBase64&&window.hasBase64()&&window.getAssestByUrl){var e=window.getAssestByUrl(t.url);t.data=e}else if(window.assetsPackage){var A=t.url.split("/");var i=A[A.length-1];i=i.replace(".","_");t.data=window.assetsPackage[i]}this.soundArray.push(new jWebAudio.SoundSource(this.soundArray.length,t));return this.soundArray[this.soundArray.length-1]}else if(typeof t.data==="string"){this.soundArray.push(new jWebAudio.SoundSource(this.soundArray.length,t));return this.soundArray[this.soundArray.length-1]}else if(typeof t.url==="object"){if(t.preLoad){var o=t.url.length;var r=0;var n=t.callback;t.callback=function(){++r;if(r===o){if(n){n()}}}}var a=this.soundArray.length;var s=t.url.slice();for(var c in t.url){t.url=s[c];this.soundArray.push(new jWebAudio.SoundSource(this.soundArray.length,t))}var h=[];for(var c=a;c<this.soundArray.length;++c){h[c-a]=this.soundArray[c]}return h}},destroySound:function(t){if(this.soundArray[t]){if(this.soundArray[t].isLoaded){this.soundArray[t].stop()}delete this.soundArray[t]}}};jWebAudio.SoundSource=function(t,e){this.id=e.id;this.url=e.url;this.multishot=e.multishot;this.isLoaded=false;this.options=e;this.finish=e.finish;this.playtime=e.playtime;var A=this;this.sound=null;if(e.preLoad===true){this.load(e.callback)}};jWebAudio.SoundSource.prototype.load=function(t){if(!jWebAudio.context){return}if(!this.isLoaded){if(this.options.data){var e=basedecode(this.options.data);var A=this;jWebAudio.context.decodeAudioData(e,function(t){if(A.multishot){A.sound=new jWebAudio.WebAudioMultishotSound(t)}else{A.sound=new jWebAudio.WebAudioSound(t,A.finish)}A.sound.options=A.options;A.isLoaded=true;if(A.options.callback){A.options.callback()}return true},function(){console.error("Cannot decode: "+A.url);return false})}else{var i=new XMLHttpRequest;i.open("GET",this.url,true);i.responseType="arraybuffer";var A=this;i.onload=function(){var t=i.response;jWebAudio.context.decodeAudioData(t,function(t){if(A.multishot){A.sound=new jWebAudio.WebAudioMultishotSound(t)}else{A.sound=new jWebAudio.WebAudioSound(t,A.finish)}A.sound.options=A.options;A.isLoaded=true;if(A.options.callback){A.options.callback()}return true},function(){console.error("Cannot decode: "+A.url);return false})};i.onerror=function(){console.error("Load error")};i.send()}}};var basedecode=function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var A=new Uint8Array(256);for(var i=0;i<e.length;i++){A[e.charCodeAt(i)]=i}var o=t.length*.75;var r=t.length;var n=0;var a=0;var s=0;var c=0;var h=0;if(t[t.length-1]==="="){o--;if(t[t.length-2]==="="){o--}}var l=new ArrayBuffer(o),u=new Uint8Array(l);for(var i=0;i<r;i+=4){a=A[t.charCodeAt(i)];s=A[t.charCodeAt(i+1)];c=A[t.charCodeAt(i+2)];h=A[t.charCodeAt(i+3)];u[n++]=a<<2|s>>4;u[n++]=(s&15)<<4|c>>2;u[n++]=(c&3)<<6|h&63}return l};jWebAudio.extend=function(t,e){var A=function(){};A.prototype=e.prototype;t.prototype=new A;t.prototype.constructor=t};jWebAudio.leftMerge=function(t,e){for(var A in e){if(t.hasOwnProperty(A)){if(typeof t[A]==="object"){if(typeof e[A]==="object"){leftMerge(t[A],e[A])}}else{t[A]=e[A]}}}};jWebAudio.Sound=function(){this.STOPPED=0;this.PLAYING=1;this.PAUSED=2;var t=3;var e=3;var A=100;var i=this;var o={loop:false,loopGap:0,muted:false,volume:100,fadeIn:false,fadeOut:false,fadeInTime:t,fadeOutTime:e};this.getOptions=function(){return o};this.__defineGetter__("options",this.getOptions);this.setOptions=function(t){if(t){if(typeof t.muted==="boolean"&&t.muted!==o.muted){i.setMuted(t.muted)}if(typeof t.volume==="number"&&t.volume!==o.volume){i.setVolume(t.volume)}if(typeof t.fadeIn==="boolean"){o.fadeIn=t.fadeIn;i.setFadeIn(o.fadeIn,t.fadeInTime)}if(typeof t.fadeOut==="boolean"){o.fadeOut=t.fadeOut;i.setFadeOut(o.fadeOut,t.fadeOutTime)}i.playtime=t.playtime;jWebAudio.leftMerge(o,t)}};this.__defineSetter__("options",this.setOptions);this.setMuted=function(t){if(typeof t!=="boolean"){console.error("Error type of mute!");return}o.muted=t;if(t){n.gain.value=0}else{n.gain.value=o.volume/100}};this.getMuted=function(t){return i.options.muted};this.setVolume=function(t){t=+t;if(isNaN(t)){console.error("Error type of volume in setVolume");return}if(t!=0){this.defaultVolume=t}o.volume=t;n.gain.value=t/100};this.getVolume=function(){return i.options.volume};this.getLoop=function(){return i.options.loop};var r=jWebAudio.context;var n=r.createGain();this.__defineGetter__("gain",function(){return n});var a=[];var s=[];this.addEffect=function(t){if(typeof t==="string"){t=new jWebAudio.Effect(t)}if(!(t instanceof jWebAudio.Effect)){console.error("Error in addEffect: effect is not instance of Effect");return}var e=c();var A=h();if(e!==null){A.outNode.disconnect();A.outNode.connect(t.inNode)}else{n.disconnect();n.connect(t.inNode)}t.outNode.connect(r.destination);a.push(t);s.push(t.getName());return a.length-1};this.getEffectNames=function(){return s};this.getEffect=function(t){return a[t]};this.deleteEffect=function(t){if(a[t]!==undefined){var e=null;for(var A=t-1;A>=0;--A){if(a[A]!==undefined){e=a[A].outNode;break}}var i=r.destination;for(var A=t+1;A<a.length;++A){if(a[A]!==undefined){i=a[A].inNode;break}}if(e===null){n.disconnect();n.connect(i)}else{e.disconnect();e.connect(i)}delete a[t];delete s[t]}};this.clearAllEffects=function(){for(var t=a.length-1;t>=0;--t){if(a[t]!==undefined){n.disconnect();a[t].outNode.disconnect();n.connect(r.destination);a=[];s=[];return}}};function c(){for(var t=0;t<a.length;++t){if(a[t]!==undefined){return a[t]}}return null}function h(){for(var t=a.length-1;t>=0;--t){if(a[t]!==undefined){return a[t]}}return null}n.connect(r.destination)};jWebAudio.WebAudioSound=function(t,o){jWebAudio.Sound.call(this);var r=this;var n=jWebAudio.context;var a=n.createGain();a.connect(r.gain);var s=null;var c=t;this.__defineGetter__("duration",function(){return c.duration});var h=0;this.__defineGetter__("offset",function(){if(u===r.PLAYING){return n.currentTime-l+h}return h});this.seek=function(t){if(typeof t!=="number"||t<0||t>c.duration){console.error("Error arg in WebAudioSound.");return}var e=u;var A=s;setTimeout(function(){if(A){A.stop(0);A=null}},1e3);h=t;if(e===this.PLAYING){g()}};var l=0;this.startTime=0;var u=this.STOPPED;this.__defineGetter__("state",function(){return u});var p=null;var d=null;var e=null;this.play=function(t){if(soundIsMute){return}if(window.playsound===false){return}if(u===r.PLAYING){return}var t=t==undefined?0:t;g(t)};function g(t){var t=t==undefined?0:t;if(t!=0){h=t}var e=c.duration-h;s=n.createBufferSource();s.buffer=c;s.loop=r.options.loop;s.connect(a);if(r.options.fadeIn){a.gain.setValueAtTime(a.gain.minValue,n.currentTime);a.gain.linearRampToValueAtTime(a.gain.maxValue,n.currentTime+r.options.fadeInTime)}s.start(0,h,e);l=n.currentTime;this.startTime=l;u=r.PLAYING;var A=function(){return setTimeout(function(){r.playtime--;if(r.options.loop===true||r.playtime!=0){r.seek(0);if(r.options.loopGap&&r.options.loopGap>0){r.stop();loopGapEvent=setTimeout(function(){g()},r.options.loopGap*1e3)}}else{h=0;u=r.STOPPED}if(o){o()}},(e-.05)*1e3)};p=A();if(r.options.fadeOut===true){var i=function(){return setTimeout(function(){a.gain.setValueAtTime(a.gain.maxValue,n.currentTime);a.gain.linearRampToValueAtTime(a.gain.minValue,n.currentTime+r.options.fadeOutTime)},(e-r.options.fadeOutTime)*1e3)};d=i()}}this.pause=function(){if(u!==r.PLAYING){return}A();u=r.PAUSED};this.stop=function(){if(u===r.STOPPED){return}function t(){A();h=0;u=r.STOPPED}if(r.options.fadeOut){var e=r.options.fadeOutTime;a.gain.linearRampToValueAtTime(a.gain.minValue,n.currentTime+e);setTimeout(function(){t()},e*1e3)}else{t()}};this.endTime=0;function A(){if(u===r.PLAYING){s.stop(0);s=null;h+=n.currentTime-l;r.endTime=h;clearTimeout(p);clearTimeout(d)}}this.setFadeIn=function(t,e){if(typeof t==="boolean"){r.options.fadeIn=t;if(typeof e==="number"){r.options.fadeInTime=e}}else{r.options.fadeOut=ifFadeOut;console.error("Error type in setFadeIn.")}};this.setFadeOut=function(t,e){if(typeof t==="boolean"){if(typeof e==="number"){r.options.fadeOutTime=e}}}};jWebAudio.extend(jWebAudio.WebAudioSound,jWebAudio.Sound);jWebAudio.WebAudioMultishotSound=function(t){jWebAudio.Sound.call(this);var e=jWebAudio.context;var A=t;var i=[];var o=this;this.play=function(){var t=e.createBufferSource();t.buffer=A;t.loop=this.loop;t.connect(o.gain);t.start(0,0);i.push(t)};this.stop=function(){i.forEach(function(t){t.stop();t.disconnect()});i=[]}};jWebAudio.extend(jWebAudio.WebAudioMultishotSound,jWebAudio.Sound);jWebAudio.Effect=function(t){if(t==="telephonize"){return new jWebAudio.Filter(t,[{type:jWebAudio.Filter.prototype.LOWPASS,frequency:2e3},{type:jWebAudio.Filter.prototype.HIGHPASS,frequency:500}])}else if(t==="cathedral"){return new jWebAudio.Filter(t,[{type:jWebAudio.Filter.prototype.BANDPASS,frequency:3e3},{type:jWebAudio.Filter.prototype.ALLPASS,frequency:1e3}])}else if(t==="3d"){return new jWebAudio.Spatiality}else{console.error('Effect name: "'+t+'" not found')}};jWebAudio.Filter=function(t,e){var A=t;this.getName=function(){return A};var i,o,r=[],n,a,s=[];if(e instanceof Array){r=e}else if(e instanceof Object){r.push(e)}else{return}var c=jWebAudio.context;for(i=0;i<r.length;++i){n=r[i];if(n.type>=0&&n.type<=7){a=c.createBiquadFilter();a.type=n.type;a.frequency.value=n.frequency;a.Q.value=n.Q;a.gain.value=n.gain;s.push(a)}}for(i=0;i<s.length-1;++i){o=i+1;s[i].connect(s[o])}this.__defineGetter__("inNode",function(){return s[0]});this.__defineGetter__("outNode",function(){return s[s.length-1]})};jWebAudio.extend(jWebAudio.Filter,jWebAudio.Effect);jWebAudio.Filter.prototype.LOWPASS=0;jWebAudio.Filter.prototype.HIGHPASS=1;jWebAudio.Filter.prototype.LOWSHELF=3;jWebAudio.Filter.prototype.HIGHSHELF=4;jWebAudio.Filter.prototype.PEAKING=5;jWebAudio.Filter.prototype.NOTCH=6;jWebAudio.Filter.prototype.ALLPASS=7;jWebAudio.Spatiality=function(){var t=jWebAudio.context;this.soundObject=t.createPanner();var e=this;this.__defineGetter__("inNode",function(){return e.soundObject});this.__defineGetter__("outNode",function(){return e.soundObject})};jWebAudio.extend(jWebAudio.Spatiality,jWebAudio.Effect);jWebAudio.Spatiality.prototype.getName=function(){return"3d"};var soundIsMute=false;window.mvSoundMgr=new jWebAudio.SoundEngine;var soundLoadAutoPlay;function playEnterSound(t,e,A){if(window.playsound===false){return}var i;if(e===false){i=false}else{i=e.length>0&&e[0]!==undefined?e[0]:true}if(A==undefined){A=true}soundLoadAutoPlay=A;soundIsMute=!i;if(soundIsActive==false){activeSound()}if(!window["bg_mp3"]){window["bg_mp3"]=window["mvSoundMgr"].addSoundSource({url:t,preLoad:true,loop:true,multishot:false,callback:loadBgComplete})}}var soundIsActive=false;function activeSound(){if(!jWebAudio.context){return}soundIsActive=true;console.log("激活音乐");console.log("jWebAudio versions:"+jwv);if(window.OMG&&window.OMG.config){return}if(window.MW_CONFIG&&window.MW_CONFIG.end_screen_info&&window.MW_CONFIG.end_screen_info.ad_type==288){if(window.mvSoundMgr.dingSound&&window.mvSoundMgr.dingSound.sound){console.log("触发型音效成功播放");window.mvSoundMgr.dingSound.sound.play();window.mvSoundMgr.dingSound.sound.setVolume(10)}}else{var t=jWebAudio.context.createBuffer(1,1,44100);var e=jWebAudio.context.createBufferSource();e.buffer=t;e.connect(jWebAudio.context.destination);e.start(0);if(jWebAudio.context.sampleRate<4e5){jWebAudio.context.close();if(window.hasOwnProperty("AudioContext")){jWebAudio.context=new AudioContext}else if(window.hasOwnProperty("webkitAudioContext")){jWebAudio.context=new webkitAudioContext}else{jWebAudio.context=null;console.error("Web audio is not supported in current "+"web browser. Please try with the latest"+" Chrome.")}var t=jWebAudio.context.createBuffer(1,1,44100);var e=jWebAudio.context.createBufferSource();e.buffer=t;e.connect(jWebAudio.context.destination);e.start(0);document.addEventListener("touchend",function(t){var e=jWebAudio.context.createBuffer(1,1,44100);var A=jWebAudio.context.createBufferSource();A.buffer=e;A.connect(jWebAudio.context.destination);A.start(0)},true)}}}function changeBgMusic(t){if(window.playsound===false||soundIsMute){return}if(window["bg_mp3"]&&window["bg_mp3"].sound){window["bg_mp3"].sound.stop();window["bg_mp3"]=null}window["bg_mp3"]=window["mvSoundMgr"].addSoundSource({url:t,preLoad:true,loop:true,multishot:false,callback:function(){if(window["bg_mp3"]&&window["bg_mp3"].sound){window["bg_mp3"].sound.play()}}})}function playSoundEff(t,e){if(window.playsound===false||soundIsMute){return}if(window.soundIsPause){return}if(window.forcedPause){return}if(e==undefined){e=1}var A=t.split("/");var i=A[A.length-1];i=i.replace(".","_");if(window[i]==null){window[i]=window["mvSoundMgr"].addSoundSource({url:t,preLoad:true,loop:false,multishot:e==1,playtime:e,callback:function(){window[i].sound.play()}})}else if(window[i].sound){window[i].sound.playtime=e;window[i].sound.play()}else{console.log(i+"还在处理中")}}function stopSoundEff(t){if(window.playsound===false||soundIsMute){return}var e=t.split("/");var A=e[e.length-1];A=A.replace(".","_");if(window[A]==null){return}if(window[A].isLoaded==false){window[A].callback=null;window[A].options.callback=null}if(window[A].sound){window[A].sound.playtime=1;window[A].sound.stop()}}function loadBgComplete(){if(soundIsMute){var t="touchend";if(window.OMG){t="touchstart"}else if(window.MW_CONFIG&&window.MW_CONFIG.channel=="applovin"){t="touchstart"}document.addEventListener(t,function(t){console.log("点击了 播放音乐");soundIsMute=false;if(window["bg_mp3"]){window["bg_mp3"].sound.play();if(soundIsPause||forcedPause){window["bg_mp3"].sound.setVolume(0)}}},true)}else{if(soundLoadAutoPlay&&window["bg_mp3"]&&window["bg_mp3"].sound){window["bg_mp3"].sound.play();if(soundIsPause||forcedPause){window["bg_mp3"].sound.setVolume(0)}}}registerListener()}function stopBgSound(){if(window["bg_mp3"]&&window["bg_mp3"].sound){window["bg_mp3"].sound.stop();return window["bg_mp3"].sound.endTime}}function playBgSound(t){var t=t==undefined?0:t;soundLoadAutoPlay=true;if(window["bg_mp3"]&&window["bg_mp3"].sound){window["bg_mp3"].sound.play(t)}}var webIsActivate=true;function registerListener(){var t=function(){var t=window.navigator.userAgent;return{isAndroid:-1<t.indexOf("Android")||-1<t.indexOf("Adr"),isiOS:!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)}};var e=function(){if(window.OMG&&OMG.config&&OMG.config.adx==="chartboost"&&t().isiOS){if(webIsActivate){return}webIsActivate=true;recoveryAllSound()}else{if(!webIsActivate){return}webIsActivate=false;stopAllSound()}};var A=function(){if(window.OMG&&OMG.config&&OMG.config.adx==="chartboost"&&t().isiOS){if(!webIsActivate){return}webIsActivate=false;stopAllSound()}else{if(webIsActivate){return}webIsActivate=true;recoveryAllSound()}};var i=function(){if(!document[o]){A()}else{e()}};window.addEventListener("focus",A,false);window.addEventListener("blur",e,false);var o,r;if(typeof document.hidden!=="undefined"){o="hidden";r="visibilitychange"}else if(typeof document["mozHidden"]!=="undefined"){o="mozHidden";r="mozvisibilitychange"}else if(typeof document["msHidden"]!=="undefined"){o="msHidden";r="msvisibilitychange"}else if(typeof document["webkitHidden"]!=="undefined"){o="webkitHidden";r="webkitvisibilitychange"}else if(typeof document["oHidden"]!=="undefined"){o="oHidden";r="ovisibilitychange"}if("onpageshow"in window&&"onpagehide"in window){window.addEventListener("pageshow",A,false);window.addEventListener("pagehide",e,false)}if(o&&r){document.addEventListener(r,i,false)}}var soundIsPause=false;var forcedPause=false;function stopAllSound(){soundIsPause=true;if(!jWebAudio.context){return}var t=window.mvSoundMgr;for(var e=0;e<t.soundArray.length;e++){var A=t.soundArray[e].sound;if(A){A.setVolume(0)}}}function recoveryAllSound(){soundIsPause=false;if(!jWebAudio.context){return}var t=window.mvSoundMgr;for(var e=0;e<t.soundArray.length;e++){var A=t.soundArray[e].sound;if(A){if(forcedPause){A.setVolume(0)}else{A.setVolume(A.defaultVolume?A.defaultVolume:100)}}}}function forceMuted(t){if(forcedPause==t){return}forcedPause=t;if(!jWebAudio.context){return}var e=window.mvSoundMgr;for(var A=0;A<e.soundArray.length;A++){var i=e.soundArray[A].sound;if(i){if(forcedPause||soundIsPause){i.setVolume(0)}else{i.setVolume(i.defaultVolume?i.defaultVolume:100)}}}}function destorySound(){if(window["bg_mp3"]&&window["bg_mp3"].sound){window["bg_mp3"].sound.stop();window["bg_mp3"]=null}}function setVolume(t,e){var A=t.split("/");var i=A[A.length-1];i=i.replace(".","_");if(window[i]==null){return}if(window[i].isLoaded==false){window[i].callback=null;window[i].options.callback=null}if(window[i].sound){window[i].sound.setVolume(e)}}var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var Random=ps.Random;var Print=ps.Print;var Mathf=ps.Mathf;var Tween=ps.Tween;var main;var GameEvent;(function(t){t[t["a"]=0]="a";t[t["b"]=1]="b";t[t["c"]=2]="c"})(GameEvent||(GameEvent={}));var gameEvent=new ps.EventDispatcher;var MainBeh=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e.serializableFields={};main=e;return e}t.prototype.onInit=function(){ps.Print.purple("mainInit");if(box2d){box2d.debugDraw=true;box2d.debugFlags=17}};t.prototype.onStart=function(){ps.Print.purple("mainStart");console.log(GAME_CFG.playAgain)};t.prototype.onEnd=function(){ps.Print.purple("mainEnd")};t.prototype.onRetry=function(){ps.Print.purple("mainRetry")};return t}(ps.Behaviour);qc.registerBehaviour("MainBeh",MainBeh);var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ScaleAdapterMtg=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e.design_width=0;e.design_height=0;e.serializableFields={videoNode:qc.Serializer.NODE,design_width:qc.Serializer.NUMBER,design_height:qc.Serializer.NUMBER};return e}t.prototype.editorUpdate=function(){if(this.firstScreen==false){this.updateScreen()}};t.prototype.awake=function(){this.scaleAdaper=this.gameObject.getScript("qc.ScaleAdapter");this.videoSc=this.videoNode.getScript("VideoBeh");this.updateScreen()};t.prototype.updateScreen=function(){if(this.scaleAdaper==null){this.scaleAdaper=this.gameObject.getScript("qc.ScaleAdapter")}if(this.videoSc==null){this.videoSc=this.videoNode.getScript("VideoBeh")}if(this.scaleAdaper){this.scaleAdaper.manualType=qc.ScaleAdapter.EXPAND;if(qici.config.editor&&this.videoSc&&this.videoSc.videoEle){this.design_width=this.videoSc.videoEle.width;this.design_height=this.videoSc.videoEle.height}if(ps.ScrFix.isL){if(this.videoSc&&this.videoSc.videoEle){if(this.design_height>this.design_width){this.firstScreen=true;this.scaleAdaper.referenceResolution=new qc.Point(this.design_width,this.design_height)}else{this.firstScreen=true;this.scaleAdaper.referenceResolution=new qc.Point(this.design_width,this.design_height)}}}else{if(this.videoSc&&this.videoSc.videoEle){if(this.design_height>this.design_width){this.firstScreen=true;this.scaleAdaper.referenceResolution=new qc.Point(this.design_width,this.design_height)}else{this.firstScreen=true;this.scaleAdaper.referenceResolution=new qc.Point(this.design_width,this.design_height)}}}}};t.prototype.onResize=function(){console.log("onResize");this.updateScreen()};t.prototype.update=function(){};return t}(ps.Behaviour);qc.registerBehaviour("ps.ScaleAdapterMtg",ScaleAdapterMtg);var ps;(function(c){var t=function(){function t(){}t.circleFullMask=function(t,e,A){var i=t.phaser;var o=e.phaser;var r=e.width*.5;var n=e.height*.5;var a=i.add.graphics(r,n,o);o.addChild(a);var s=e.width;var c=e.height;var h=Math.ceil(Math.sqrt(s*s+c*c))*1.5;var l=h;var u=200;var p=5;a.beginFill(0);a.drawCircle(0,0,h);a.endFill();o.mask=a;var d=Math.floor(p/u*h);var g=false;var f=t.timer.loop(p,function(){h-=d;a.clear();a.beginFill(0);a.drawCircle(0,0,h);a.endFill();if(h<0){g=true;d=-d;A()}if(h>l&&g){o.mask=null;a.clear();t.timer.remove(f)}})};t.rectSwipe=function(t,e,A,i){var o=t.add.node(e);var r=e.parent.width;var n=e.parent.height;o.width=c.ScrFix.width;o.height=c.ScrFix.height;var a=new qc.Graphics(t,e);a.beginFill(0);a.drawRect(0,0,r,n);a.endFill();o.addChild(a);if(i){var s=t.add.image(o);t.assets.load(i,function(t){s.texture=t;s.resetNativeSize()});o.addChild(s);a.visible=false}o.y=n;c.Tween.to(o,{y:0},700).onComplete.addOnce(function(){A();c.Tween.to(o,{y:-n},700);o.parent&&o.parent.removeChild(o)})};t.circleFull=function(t,e,A){var i=new qc.Graphics(t,e);var o=Math.ceil(Math.sqrt(c.ScrFix.width*c.ScrFix.width+c.ScrFix.height*c.ScrFix.height));i.x=c.ScrFix.cx;i.y=c.ScrFix.cy;i.beginFill(0);i.drawCircle(0,0,o);i.endFill();i.scaleX=i.scaleY=0;c.Tween.to(i,{scaleX:1,scaleY:1},500).onComplete.addOnce(function(){A();c.Tween.to(i,{scaleX:0,scaleY:0},500).onComplete.addOnce(function(){i.parent&&i.parent.removeChild(i)})})};return t}();c.SceneTransition=t})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var VideoEvent;(function(t){t["PLAY_STAET"]="playStart";t["PLAY_COMPLETE"]="playComplete"})(VideoEvent||(VideoEvent={}));var VideoPlayType;(function(t){t[t["TOUCH_PLAY"]=1]="TOUCH_PLAY";t[t["PLAY_TOUCH"]=2]="PLAY_TOUCH";t[t["LOOP"]=3]="LOOP"})(VideoPlayType||(VideoPlayType={}));var VideoBeh=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e.bgUrl="resource/game/texture/pb_bg.jpg";e.videoUrl="";e.playType=1;e.isStopBeforEnding=false;e.isClickToInstall=false;e.standard_scale="";e.standard_top="";e.standard_bottom="";e.standard_left="";e.standard_right="";e.isReady=false;e.styleData="";e.isEcPlus=true;e.eventDisp=new ps.EventDispatcher;e.current_scene_id=-1;e.click_scene_id=-1;e.action_id=1;e.serializableFields={bgUrl:qc.Serializer.STRING,playType:qc.Serializer.NUMBER,isStopBeforEnding:qc.Serializer.BOOLEAN,isClickToInstall:qc.Serializer.BOOLEAN,bgTexture:qc.Serializer.TEXTURE,bgPrefab:qc.Serializer.PREFAB,uiRoot:qc.Serializer.NODE,videoList:qc.Serializer.MAPPING,videoSettingList:qc.Serializer.MAPPING,videoStopList:qc.Serializer.MAPPING,videoSoundList:qc.Serializer.MAPPING,styleData:qc.Serializer.MAPPING};e.getAudioById=function(t){if(typeof this.videoSoundList==="undefined"){return undefined}return this.videoSoundList[t]};e.isGameStart2=false;return e}t.prototype.resetHorizontal=function(){this.styleData["horizontal_def"]=undefined;this.styleData["horizontal_ipx"]=undefined;this.styleData["horizontal_pad"]=undefined};t.prototype.resetVertical=function(){this.styleData["vertical_ipx"]=undefined;this.styleData["vertical_pad"]=undefined;this.styleData["vertical_def"]=undefined};t.prototype.deleteVideoByCurrentScene=function(){if(this.videoList[this.current_scene_id]){delete this.videoList[this.current_scene_id];this.videoUrl=null;if(this.videoEle){this.videoEle.style.display="none";this.player.pause()}}};t.prototype.resetVideoTransform=function(t){if(!this.videoEle)return;if(t=="horizontal"){this.resetHorizontal()}else if(t=="vertical"){this.resetVertical()}else{this.resetHorizontal();this.resetVertical()}this.initConVideo()};t.prototype.resetOtherStyle=function(t,e){if(e=="left"){this.styleData[t]["right"]="initial"}else if(e=="right"){this.styleData[t]["left"]="initial"}else if(e=="top"){this.styleData[t]["bottom"]="initial"}else if(e=="bottom"){this.styleData[t]["top"]="initial"}};t.prototype.setVideoTransform=function(t,e,A){if(!this.videoEle)return;var i=this.getWinW;var o=this.getWinH;if(i>o){if(!this.styleData["horizontal_"+t]){this.styleData["horizontal_"+t]=new Object}this.styleData["horizontal_"+t][e]=A;this.resetOtherStyle("horizontal_"+t,e)}else{if(!this.styleData["vertical_"+t]){this.styleData["vertical_"+t]=new Object}this.styleData["vertical_"+t][e]=A;this.resetOtherStyle("vertical_"+t,e)}this.initConVideo()};t.prototype.getVideoSettingById=function(t){return this.videoSettingList[t]};t.prototype.getVideoById=function(t){return this.videoList[t]};t.prototype.getVideoSetting2ById=function(t){if(typeof this.videoStopList==="undefined"){return undefined}return this.videoStopList[t]};t.prototype.awake=function(){console.log("修改场景显示顺序");this.gameObject.children.forEach(function(t,e){if(e===0){t.visible=true}else{t.visible=false}})};t.prototype.onInit=function(){if(this.videoList.length==0)return;this.gameDiv=document.getElementById("gameDiv");document.body.style.backgroundColor="#000000";if(qici.config.editor||this.isChartboost){this.game.timer.loop(200,this._update,this)}this.initBg();if(this.gameObject.children[0]){if(!this.videoList[this.gameObject.children[0]["uuid"]]){if(!qici.config.editor){this.isReady=true;ps.Print.green("endCard+gameReady");window["gameReady"]&&window["gameReady"]()}}else{this.videoUrl=this.videoList[this.gameObject.children[0]["uuid"]];this.loadVideo()}}};t.prototype.postAction=function(){ps.sendAction(this.action_id);this.action_id+=1};t.prototype.setVideo=function(t,e,A,i,o){this.videoList[t]=e;if(typeof this.videoSettingList==="undefined"){this.videoSettingList={}}this.videoSettingList[t]=A;if(typeof this.videoStopList==="undefined"){this.videoStopList={}}this.videoStopList[t]=i;if(o!=""){if(typeof this.videoSoundList==="undefined"){this.videoSoundList={}}this.videoSoundList[t]=o}};t.prototype.changeScene=function(t){console.log("changeScene "+t);var e=Number(this.videoSettingList[this.current_scene_id]);if(e==VideoPlayType.PLAY_TOUCH||e==VideoPlayType.LOOP){this.postAction()}if(this.current_scene_id!=-1&&this.videoList[this.current_scene_id]==undefined){this.postAction()}this.current_scene_id=t;if(this.videoList==null)return;if(this.videoList[t]==undefined){this.playSceneSound();return}if(this.videoUrl==this.videoList[t]){this.playType=Number(this.videoSettingList[t]);this.isStopBeforEnding=Boolean(this.videoStopList[t]);this.player&&this.player.pause();this.setvideoSetting();return}this.videoUrl=this.videoList[t];if(this.onTouchInstallId!=void 0){this.gameObject.removeListener(this.onTouchInstallId)}if(this.videoUrl!=null){this.playType=Number(this.videoSettingList[t]);this.isStopBeforEnding=Boolean(this.videoStopList[t]);this.loadVideo();this.videoEle.style.display="block";this.initConVideo()}else{if(this.videoEle){this.videoEle.style.display="none";this.player.pause()}}};t.prototype.chgVideo=function(t,e,A){var i=this;this.player.pause();this.player.options.onSourceEstablished=function(t){t.onCompletedCallback=null;i.player.pause();i.setvideoSetting();if(e)e.call(A)};this.player.source=new JSMpeg.Source.AjaxProgressive(t,this.player.options);this.player.demuxer=new JSMpeg.Demuxer.TS(this.player.options);this.player.video=new JSMpeg.Decoder.MPEG1Video(this.player.options);this.player.source.connect(this.player.demuxer);this.player.demuxer.connect(JSMpeg.Demuxer.TS.STREAM.VIDEO_1,this.player.video);this.player.video.connect(this.player.renderer);this.player.source.start();this.player.pause()};t.prototype.onStart=function(){this.isGameStart=true;this.gameStart()};t.prototype.resetGameStart=function(){this.isGameStart2=false;this.gameStart()};t.prototype.setvideoSetting=function(){if(this.playType==void 0){this.playType=VideoPlayType.TOUCH_PLAY}switch(this.playType){case VideoPlayType.TOUCH_PLAY:this.gameObject.addListenerOnce(qc_game.input.onPointerDown,this.touchStage,this);break;case VideoPlayType.PLAY_TOUCH:this.playVideo();break;case VideoPlayType.LOOP:this.playVideo();this.gameObject.addListenerOnce(qc_game.input.onPointerDown,this.touchStage,this);break}};t.prototype.gameStart=function(){this.isGameStart2=true;if(!this.player){return}if(!this.videoLoaded){return}if(!this.isGameStart){return}if(this.isGameStart2){this.player.pause();this.setvideoSetting();return}if(this.gameObject.children[0]){this.changeScene(this.gameObject.children[0]["uuid"])}};t.prototype.onEnd=function(){};t.prototype.onRetry=function(){};t.prototype.update=function(){if(this.isChartboost){return}this._update()};t.prototype.refresh=function(){this.resetGameStart()};t.prototype.playVideo=function(){this.eventDisp.dispatch(VideoEvent.PLAY_STAET);gameEvent.dispatch(VideoEvent.PLAY_STAET);this.player.loop=false;this.playContinue()};t.prototype.playContinue=function(){this.player.stop();this.player.play();this.playSceneSound()};t.prototype.playSceneSound=function(){if(this.videoSoundList){var t=this.videoSoundList[this.current_scene_id];if(t){ps.Audio.stopSound(t);ps.Audio.playSound(t)}}};t.prototype.playComplete=function(){console.info("playComplete");this.eventDisp.dispatch(VideoEvent.PLAY_COMPLETE,this.current_scene_id);gameEvent.dispatch(VideoEvent.PLAY_COMPLETE,this.current_scene_id);switch(this.playType){case VideoPlayType.TOUCH_PLAY:this.playToOver();break;case VideoPlayType.PLAY_TOUCH:break;case VideoPlayType.LOOP:this.playContinue();break}};t.prototype.playToOver=function(){var t=this.player;switch(this.playType){case VideoPlayType.TOUCH_PLAY:if(this.isStopBeforEnding){}else{this.startTurn(true,true)}break;case VideoPlayType.PLAY_TOUCH:break;case VideoPlayType.LOOP:break}};t.prototype.touchStage=function(){switch(this.playType){case VideoPlayType.TOUCH_PLAY:this.postAction();this.playVideo();break;case VideoPlayType.PLAY_TOUCH:break;case VideoPlayType.LOOP:break}};t.prototype.startTurn=function(A,t){var i=this;if(this.startTurned){return}this.startTurned=true;this.gameObject.div.style.display="none";if(this.videoEle){this.videoEle.style.display="none"}this.bgImg=qc_game.add.clone(this.bgPrefab,UIRoot.getChildAt(0));this.bgImg.visible=true;this.bgImg.getChildAt(0).texture=this.bgTexture;ps.gameEnd(false,0,true,function(t){var e=t;i.bgImg.visible=true;e.visible=false;ps.SceneTransition.circleFullMask(i.game,i.gameObject.parent,function(){e.visible=true;if(A&&!i.isClickToInstall){if(window.MW_CONFIG&&window.MW_CONFIG["disable_auto_click"]==false){ps.install()}}})});if(t){this.game.timer.add(10,function(){if(i.isClickToInstall){i.onTouchInstallId=i.gameObject.parent.addListener(qc_game.input.onPointerUp,function(){if(window.MW_CONFIG&&window.MW_CONFIG["disable_global_click"]==false){ps.install()}},ps)}})}};t.prototype._update=function(){if(!this.videoLoaded){return}if(this.player&&this.player.video.canPlay){}var t=20;var e=this.getWinW;var A=this.getWinH;if(this.curW!==e||this.curH!==A){this.initConVideo();this.curW=e;this.curH=A}if(this.currentH!==this.videoEle.height||this.currentW!==this.videoEle.width){this.initConVideo();this.curW=this.videoEle.width;this.curH=this.videoEle.height}};Object.defineProperty(t.prototype,"getWinW",{get:function(){var t=this.gameObject.width;return t},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"getWinH",{get:function(){var t=this.gameObject.height;return t},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"isChartboost",{get:function(){return window["OMG"]&&window["OMG"].config&&window["OMG"].config.adx==="chartboost"&&typeof window["mraid"]==="undefined"},enumerable:true,configurable:true});t.prototype.initBg=function(){var e=this;var t=this.gameObject.div;var A=this.bgUrl;var i="";if(window["assetsPackage"]){i=window["getAssestByUrl"](A)}else{i=A+"?"+(new Date).getTime()}t.style.background="url("+i+")";t.style.backgroundRepeat="no-repeat";t.style.backgroundPosition="center";t.style.backgroundSize="cover";t.style.webkitBackgroundSize="cover";t.style.backfaceVisibility="hidden";var o=this.bgUrl.split(".");var r=o[0]+".bin";qc_game.assets.load(r,function(t){e.bgTexture=new qc.Texture(t)})};t.prototype.loadVideo=function(){var t=this.videoUrl;var e=t;var A=this.videoEle;if(!this.videoEle){A=this.videoEle=document.createElement("canvas")}this.player&&this.player.pause();this.player=A["player"]=new JSMpeg.Player(e,{canvas:A,disableWebAssembly:true,onSourceCompleted:this.loadVideoComplete.bind(this),onEnded:this.playComplete.bind(this),progressive:false});this.gameObject.div.appendChild(A)};t.prototype.loadVideoComplete=function(t){var e=this;ps.Print.purple("loadVideoComplete");if(!qici.config.editor){if(!this.isReady){this.isReady=true;this.game.timer.add(1e3,function(){ps.Print.green("诱导视频gameReady");if(window["gameReady"])window["gameReady"]()})}}this.videoLoaded=true;this.game.timer.add(10,function(){e.gameStart()});this.initConVideo()};t.prototype.initConVideo=function(){this.fitDOMElementInArea(this.videoEle)};t.prototype.fixStyle=function(t){if(t=="initial"){return"initial"}else{return t+"px"}};t.prototype.getStyleData=function(t,e,A,i){if(t==undefined){return e}if(t[A]!=undefined){if(A=="right"&&i>1){return t[A]+this.videoEle.width*(Number(i)-1)}else if(A=="bottom"&&i>1){return t[A]+this.videoEle.height*(Number(i)-1)}else{return t[A]}}return e};t.prototype.fitDOMElementInArea=function(t){if(!t){return}if(!t["_fitLayaAirInitialized"]){t["_fitLayaAirInitialized"]=true;t.style.transformOrigin=t.style.webkitTransformOrigin="left top";t.style.position="absolute"}var e=0;var A=this.getWinW;var i=this.getWinH;var o="def";if(ps.ScrFix.isIPX){o="ipx"}else if(ps.ScrFix.isPAD){o="pad"}var r="";if(A>i){r="horizontal_"+o;if(!this.styleData[r]){r="horizontal_def"}}else{r="vertical_"+o;if(!this.styleData[r]){r="vertical_def"}}var n=this.styleData[r];var a=A/this.videoEle.width;var s=i/this.videoEle.height;var c=Math.min(a,s);this.standard_scale=Mathf.keepDecimal(c,2,"ceil")+"";var h=this.getStyleData(n,this.standard_scale,"scale",c);if(h==""||h==null||h==undefined){h=Mathf.keepDecimal(c,2,"ceil")+""}else{c=h}var l=this.standard_left=Mathf.keepDecimal((A-this.videoEle.width*c)/2,0)+"";var u=this.standard_top=Mathf.keepDecimal((i-this.videoEle.height*c)/2,0)+"";var p=this.standard_right="initial";var d=this.standard_bottom="initial";l=this.getStyleData(n,this.standard_left,"left",h);p=this.getStyleData(n,this.standard_right,"right",h);u=this.getStyleData(n,this.standard_top,"top",h);d=this.getStyleData(n,this.standard_bottom,"bottom",h);var g=this.getStyleData(n,0,"centerX",h);var f=this.getStyleData(n,0,"centerY",h);if(g!=0||f!=0){this.gameObject.div.style.display="flex";this.gameObject.div.style.justifyContent="center";this.gameObject.div.style.alignItems="center";t.style.transformOrigin="50% 50%";t.style.position="absolute";t.style.transform=t.style.webkitTransform="translateX("+g+"px) translateY("+f+"px) scale("+h+","+h+") rotate("+e+"deg) ";t.style.left="initial";t.style.top="initial";t.style.bottom="initial";t.style.right="initial"}else{this.gameObject.div.style.display="";this.gameObject.div.style.justifyContent="";this.gameObject.div.style.alignItems="";t.style.transformOrigin="left top 0px";t.style.position="absolute";t.style.transform=t.style.webkitTransform="scale("+h+","+h+") rotate("+e+"deg)";t.style.left=this.fixStyle(l);t.style.top=this.fixStyle(u);t.style.bottom=this.fixStyle(d);t.style.right=this.fixStyle(p)}var y=this.uiRoot.getScript("ps.ScaleAdapterMtg");y.updateScreen()};return t}(ps.Behaviour);qc.registerBehaviour("ps.VideoBeh",VideoBeh);VideoBeh["__menu"]="Custom/VideoBeh";var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(a){var t=function(e){__extends(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t.awakeCode="";t.onStartCode="";t.onDownCode="";t.onEndCode="";t.onEnableDone=false;t.serializableFields={awakeCode:qc.Serializer.STRING,onStartCode:qc.Serializer.STRING,onDownCode:qc.Serializer.STRING,onEndCode:qc.Serializer.STRING};return t}t.prototype.showUIAfterVideo=function(){this.gameObject.visible=false;var r=this;gameEvent.add("playComplete",function(t){var e=qc.gameOb.world.children[0]._findByName("gamePlay");var A=e.getScript("ps.VideoBeh");if(typeof A!=="undefined"&&A.isEcPlus){var i=r.gameObject;while(i.parent.name!=="gamePlay"){i=i.parent}if(i.uuid===t){r.gameObject.visible=true}}else{r.gameObject.visible=true}var o=r.gameObject.getScript("ps.MovieClip");if(o){o.stop();o.playBefore()}})};t.prototype.hideUIAfterVideo=function(){var o=this;gameEvent.add("playComplete",function(t){var e=qc.gameOb.world.children[0]._findByName("gamePlay");var A=e.getScript("ps.VideoBeh");if(typeof A!=="undefined"&&A.isEcPlus){var i=o.gameObject;while(i.parent.name!=="gamePlay"){i=i.parent}if(i.uuid===t){o.gameObject.visible=false}}else{o.gameObject.visible=false}})};t.prototype.directEndAfterVideo=function(){var o=this;gameEvent.add("playComplete",function(t){var e=qc.gameOb.world.children[0]._findByName("gamePlay");var A=e.getScript("ps.VideoBeh");if(typeof A!=="undefined"&&A.isEcPlus){var i=o.gameObject;while(i.parent.name!=="gamePlay"){i=i.parent}if(i.uuid===t){A.startTurn()}}})};t.prototype.switchNextSceneAfterVideo=function(){var n=this;gameEvent.add("playComplete",function(t){var e=qc.gameOb.world.children[0]._findByName("gamePlay");var A=e.getScript("ps.VideoBeh");if(typeof A!=="undefined"&&A.isEcPlus){var i=n.gameObject;while(i.parent.name!=="gamePlay"){i=i.parent}if(i.uuid===t){var e=i.parent;var o;for(var r=0;r<e.children.length;r++){if(e.children[r].uuid===t){e.children[r].visible=false;if(r===e.children.length-1){A.startTurn();a.mainState.dispatch(a.GameState.SCENECHANGE,"end")}else{o=e.children[r+1];o.visible=true;a.mainState.dispatch(a.GameState.SCENECHANGE,o.uuid)}break}}}}})};t.prototype.hideUIWhenEnding=function(){var t=this;a.mainState.addOnce(a.GameState.END,function(){t.gameObject.visible=false})};t.prototype.hideUIWhenClickScreen=function(){var t=this;qc_game.input.onPointerDown.add(function(){t.gameObject.visible=false})};t.prototype.showUIWhenClickScreen=function(){this.gameObject.visible=false;var t=this;qc_game.input.onPointerDown.add(function(){t.gameObject.visible=true})};t.prototype.hideUIAfterItWasClicked=function(){this.gameObject.visible=false};t.prototype.doInstallAfterInstall=function(){a.install()};t.prototype.intoEndingAfterClick=function(){a.gameEnd()};t.prototype.postEndingWhenClick=function(){a.gameEnd&&a.gameEnd()};t.prototype.postAndInstallEndingWhenClick=function(){a.gameEnd&&a.gameEnd();a.install()};t.prototype.customizeBehaviour=function(){};t.prototype.playTweenWhenClick=function(){this.gameObject.alpha=1;var t=this.gameObject.getScripts(qc.Tween);t.forEach(function(t){t.stop();t.resetToBeginning();t.playForward()});this.gameObject.children.forEach(function(t){var e=t.getScript(a.SKPlayer);if(e){e.play()}var A=t.getScripts(qc.Tween);A.forEach(function(t){t.stop();t.resetToBeginning();t.playForward()})})};t.prototype.onEnable=function(){if(this.onEnableDone)return;this.onEnableDone=true;if(this.awakeCode==="showUIAfterVideo"){this.showUIAfterVideo()}if(this.awakeCode==="hideUIAfterVideo"){this.hideUIAfterVideo()}if(this.awakeCode==="hideUIWhenEnding"){this.hideUIWhenEnding()}if(this.awakeCode==="hideUIWhenClickScreen"){this.hideUIWhenClickScreen()}if(this.awakeCode==="showUIWhenClickScreen"){this.showUIWhenClickScreen()}if(this.onDownCode!="")this.gameObject.interactive=true;if(this.onDownCode==="playTweenWhenClick"){this.gameObject.visible=true;this.gameObject.alpha=0;var t=this.gameObject.getScript("qc.TweenAlpha");if(t){this.gameObject.alpha=t.from}this.setTween(this.gameObject);var e=this;this.gameObject.children.forEach(function(t){var e=t.getScript(a.SKPlayer);if(e){e.playOnAwake=false}})}if(this.awakeCode==="directEndAfterVideo"){this.directEndAfterVideo()}if(this.awakeCode==="switchNextSceneAfterVideo"){this.switchNextSceneAfterVideo()}};t.prototype.setTween=function(t){var e=t.getScripts(qc.Tween);var A=t;e.forEach(function(t){t.playOnAwake=false;if(t.class=="qc.TweenScale"){A.scaleX=A.scaleY=1}if(t.class=="qc.TweenAlpha"){A.alpha=t.from}t.stop();t.resetToBeginning();t.onFinished.add(function(t){A.visible=true;if(t.class!="qc.TweenAlpha"){A.alpha=0;t.resetToBeginning()}})})};t.prototype.onStart=function(){};t.prototype.onDown=function(){if(this.onDownCode==="hideUIAfterItWasClicked"){this.hideUIAfterItWasClicked()}if(this.onDownCode==="doInstallAfterInstall"){this.doInstallAfterInstall()}if(this.onDownCode==="intoEndingAfterClick"){this.intoEndingAfterClick()}if(this.onDownCode==="intoEndingAfterClick"){this.intoEndingAfterClick()}if(this.onDownCode==="postAndInstallEndingWhenClick"){this.postAndInstallEndingWhenClick()}if(this.onDownCode==="customizeBehaviour"){this.customizeBehaviour()}if(this.onDownCode==="playTweenWhenClick"){this.playTweenWhenClick()}};t.prototype.onUp=function(t){};t.prototype.onEnd=function(t){};return t}(a.Behaviour);a.UserBehaviour=t;qc.registerBehaviour("ps.UserBehaviour",t);t["__menu"]="Custom/UserBehaviour"})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var VideoEvent;(function(t){t["PLAY_STAET"]="playStart";t["PLAY_COMPLETE"]="playComplete"})(VideoEvent||(VideoEvent={}));var VideoPlayType;(function(t){t[t["TOUCH_PLAY"]=1]="TOUCH_PLAY";t[t["PLAY_TOUCH"]=2]="PLAY_TOUCH";t[t["LOOP"]=3]="LOOP"})(VideoPlayType||(VideoPlayType={}));var VideoManager=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e.bgUrl="resource/texture/pb_bg.jpg";e.videoUrl="resource/video/1.mp4";e.playType=1;e.isStopBeforEnding=false;e.isClickToInstall=true;e.isReady=false;e.curW=0;e.curH=0;e.eventDisp=new ps.EventDispatcher;e.videoDic={};e.current_Playing_video_id="";e.current_Playing_video_endTime=0;e.isPlayVideoByTs=false;e.playerDic={};e.videoCanvasDic={};e.styleData={};e.zIndex={};e.canvasMaxNum=2;e.currentCanvasVideoNum=0;e.canvasOtherDic={};e.canvasOtherlist=[];e.serializableFields={bgUrl:qc.Serializer.STRING,videoUrl:qc.Serializer.STRING,playType:qc.Serializer.NUMBER,isStopBeforEnding:qc.Serializer.BOOLEAN,isClickToInstall:qc.Serializer.BOOLEAN,bgTexture:qc.Serializer.TEXTURE,bgPrefab:qc.Serializer.PREFAB,uiRoot:qc.Serializer.NODE,data:qc.Serializer.MAPPING,styleData:qc.Serializer.MAPPING,zIndex:qc.Serializer.MAPPING,canvasMaxNum:qc.Serializer.NUMBER};return e}t.prototype.onInit=function(){this.gameDiv=document.getElementById("gameDiv");document.body.style.backgroundColor="#000000";if(qici.config.editor){this.game.timer.loop(1,this._update,this)}this.initBg();for(var t in this.data){var e=this.data[t];var A=e.split(".")[1];this.isPlayVideoByTs=A=="ts";this.addVideo(t,e)}this.setVideoAllHide()};t.prototype.craeteOtherCanvasAndPlay=function(t,e){if(this.canvasOtherDic[t]){this.canvasOtherDic[t]["canvas"].style.display="block";this.canvasOtherDic[t]["player"].play();return}if(this.currentCanvasVideoNum>=2){for(var A in this.canvasOtherDic){if(this.canvasOtherDic[A]["canvas"].style.display=="none"){this.canvasOtherDic[t]={canvas:this.canvasOtherDic[A]["canvas"],player:this.canvasOtherDic[A]["player"]};this.canvasOtherDic[A]["canvas"].style.display="block";this.chgVideo(this.canvasOtherDic[A]["player"],e);this.canvasOtherDic[t]["player"].play();delete this.canvasOtherDic[A]}}return}this.currentCanvasVideoNum+=1;var i=document.createElement("canvas");i.setAttribute("videoid",t);var o=new JSMpeg.Player(e,{canvas:i,disableWebAssembly:true,onSourceCompleted:this.loadVideoComplete.bind(this),progressive:false});this.gameObject.div.appendChild(i);this.canvasOtherDic[t]={canvas:i,player:o};o.play()};t.prototype.setVideoZIndex=function(t,e){if(this.videoDic[t]){var A=this.videoDic[t];if(A){this.zIndex[t]=e}A.style.zIndex=e}if(this.playerDic[t]){var A=this.playerDic[t];if(A){this.zIndex[t]=e}A.style.zIndex=e}};t.prototype.getVideoZIndex=function(t,e){var A;if(this.videoDic[t]){A=this.videoDic[t]}if(this.playerDic[t]){A=this.playerDic[t]}return A.style.zIndex||1};t.prototype.setVideoTransform=function(t,e){var A=this.videoDic[t];if(A){var i=this.getWinW;var o=this.getWinH;if(i>o){this.styleData[t+"_horizontal"]=e;if(!this.styleData[t+"_vertical"])this.styleData[t+"_vertical"]=e}else{this.styleData[t+"_vertical"]=e;if(!this.styleData[t+"_horizontal"])this.styleData[t+"_horizontal"]=e}}A.style.transform=A.style.webkitTransform=e};t.prototype.getVideoTransform=function(t){var e=this.getWinW;var A=this.getWinH;var i=e>A?"_horizontal":"_vertical";var o=this.videoDic[t];if(this.styleData[t+i])return this.styleData[t+i];return o.style.transform=o.style.webkitTransform};t.prototype.removeVideo=function(t){if(this.videoDic[t]){this.gameObject.div.removeChild(this.videoDic[t]);delete this.videoDic[t];delete this.data[t]}};t.prototype.setVideoShow=function(t,e){if(e){for(var A in this.videoDic){this.videoDic[A].style.display="none";this.videoDic[A].pause()}for(var A in this.videoCanvasDic){this.videoCanvasDic[A].style.display="none";this.playerDic[A].stop()}}if(this.videoDic[t]){this.videoDic[t].style.display="block";this.current_Playing_video_id=t}if(this.playerDic[t]){if(!this.playerDic[t].paused)this.playerDic[t].stop();this.videoCanvasDic[t].style.display="block";this.current_Playing_video_id=t}};t.prototype.getPlayingVideo=function(){var t=this.videoDic;if(this.isPlayVideoByTs){t=this.videoCanvasDic}if(t[this.current_Playing_video_id]){return t[this.current_Playing_video_id]}else{for(var e in t){return t[e]}}};Object.defineProperty(t.prototype,"playingVideoWidth",{get:function(){if(this.isPlayVideoByTs){var t=this.getPlayingVideo();return t.width}else{var t=this.getPlayingVideo();return t.videoWidth}},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"playingVideoHeight",{get:function(){if(this.isPlayVideoByTs){var t=this.getPlayingVideo();return t.height}else{var t=this.getPlayingVideo();return t.videoHeight}},enumerable:false,configurable:true});t.prototype.setVideoAllHide=function(){for(var t in this.videoDic){this.videoDic[t].style.display="none"}for(var e in this.videoCanvasDic){this.videoCanvasDic[e].style.display="none"}};t.prototype.setVideoMuted=function(t,e){if(this.videoDic[t]){this.videoDic[t].muted=e}};t.prototype.setVideoHide=function(t){if(this.videoDic[t]){this.videoDic[t].style.display="none"}if(this.canvasOtherDic[t]){this.canvasOtherDic[t]["canvas"].style.display="none";this.canvasOtherDic[t]["player"].pause()}else{if(this.videoCanvasDic[t]){this.videoCanvasDic[t].style.display="none"}}};t.prototype.setVideoUrl=function(t,e,A){if(this.videoDic[t]==null){this.addVideo(t,e)}else{this.setVideoData(e,this.videoDic[t])}this.data[t]=e};t.prototype.setVideoLoop=function(t,e){if(this.videoDic[t]){this.videoDic[t].loop=e}if(this.canvasOtherDic[t]){this.canvasOtherDic[t]["player"].loop=e}else{if(this.playerDic[t]){this.playerDic[t].loop=e}}};t.prototype.setVideoPosition=function(t,e){};t.prototype.setVideoCurrentTime=function(t,e){if(this.videoDic[t]){this.videoDic[t].currentTime=e}};t.prototype.getVideoDuration=function(t){if(this.videoDic[t]){return this.videoDic[t].duration}return 0};t.prototype.setVideoPause=function(t,e){var A=this;if(this.videoDic[t]){this.videoDic[t].pause()}if(this.canvasOtherDic[t]){this.canvasOtherDic[t]["canvas"].style.display="none";this.canvasOtherDic[t]["player"].pause()}else{if(this.playerDic[t]){if(e){for(var i in this.videoCanvasDic){this.videoCanvasDic[i].style.display="none"}}this.videoCanvasDic[t].style.display="block";this.current_Playing_video_id=t;this.chgVideo(this.playerDic[t],this.data[t],function(){A.playerDic[t].pause()})}}};t.prototype.setVideoPlay=function(t,e,A){var i=this;if(this.videoDic[t]){if(this.videoDic[t].paused==true){if(A){for(var o in this.videoDic){this.videoDic[o].style.display="none"}}this.videoDic[t].style.display="block";this.videoDic[t].play();this.current_Playing_video_id=t}}if(this.playerDic[t]){if(e){this.craeteOtherCanvasAndPlay(t,this.data[t]);this.game.timer.add(1e3,function(){i.initConVideo()})}else{this.videoCanvasDic[t].style.display="block";this.current_Playing_video_id=t;this.chgVideo(this.playerDic[t],this.data[t]);this.initConVideo()}if(A){for(var o in this.videoCanvasDic){this.videoCanvasDic[o].style.display="none"}}this.current_Playing_video_id=t}};t.prototype.videoIsPlaying=function(t){if(this.playerDic[t]){return!this.playerDic[t].paused}else if(this.videoDic[t]){return!this.videoDic[t].paused}else{return false}};t.prototype.setVideoPlayByTime=function(t,e,A,i){if(this.playerDic[t]&&!this.playerDic[t].paused||this.videoDic[t]&&!this.videoDic[t].paused){return}this.setVideoCurrentTime(t,e);this.current_Playing_video_endTime=A;this.setVideoPlay(t,i)};t.prototype.setVideoPauseByTime=function(t,e){this.setVideoCurrentTime(t,e);this.setVideoPause(t)};t.prototype.onStart=function(){var t=this.gameObject.getScript("qc.Animator");if(t){t.playActionManager=t.animators[0].json.name;t.refresh();t.addListener(this.gameObject.onRelayout,t.refresh,t)}};t.prototype.resetGameStart=function(){};t.prototype.gameStart=function(){console.log("gameStart",this.playType);if(!this.videoLoaded){console.log("视频还没加载完");return}if(!this.isGameStart&&!qici.config.editor){console.log("不是正的gs");return}};t.prototype.onEnd=function(){};t.prototype.onRetry=function(){};t.prototype.update=function(){this._update()};t.prototype.refresh=function(){this.resetGameStart()};t.prototype.playComplete=function(t){console.log(t.id+"视频播放结束");this.eventDisp.dispatch(VideoEvent.PLAY_COMPLETE);gameEvent.dispatch(VideoEvent.PLAY_COMPLETE)};t.prototype._update=function(){var t=20;var e=this.getWinW;var A=this.getWinH;if(this.curW!==e||this.curH!==A){this.curW=e;this.curH=A;this.initConVideo()}};Object.defineProperty(t.prototype,"getWinW",{get:function(){var t=this.gameObject.width;return t},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"getWinH",{get:function(){var t=this.gameObject.height;return t},enumerable:false,configurable:true});t.prototype.initBg=function(){var e=this;var t=this.gameObject.div;var A=this.bgUrl;var i="";if(window["assetsPackage"]){i=window["getAssestByUrl"](A)}else{i=A+"?"+(new Date).getTime()}t.style.background="url("+i+")";t.style.backgroundRepeat="no-repeat";t.style.backgroundPosition="center";t.style.backgroundSize="cover";t.style.webkitBackgroundSize="cover";var o=this.bgUrl.split(".");var r=o[0]+".bin";qc_game.assets.load(r,function(t){e.bgTexture=new qc.Texture(t)})};t.prototype.setVideoData=function(t,e){if(hasBase64&&hasBase64()){var A=window.getAssestByUrl(t);var i=this.MakeBlob(A);e.src=(URL||webkitURL).createObjectURL(i)}else{e.src=t}e.load()};t.prototype.MakeBlob=function(t){for(var e=atob(t.split(",")[1]),A=t.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(e.length),o=new Uint8Array(i),r=0;r<e.length;r++)o[r]=e.charCodeAt(r);return new Blob([i],{type:A})};t.prototype.chgVideo=function(e,t,A,i){if(this.isPlayVideoByTs){e.options.onEnded=null;e.stop();e.options.onSourceEstablished=function(t){t.onCompletedCallback=null;e.play();if(A)A.call(i)};e.source=new JSMpeg.Source.AjaxProgressive(t,e.options);e.demuxer=new JSMpeg.Demuxer.TS(e.options);e.video=new JSMpeg.Decoder.MPEG1Video(e.options);e.source.connect(e.demuxer);e.demuxer.connect(JSMpeg.Demuxer.TS.STREAM.VIDEO_1,e.video);e.video.connect(e.renderer);e.source.start()}else{e.stop();e.url=t;e.play()}};t.prototype.setVideoUrlPureData=function(t,e){this.data[t]=e};t.prototype.addVideo=function(t,e){var A=this;if(this.isPlayVideoByTs){var i=document.createElement("canvas");i.setAttribute("videoid",t);var o=new JSMpeg.Player(e,{canvas:i,disableWebAssembly:true,onSourceCompleted:this.loadVideoComplete.bind(this),progressive:false,onEnded:this.playComplete.bind(this)});this.gameObject.div.appendChild(i);i.style.display="none";this.videoCanvasDic[t]=i;this.playerDic[t]=o}else{var r;if(qici.config.isAutoCreateVideo==null||qici.config.isAutoCreateVideo){r=document.createElement("video");this.gameObject.div.appendChild(r)}else{r=document.getElementById(t)}r.id=t;r.style.display="none";this.videoDic[t]=r;this.setVideoData(e,r);r.addEventListener("canplaythrough",function(t){var e=t.target;e.readyState>=3&&A.loadVideoComplete(e)},!1),r.addEventListener("error",function(t){ps.Print.purple("视频加载失败");if(window["renderFail"])window["renderFail"]()},!1);r.addEventListener("ended",function(t){var e=t.target;A.playComplete(e)},!1);r.addEventListener("timeupdate",function(t){var e=t.target;A.timeupdate(e)},!1)}};t.prototype.timeupdate=function(t){if(t.id==this.current_Playing_video_id&&this.current_Playing_video_endTime!=undefined&&this.current_Playing_video_endTime!=0&&this.videoDic[this.current_Playing_video_id]){if(this.videoDic[this.current_Playing_video_id].currentTime>=this.current_Playing_video_endTime){this.videoDic[this.current_Playing_video_id].pause()}}};t.prototype.loadVideoComplete=function(t){ps.Print.purple("loadVideoComplete"+t.id);this.initConVideo();if(this.videoLoaded)return;this.videoLoaded=true;this.gameStart();this.initConVideo();window["loadVideoComplete"]=true;if(!qici.config.editor){ps.Print.green("诱导视频gameReady");if(window["gameReady"])window["gameReady"]()}};t.prototype.onResize=function(){console.log("onResize");this.initConVideo()};t.prototype.initConVideo=function(){var t=this.getWinW;var e=this.getWinH;var A=t>e?"_horizontal":"_vertical";for(var i in this.videoDic){var o=this.styleData[i+A]?this.styleData[i+A]:this.styleData[i];this.fitDOMElementInArea(this.videoDic[i],this.videoDic[i].videoWidth,this.videoDic[i].videoHeight,o,this.zIndex[i])}for(var r in this.videoCanvasDic){var n=this.styleData[r+A]?this.styleData[r+A]:this.styleData[r];this.fitDOMElementInArea(this.videoCanvasDic[r],this.videoCanvasDic[r].width,this.videoCanvasDic[r].height,n,this.zIndex[r])}for(var a in this.canvasOtherDic){var s=this.styleData[a+A]?this.styleData[a+A]:this.styleData[a];this.fitDOMElementInArea(this.canvasOtherDic[a]["canvas"],this.canvasOtherDic[a]["canvas"].width,this.canvasOtherDic[a]["canvas"].height,s,this.zIndex[a])}};t.prototype.fitDOMElementInArea=function(t,e,A,i,o){if(!t){return}if(e==0||A==0)return;var r=0;var n=this.getWinW;var a=this.getWinH;var s=n/e;var c=a/A;var h=Math.min(s,c);var l=Mathf.keepDecimal(n/2,0);var u=Mathf.keepDecimal(a/2,0);this.gameObject.div.style.display="flex";this.gameObject.div.style.justifyContent="center";this.gameObject.div.style.alignItems="center";t.style.transformOrigin="50% 50%";t.style.position="absolute";if(!i){i="scale("+h+","+h+") rotate("+r+"deg) translateX(0px) translateY(0px)"}t.style.transform=t.style.webkitTransform=i;if(!isNaN(Number(o))){t.style.zIndex=o}var p=this.uiRoot.getScript("ps.ScaleAdapterMtg");p.updateScreen()};return t}(ps.Behaviour);qc.registerBehaviour("ps.VideoManager",VideoManager);var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ActionType={CLICK:"CLICK",SWIPE_LEFT:"SWIPE_LEFT",SWIPE_RIGHT:"SWIPE_RIGHT",SWIPE_UP:"SWIPE_UP",SWIPE_DOWN:"SWIPE_DOWN",SWIPE_ANY:"SWIPE_ANY",HOLD:"HOLD",DOUBLE_CLICK:"DOUBLE_CLICK"};var ps;(function(o){var t=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e.awakeCode="";e.onActionCode="";e.switchScene="";e.rootNode="";e.page="";e.actionManager="";e.serializableFields={awakeCode:qc.Serializer.STRING,onActionCode:qc.Serializer.STRING,switchScene:qc.Serializer.STRING,rootNode:qc.Serializer.STRING,actionManager:qc.Serializer.STRING,currentActionManager:qc.Serializer.STRING};return e}t.prototype.awake=function(){if(this.onActionCode!="")this.gameObject.interactive=true};t.prototype.onDown=function(t){console.log("在屏幕按下时");if(this.onActionCode===ActionType.CLICK){this.onActionClick(t)}else{var e=(new Date).getTime();this.clickTime=e;this.downX=t.source._x;this.downY=t.source._y}};t.prototype.onUp=function(t){var e=this;var A=(new Date).getTime();if(A-e.clickTime>800){e.clickTime=0;e.clickEndTime=0;e.onHold(t)}else{if(this.onActionCode===ActionType.DOUBLE_CLICK&&A-e.clickTime!=0&&A-e.clickEndTime<=300){e.clickTime=0;e.clickEndTime=0;e.onDouckClick(t)}e.clickEndTime=A}console.log("onUp");var i=30;var o=false;if(t.source._x-e.downX>i){e.onMoveRight(t);o=true}else if(t.source._x-e.downX<-1*i){e.onMoveLeft(t);o=true}if(t.source._y-e.downY<-1*i){e.onMoveUp(t);o=true}else if(t.source._y-e.downY>i){e.onMoveDown(t);o=true}if(o){e.onMoveAny(t)}};t.prototype.onHold=function(t){if(this.onActionCode!==ActionType.HOLD)return;this.switchSceneHandler();console.log("长按")};t.prototype.onActionClick=function(t){if(this.onActionCode!==ActionType.CLICK)return;this.switchSceneHandler();console.log("点击")};t.prototype.onMoveRight=function(t){if(this.onActionCode!==ActionType.SWIPE_RIGHT)return;this.switchSceneHandler();console.log("向右")};t.prototype.onMoveLeft=function(t){if(this.onActionCode!==ActionType.SWIPE_LEFT)return;this.switchSceneHandler();console.log("向左")};t.prototype.onMoveUp=function(t){if(this.onActionCode!==ActionType.SWIPE_UP)return;this.switchSceneHandler();console.log("向上")};t.prototype.onMoveDown=function(t){if(this.onActionCode!==ActionType.SWIPE_DOWN)return;this.switchSceneHandler();console.log("向下")};t.prototype.onMoveAny=function(t){if(this.onActionCode!==ActionType.SWIPE_ANY)return;this.switchSceneHandler();console.log("任意方向滑动")};t.prototype.onDouckClick=function(t){if(this.onActionCode!==ActionType.DOUBLE_CLICK)return;this.switchSceneHandler();console.log("双击屏幕时")};t.prototype.switchSceneHandler=function(t){if(o.mainState.isEnded)return;var e=this;var A=qc.gameOb.world.children[0]._findByName(this.rootNode);A.children.forEach(function(t){if(t.uuid===e.switchScene){t.visible=true}else{t.visible=false}});var i=typeof o.VideoBeh==="undefined"?undefined:A.getScript("ps.VideoBeh");if(typeof i!=="undefined"&&i!==null&&i.isEcPlus){if(this.switchScene==="end"){i.startTurn()}else{i.changeScene(this.switchScene)}o.mainState.dispatch(o.GameState.SCENECHANGE,this.switchScene)}A.Animator.stop(this.currentActionManager);A.Animator.play(this.actionManager);A.Animator.playActionManager=this.actionManager};return t}(o.Behaviour);o.SwitchSceneManager=t;qc.registerBehaviour("ps.SwitchSceneManager",t);t["__menu"]="Custom/SwitchSceneManager"})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ActionType={CLICK:"CLICK",DOWN:"DOWN",UP:"UP",SWIPE_LEFT:"SWIPE_LEFT",SWIPE_RIGHT:"SWIPE_RIGHT",SWIPE_UP:"SWIPE_UP",SWIPE_DOWN:"SWIPE_DOWN",SWIPE_ANY:"SWIPE_ANY",HOLD:"HOLD",DOUBLE_CLICK:"DOUBLE_CLICK"};var ps;(function(e){var t=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e.awakeCode="";e.switchScene="";e.rootNode="";e.page="";e.serializableFields={awakeCode:qc.Serializer.STRING,switchScene:qc.Serializer.STRING,rootNode:qc.Serializer.STRING};return e}t.prototype.awake=function(){this.gameObject.interactive=true};t.prototype.onDown=function(t){var e=(new Date).getTime();this.clickTime=e;this.downX=t.source._x;this.downY=t.source._y;this.onMouseDown(t)};t.prototype.onUp=function(t){var e=this;var A=(new Date).getTime();if(A-e.clickTime>3e3){e.clickTime=0;e.clickEndTime=0;e.onMouseUp(t);e.onHold(t)}else{var i=200;if(A-e.clickTime!=0&&A-e.clickEndTime<=i){e.clickTime=0;e.clickEndTime=0;e.onDouckClick(t);return}e.clickEndTime=A;e.onMouseUp(t)}var o=30;var r=false;if(t.source._x-e.downX>o){e.onMoveRight(t);r=true}else if(t.source._x-e.downX<-1*o){e.onMoveLeft(t);r=true}if(t.source._y-e.downY<-1*o){e.onMoveUp(t);r=true}else if(t.source._y-e.downY>o){e.onMoveDown(t);r=true}if(r){e.onMoveAny(t)}};t.prototype.onMouseDown=function(t){this.dispatchEvent(ActionType.DOWN)};t.prototype.onMouseUp=function(t){this.dispatchEvent(ActionType.UP)};t.prototype.onHold=function(t){this.dispatchEvent(ActionType.HOLD)};t.prototype.onClick=function(t){this.dispatchEvent(ActionType.CLICK)};t.prototype.onMoveRight=function(t){this.dispatchEvent(ActionType.SWIPE_RIGHT)};t.prototype.onMoveLeft=function(t){this.dispatchEvent(ActionType.SWIPE_LEFT)};t.prototype.onMoveUp=function(t){this.dispatchEvent(ActionType.SWIPE_UP)};t.prototype.onMoveDown=function(t){this.dispatchEvent(ActionType.SWIPE_DOWN)};t.prototype.onMoveAny=function(t){this.dispatchEvent(ActionType.SWIPE_ANY)};t.prototype.onDouckClick=function(t){this.dispatchEvent(ActionType.DOUBLE_CLICK)};t.prototype.dispatchEvent=function(t){e.mainState.dispatch(t,this.gameObject.uuid);console.log("VPHand: ",t," uuid: ",this.gameObject.uuid)};return t}(e.Behaviour);e.VPHand=t;qc.registerBehaviour("ps.VPHand",t)})(ps||(ps={}));var __extends=this&&this.__extends||function(){var i=function(t,e){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)if(e.hasOwnProperty(A))t[A]=e[A]};return i(t,e)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(i){var t=function(A){__extends(t,A);function t(t){var e=A.call(this,t)||this;e.serializableFields={};return e}t.prototype.awake=function(){var e=this;i.mainState.add(i.GameState.SCENECHANGE,function(A){e.gameObject.children.forEach(function(t,e){if(t.uuid===A){t.visible=true}else{t.visible=false}});if(A!=="end"){var t=e.gameObject.getScript("ps.VideoBeh");if(t){t.changeScene(A)}}},this)};t.prototype.onStart=function(){if(this.gameObject.children[0]){i.mainState.dispatch(i.GameState.SCENECHANGE,this.gameObject.children[0].uuid)}};t.prototype.update=function(){var t=this};return t}(i.Behaviour);i.VPGamePlay=t;qc.registerBehaviour("ps.VPGamePlay",t)})(ps||(ps={}));Object.defineProperties(qc.UIText.prototype,{VPBasicAction:{get:function(){var t=this;var e={vpSetTextContent:{label:"输入文字",method:"vpSetTextContent",category:["vp-node"]}};var A={vpSetTextContent:{type:"object",properties:{txt:{title:"输入文字",component:"input",field:{type:"string"}},txt2:{title:"选择多语言文字",component:"select",field:{options:[]}}},initData:{txt:"",txt2:""},initFunc:function(){var A=this;this.properties.txt2.field.options=[];if(languagesMgr.getRes()){var i=languagesMgr.getRes().languages[languagesMgr.language];Object.keys(i).forEach(function(t){var e=i[t].value;A.properties.txt2.field.options.push({value:t,label:e})})}}}};Object.assign(e,this.__proto__.VPBasicAction.vpAction);Object.assign(A,this.__proto__.VPBasicAction.vpActionConfig);return{vpAction:e,vpActionConfig:A}},set:function(t){}}});qc.UIText.prototype.vpSetTextContent=function(t){if(t.txt2==""||t.txt2==null||t.txt2==undefined){this.text=t.txt}else{languagesMgr.updateLabel(this,t.txt2)}};Object.defineProperties(ps.MovieClip.prototype,{vpActionConfig:{get:function(){var t=this;return{vpPlayMC:{type:"object",properties:{animationName:{title:"播放动作",component:"select",field:{options:[]}},loop:{title:"是否循环",component:"switch"}},initData:{animationName:"",loop:false},initFunc:function(){var e=this;Object.keys(t.gameObject.getScript("ps.MovieClip").data).forEach(function(t){e.properties.animationName.field.options.push({label:t,value:t})})}}}}}});ps.MovieClip.prototype.vpAction={vpPlayMC:{label:"播放序列帧",method:"vpPlayMC",category:["vp-node"]},vpStopMC:{label:"暂停序列帧",method:"vpStopMC",category:["vp-node"]}};ps.MovieClip.prototype.vpPlayMC=function(t){var e=this.gameObject.getScript("ps.MovieClip");var A=t.loop?0:1;e.gotoAndPlay(t.animationName,A)};ps.MovieClip.prototype.vpStopMC=function(t){var e=this.gameObject.getScript("ps.MovieClip");e.stop()};Object.defineProperties(ps.SKPlayer.prototype,{vpActionConfig:{get:function(){var t=this;return{vpPlaySk:{type:"object",properties:{animationName:{title:"播放动作",component:"select",field:{options:[]}},loop:{title:"是否循环",component:"switch"}},initData:{animationName:"",loop:false},initFunc:function(){var e=this;t.gameObject.animationNameList.forEach(function(t){e.properties.animationName.field.options.push({label:t,value:t})})}}}}}});ps.SKPlayer.prototype.vpAction={vpPlaySk:{label:"播放龙骨",method:"vpPlaySk",category:["vp-node"]},vpStopSK:{label:"暂停龙骨",method:"vpStopSK",category:["vp-node"]}};ps.SKPlayer.prototype.vpPlaySk=function(t){var e=this.gameObject.getScript("ps.SKPlayer");e.animationName=t.animationName;e.loop=t.loop;e.play()};ps.SKPlayer.prototype.vpStopSK=function(t){this.gameObject.stop()};Object.defineProperties(qc.ParticleSystem.prototype,{VPBasicAction:{get:function(){var t={vpPlayParticle:{label:"播放粒子特效",method:"vpPlayParticle",category:["vp-node"]},vpStopParticle:{label:"暂停粒子特效",method:"vpStopParticle",category:["vp-node"]},vpClearParticle:{label:"清除粒子特效",method:"vpClearParticle",category:["vp-node"]}};var e={};Object.assign(t,this.__proto__.VPBasicAction.vpAction);Object.assign(e,this.__proto__.VPBasicAction.vpActionConfig);return{vpAction:t,vpActionConfig:e}},set:function(t){}}});qc.ParticleSystem.prototype.vpClearParticle=function(t){this.clear()};qc.ParticleSystem.prototype.vpPlayParticle=function(t){this.start()};qc.ParticleSystem.prototype.vpStopParticle=function(t){this.pause()};Object.defineProperties(qc.Tween.prototype,{vpActionConfig:{get:function(){var t=this;return{vpPlayTweenByIndex:{type:"object",properties:{vpTweenIndex:{title:"缓动序号",component:"select",field:{options:[]}}},initData:{vpTweenIndex:""},initFunc:function(){var A=this;A.properties.vpTweenIndex.field.options=[];t.getScripts("qc.Tween").forEach(function(t,e){A.properties.vpTweenIndex.field.options.push({label:e,value:e})})}},vpPlayTweenByIndexGoOn:{type:"object",properties:{vpTweenIndex:{title:"缓动序号",component:"select",field:{options:[]}}},initData:{vpTweenIndex:""},initFunc:function(){var A=this;A.properties.vpTweenIndex.field.options=[];t.getScripts("qc.Tween").forEach(function(t,e){A.properties.vpTweenIndex.field.options.push({label:e,value:e})})}},vpStopTweenByIndex:{type:"object",properties:{vpTweenIndex:{title:"缓动序号",component:"select",field:{options:[]}}},initData:{vpTweenIndex:""},initFunc:function(){var A=this;A.properties.vpTweenIndex.field.options=[];t.getScripts("qc.Tween").forEach(function(t,e){A.properties.vpTweenIndex.field.options.push({label:e,value:e})})}}}}}});qc.Tween.prototype.vpAction={vpPlayTween:{label:"播放正向缓动",method:"vpPlayTween",category:["vp-node"]},vpPlayTweenGoOn:{label:"播放正向缓动(续播)",method:"vpPlayTweenGoOn",category:["vp-node"]},vpPlayReverseTween:{label:"播放反向缓动",method:"vpPlayReverseTween",category:["vp-node"]},vpStopTween:{label:"暂停缓动",method:"vpStopTween",category:["vp-node"]},vpPlayTweenByIndex:{label:"按序号播放缓动",method:"vpPlayTweenByIndex",category:["vp-node"]},vpStopTweenByIndex:{label:"按序号暂停缓动",method:"vpStopTweenByIndex",category:["vp-node"]},vpPlayTweenByIndexGoOn:{label:"按序号播放缓动(续播)",method:"vpPlayTweenByIndexGoOn",category:["vp-node"]}};qc.Tween.prototype.vpPlayTweenByIndex=function(t){this.getScripts("qc.Tween")[t.vpTweenIndex].playForward(true)};qc.Tween.prototype.vpPlayTweenByIndexGoOn=function(t){this.getScripts("qc.Tween")[t.vpTweenIndex].playForward(false)};qc.Tween.prototype.vpStopTweenByIndex=function(t){this.getScripts("qc.Tween")[t.vpTweenIndex].stop()};qc.Tween.prototype.vpPlayTween=function(){var t=this.gameObject.getScripts(qc.Tween);t.forEach(function(t){t.stop();t.resetToBeginning();t.playForward()})};qc.Tween.prototype.vpPlayTweenGoOn=function(){var t=this.gameObject.getScripts(qc.Tween);t.forEach(function(t){t.stop();t.playForward(false)})};qc.Tween.prototype.vpPlayReverseTween=function(){var t=this.gameObject.getScripts(qc.Tween);t.forEach(function(t){t.playReverse()})};qc.Tween.prototype.vpStopTween=function(){var t=this.gameObject.getScripts(qc.Tween);t.forEach(function(t){t.stop()})};Object.defineProperties(qc.Node.prototype,{VPBasicAction:{get:function(){var A=this;return{vpAction:{vpFallow:{label:"跟随鼠标",method:"vpFallow",category:["vp-node"]},vpPosition:{label:"设置位置",method:"vpPosition",category:["vp-node"]},vpScaleX:{label:"设置X轴缩放",method:"vpScaleX",category:["vp-node"]},vpScaleY:{label:"设置Y轴缩放",method:"vpScaleY",category:["vp-node"]},vpScaleXY:{label:"设置XY轴缩放",method:"vpScaleXY",category:["vp-node"]},vpRotate:{label:"设置旋转",method:"vpRotate",category:["vp-node"]},vpWidth:{label:"设置宽度",method:"vpWidth",category:["vp-node"]},vpHeight:{label:"设置高度",method:"vpHeight",category:["vp-node"]},vpShow:{label:"显示",method:"vpShow",category:["vp-node"]},vpHide:{label:"隐藏",method:"vpHide",category:["vp-node"]},vpAlpha:{label:"设置透明度",method:"vpAlpha",category:["vp-node"]},vpColor:{label:"设置颜色",method:"vpColor",category:["vp-node"]},vpClone:{label:"克隆",method:"vpClone",category:["vp-node"]},vpRemoveFromScen:{label:"从场景中移除",method:"vpRemoveFromScen",category:["vp-node"]},vpSendAction:{label:"设置埋点",method:"vpSendAction",category:["vp-sdk"]},vpRetry:{label:"重玩游戏",method:"vpRetry",category:["vp-sdk"]},vpInstall:{label:"跳转商店",method:"vpInstall",category:["vp-sdk"]},vpGotoEndingScreen:{label:"进入结束界面",method:"vpGotoEndingScreen",category:["vp-sdk"]},vpGameEndAndInstall:{label:"上报试玩结束并跳转商店",method:"vpGameEndAndInstall",category:["vp-sdk"]},vpGameEnd:{label:"上报试玩结束",method:"vpGameEnd",category:["vp-sdk"]},vpChangeBgm:{label:"切换背景音乐",method:"vpChangeBgm",category:["vp-sound"]},vpPlaySound:{label:"播放音效",method:"vpPlaySound",category:["vp-sound"]},vpStopSound:{label:"暂停音效",method:"vpStopSound",category:["vp-sound"]},vpStopBgm:{label:"暂停背景音乐",method:"vpStopBgm",category:["vp-sound"]},vpPlayVideo:{label:"播放当前视频",method:"vpPlayVideo",category:["vp-video"]},vpPauseVideo:{label:"暂停当前视频",method:"vpPauseVideo",category:["vp-video"]},vpPlayTimeline:{label:"时间轴播放动画",method:"vpPlayTimeline",param:["actionManagerName"],category:["vp-timeline"]},vpStopTimeline:{label:"时间轴暂停动画",method:"vpStopTimeline",param:["actionManagerName"],category:["vp-timeline"]},vpSwitchScene:{label:"跳转场景",method:"vpSwitchScene",category:["vp-scene"]},vpWaitTime:{label:"延迟(毫秒)",method:"vpWaitTime",category:["vp-system"]},vpSetCamera:{label:"控制摄像头",method:"vpSetCamera",category:["vp-node"]}},vpActionConfig:{vpShow:null,vpHide:null,vpGotoEndingScreen:{type:"object",properties:{auto:{title:"进入结束界面时自动跳转",component:"switch"},open:{title:"进入结束界面时是否开启全局可点",component:"switch"}},initData:{auto:true,open:true},initFunc:function(){}},vpPosition:{type:"object",properties:{px:{title:"x坐标",component:"input",field:{type:"number"}},py:{title:"y坐标",component:"input",field:{type:"number"}},auto:{title:"设置成当前鼠标位置",component:"switch"}},initData:{px:0,py:0,auto:false},initFunc:function(){var e=this;try{e.initData.px=A.anchoredX;e.initData.py=A.anchoredY}catch(t){e.initData.px=0;e.initData.py=0}}},vpScaleX:{type:"object",properties:{sx:{title:"x轴缩放",component:"input",field:{type:"number"}}},initData:{sx:0},initFunc:function(){var e=this;try{e.initData.sx=A.scaleX}catch(t){e.initData.sx=1}}},vpColor:{type:"object",properties:{color:{title:"设置颜色",component:"color-picker"}},initData:{color:"#FFFFFF"},initFunc:function(){}},vpRemoveFromScen:{type:"object",properties:{isAllMove:{title:"是否需要移动",component:"switch"},isAni:{title:"是否需要动画",component:"switch"},aniTime:{title:"动画时间毫秒",component:"input",field:{type:"number"}}},initData:{isAllMove:false,isAni:true,aniTime:1e3},initFunc:function(){}},vpClone:{type:"object",properties:{isAddParent:{title:"是否添加到父类",component:"switch"},isAni:{title:"是否需要动画",component:"switch"},aniTime:{title:"动画时间毫秒",component:"input",field:{type:"number"}},direction:{title:"添加方向",component:"select",field:{options:[{label:"向上添加",value:0},{label:"向下添加",value:1},{label:"向左添加",value:2},{label:"向右添加",value:3}]}},fix:{title:"偏移值",component:"input",field:{type:"number"}}},initData:{fix:0,isAddParent:true,direction:null,isAni:true,aniTime:1e3},initFunc:function(){}},vpScaleY:{type:"object",properties:{sy:{title:"y轴缩放",component:"input",field:{type:"number"}}},initData:{sy:0},initFunc:function(){var e=this;try{e.initData.sy=A.scaleY}catch(t){e.initData.sy=1}}},vpScaleXY:{type:"object",properties:{sx:{title:"x轴缩放",component:"input",field:{type:"number"}},sy:{title:"y轴缩放",component:"input",field:{type:"number"}}},initData:{sx:0,sy:0},initFunc:function(){var e=this;try{e.initData.sx=A.scaleX;e.initData.sy=A.scaleY}catch(t){e.initData.sx=1;e.initData.sy=1}}},vpRotate:{type:"object",properties:{rotation:{title:"旋转角度",component:"input",field:{type:"number"}}},initData:{rotation:0},initFunc:function(){var e=this;try{e.initData.rotation=Math.round(ps.Mathf.radianToAngle(A.rotation))}catch(t){e.initData.rotation=Math.round(ps.Mathf.radianToAngle(0))}}},vpWidth:{type:"object",properties:{width:{title:"设置宽度",component:"input",field:{type:"number"}}},initData:{width:0},initFunc:function(){var t=this;t.initData.width=A.width}},vpHeight:{type:"object",properties:{height:{title:"设置高度",component:"input",field:{type:"number"}}},initData:{height:0},initFunc:function(){var t=this;t.initData.height=A.height}},vpAlpha:{type:"object",properties:{alpha:{title:"设置透明度",component:"input",field:{type:"number"}}},initData:{alpha:0},initFunc:function(){var e=this;try{e.initData.alpha=A.alpha}catch(t){e.initData.alpha=1}}},vpSendAction:{type:"object",properties:{action_id:{title:"设置埋点id",component:"input",field:{type:"number"}}},initData:{action_id:0},initFunc:function(){var t=this}},vpChangeBgm:{type:"object",properties:{url:{title:"背景音乐名称",component:"input",field:{type:"string"}}},initData:{url:"bm_bgm"},initFunc:function(){var t=this}},vpPlayVideo:{type:"object",properties:{loop:{title:"是否循环",component:"switch"}},initData:{loop:false}},vpPlaySound:{type:"object",properties:{url:{title:"音效名称",component:"select",field:{options:[]}},isStop:{title:"是否暂停当前音效",component:"switch"},loop:{title:"是否循环",component:"switch"}},initData:{url:"",isStop:false,loop:false},initFunc:function(){var t=this;t.properties.url.field.options=[];for(var e in qc_game.assets._uuid2UrlConf){var A=qc_game.assets._uuid2UrlConf[e];if(/^resource\/game\/audio\//.test(A)){var i=A.match(/^resource\/game\/audio\/(.*)$/)[1];i=i.replace(/\.bin$/,"");t.properties.url.field.options.push({label:i,value:i.replace(/\.mp3$/,"")})}}}},vpStopSound:{type:"object",properties:{url:{title:"音效名称",component:"select",field:{options:[]}},isStop:{title:"是否暂停当前所有音效",component:"switch"}},initData:{url:"",isStop:false},initFunc:function(){var t=this;t.properties.url.field.options=[];for(var e in qc_game.assets._uuid2UrlConf){var A=qc_game.assets._uuid2UrlConf[e];if(/^resource\/game\/audio\//.test(A)){var i=A.match(/^resource\/game\/audio\/(.*)$/)[1];i=i.replace(/\.bin$/,"");t.properties.url.field.options.push({label:i,value:i.replace(/\.mp3$/,"")})}}}},vpPlayTimeline:{type:"object",properties:{actionManagerName:{title:"动作名称",component:"select",field:{options:[]}}},initData:{actionManagerName:""}},vpStopTimeline:{type:"object",properties:{actionManagerName:{title:"动作名称",component:"select",field:{options:[]}}},initData:{actionManagerName:""}},vpSwitchScene:{type:"object",properties:{jumpSceneId:{title:"跳转的场景",component:"select",field:{options:[]}}},initData:{jumpSceneId:""},initFunc:function(){var e=this;e.properties.jumpSceneId.field.options=[];qc_game.world.children[0].children[0].children.forEach(function(t){e.properties.jumpSceneId.field.options.push({label:t.uniqueName,value:t.uuid})})}},vpWaitTime:{type:"object",properties:{ms:{title:"延迟毫秒数",component:"input",field:{type:"number"}}},initData:{ms:""}},vpSetCamera:{type:"object",properties:{scale:{title:"缩放系数",component:"input",field:{type:"number"}},targetNode:{title:"目标节点",component:"node"},aniTime:{title:"动画时间毫秒",component:"input",field:{type:"number"}}},initData:{scale:1,aniTime:1e3,targetX:0,targetY:0,targetNode:null}}}}},set:function(t){}}});qc.Node.prototype.vpShow=function(){this.visible=true};qc.Node.prototype.vpHide=function(){this.visible=false};qc.Node.prototype.vpHeight=function(t){this.height=t.height};qc.Node.prototype.vpColor=function(t){this.colorTint=new qc.Color(t.color)};qc.Node.prototype.vpRemoveFromScen=function(e){var t=this.getScript("ps.Layout");if(t){this.removeScript(t);t.enable=false}var A=this;if(e.isAni){var i=ps.Tween.to(this,{height:0},e.aniTime);i.onComplete.addOnce(function(){A.removeSelf()})}else{this.removeSelf()}if(e.isAllMove){this.parent.children.forEach(function(t){if(t.anchoredY<A.anchoredY){ps.Tween.to(t,{anchoredY:t.anchoredY+A.height},e.aniTime)}})}};qc.Node.prototype.vpClone=function(t){var e;var A=0;if(t.isAddParent){e=qc_game.add.clone(this,this.parent);A=this.parent.children.length-2}else{e=qc_game.add.clone(this,this);A=this.children.length-2}var i=e.getScript("ps.Layout");if(i){e.removeScript(i);i.enable=false}var o=this.anchoredY-this.height*A;var r=this.anchoredX;if(t.direction==1){o=this.anchoredY+this.height*A;if(t.isAni){e.height=0;ps.Tween.to(e,{height:this.height},t.aniTime);ps.Tween.to(this.parent,{anchoredY:this.parent.anchoredY-this.height},t.aniTime)}}else if(t.direction==2){o=this.anchoredY;r=this.anchoredX-this.width*A}else if(t.direction==3){o=this.anchoredY;r=this.anchoredX+this.width*A}e.anchoredX=r;e.anchoredY=o;t.cloneTime+=1};qc.Node.prototype.vpChangeBgm=function(t){changeBgMusic("resource/game/audio/"+t.url+".mp3")};qc.Node.prototype.vpStopBgm=function(t){window.stopBgSound&&window.stopBgSound()};qc.Node.prototype.vpPlaySound=function(t){var e="resource/game/audio/"+t.url+".mp3";if(t.isStop){stopSoundEff(e)}var A=t.loop?0:1;playSoundEff(e,A)};qc.Node.prototype.vpStopSound=function(t){if(t.isStop){var e=window.mvSoundMgr;for(var A=0;A<e.soundArray.length;A++){var i=e.soundArray[A].sound;if(window["bg_mp3"].sound!=i){i.stop()}}}else{stopSoundEff("resource/game/audio/"+t.url+".mp3")}};qc.Node.prototype.vpRetry=function(t){ps.playerRetry=true;ps.retry()};qc.Node.prototype.vpInstall=function(t){ps.install()};qc.Node.prototype.vpGotoEndingScreen=function(t){if(UIRoot.getChild("gamePlay")&&UIRoot.getChild("gamePlay").getScript(ps.VideoBeh)){UIRoot.getChild("gamePlay").getScript(ps.VideoBeh).startTurn(t.auto,t.open)}};qc.Node.prototype.vpGameEnd=function(t){window.gameEnd&&window.gameEnd()};qc.Node.prototype.vpGameEndAndInstall=function(t){window.gameEnd&&window.gameEnd();ps.install()};qc.Node.prototype.vpSendAction=function(t){ps.sendAction(t.action_id)};qc.Node.prototype.vpWidth=function(t){this.width=t.width};qc.Node.prototype.vpAlpha=function(t){this.alpha=t.alpha};qc.Node.prototype.vpRotate=function(t){this.rotation=ps.Mathf.angleToRadian(t.rotation)};qc.Node.prototype.vpScaleXY=function(t){this.scaleX=t.sx;this.scaleY=t.sy};qc.Node.prototype.vpScaleX=function(t){this.scaleX=t.sx};qc.Node.prototype.vpScaleY=function(t){this.scaleY=t.sy};qc.Node.prototype.vpFallow=function(t){qc_game.timer.loop(1,function(){var t;if(qc_game.input.touch._touches[0]){t=this.parent.toLocal(qc_game.input.touch._touches[0])}else{t=this.parent.toLocal(qc_game.input.mouse._mouses[0])}this.x=t.x;this.y=t.y},this)};qc.Node.prototype.vpPosition=function(t){if(t.auto){var e;if(qc_game.input.touch._touches[0]){e=this.parent.toLocal(qc_game.input.touch._touches[0])}else{e=this.parent.toLocal(qc_game.input.mouse._mouses[0])}this.x=e.x;this.y=e.y}else{var A=this.getScript("ps.Layout");if(A){A.awake();A.layoutData.ldef.x=t.px;A.layoutData.ldef.y=t.py;A.layoutData.pdef.x=t.px;A.layoutData.pdef.y=t.py;A.refresh()}else{this.anchoredX=t.px;this.anchoredY=t.py}}};qc.Node.prototype.vpPauseVideo=function(t){var e=UIRoot.getChild("gamePlay").getScript("ps.VideoBeh");if(e){e.player.pause()}};qc.Node.prototype.vpPlayVideo=function(t){var e=UIRoot.getChild("gamePlay").getScript("ps.VideoBeh");if(e){e.player.options.onEnded=function(){console.log("video onEnded:",e.current_scene_id);e.eventDisp.dispatch(VideoEvent.PLAY_COMPLETE,e.current_scene_id);gameEvent.dispatch(VideoEvent.PLAY_COMPLETE,e.current_scene_id);if(t.loop){e.player.stop();e.player.play()}};e.player.loop=t.loop;e.player.play()}};qc.Node.prototype.vpPlayTimeline=function(t){var e=UIRoot.getChild("gamePlay");if(e&&e.Animator&&e.Animator.play){e.Animator.play(t.actionManagerName)}};qc.Node.prototype.vpStopTimeline=function(t){var e=UIRoot.getChild("gamePlay");if(e&&e.Animator&&e.Animator.stop){e.Animator.stop(t.actionManagerName)}};qc.Node.prototype.vpSwitchScene=function(t){ps.mainState.dispatch(ps.GameState.SCENECHANGE,t.jumpSceneId)};qc.Node.prototype.vpSetCamera=function(t){var e=0;var A=0;if(typeof t.targetNode==="string"){t.targetNode=qc_game.nodePool.find(t.targetNode)}if(t.targetNode){e=(this.anchoredY-t.targetNode.anchoredX)*t.scale;A=(this.anchoredY-t.targetNode.anchoredY)*t.scale}else{e=(this.anchoredX-t.targetX)*t.scale;A=(this.anchoredY-t.targetY)*t.scale}ps.Tween.to(this,{anchoredX:e,anchoredY:A,scaleX:t.scale,scaleY:t.scale},t.aniTime)};qc.Node.prototype.vpWaitTime=function(e){return new Promise(function(t){qc_game.timer.add(e.ms,function(){t()})})};qc.Node.prototype.vpTweenAlpha=function(t){this.getScripts("qc.TweenAlpha")[t.vpTweenAlphaIndex].playForward(true)};qc.Node.prototype.vpTweenRotation=function(t){this.getScripts("qc.TweenRotation")[t.vpTweenRotationIndex].playForward(true)};qc.Node.prototype.vpTweenScale=function(t){this.getScripts("qc.TweenScale")[t.vpTweenScaleIndex].playForward(true)};!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(0,function(){"use strict";function t(e){var A=this.constructor;return this.then(function(t){return A.resolve(e()).then(function(){return t})},function(t){return A.resolve(e()).then(function(){return A.reject(t)})})}function e(A){return new this(function(i,t){function o(e,t){if(t&&("object"==typeof t||"function"==typeof t)){var A=t.then;if("function"==typeof A)return void A.call(t,function(t){o(e,t)},function(t){r[e]={status:"rejected",reason:t},0==--n&&i(r)})}r[e]={status:"fulfilled",value:t},0==--n&&i(r)}if(!A||"undefined"==typeof A.length)return t(new TypeError(typeof A+" "+A+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(A);if(0===r.length)return i([]);for(var n=r.length,e=0;r.length>e;e++)o(e,r[e])})}function s(t){return!(!t||"undefined"==typeof t.length)}function i(){}function r(t){if(!(this instanceof r))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],h(t,this)}function o(A,i){for(;3===A._state;)A=A._value;0!==A._state?(A._handled=!0,r._immediateFn(function(){var t=1===A._state?i.onFulfilled:i.onRejected;if(null!==t){var e;try{e=t(A._value)}catch(t){return void a(i.promise,t)}n(i.promise,e)}else(1===A._state?n:a)(i.promise,A._value)})):A._deferreds.push(i)}function n(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var A=t.then;if(t instanceof r)return e._state=3,e._value=t,void c(e);if("function"==typeof A)return void h(function(t,e){return function(){t.apply(e,arguments)}}(A,t),e)}e._state=1,e._value=t,c(e)}catch(t){a(e,t)}}function a(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&r._immediateFn(function(){t._handled||r._unhandledRejectionFn(t._value)});for(var e=0,A=t._deferreds.length;A>e;e++)o(t,t._deferreds[e]);t._deferreds=null}function h(t,e){var A=!1;try{t(function(t){A||(A=!0,n(e,t))},function(t){A||(A=!0,a(e,t))})}catch(t){if(A)return;A=!0,a(e,t)}}var A=setTimeout;r.prototype["catch"]=function(t){return this.then(null,t)},r.prototype.then=function(t,e){var A=new this.constructor(i);return o(this,new function(t,e,A){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=A}(t,e,A)),A},r.prototype["finally"]=t,r.all=function(e){return new r(function(i,o){function r(e,t){try{if(t&&("object"==typeof t||"function"==typeof t)){var A=t.then;if("function"==typeof A)return void A.call(t,function(t){r(e,t)},o)}n[e]=t,0==--a&&i(n)}catch(t){o(t)}}if(!s(e))return o(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(e);if(0===n.length)return i([]);for(var a=n.length,t=0;n.length>t;t++)r(t,n[t])})},r.allSettled=e,r.resolve=function(e){return e&&"object"==typeof e&&e.constructor===r?e:new r(function(t){t(e)})},r.reject=function(A){return new r(function(t,e){e(A)})},r.race=function(o){return new r(function(t,e){if(!s(o))return e(new TypeError("Promise.race accepts an array"));for(var A=0,i=o.length;i>A;A++)r.resolve(o[A]).then(t,e)})},r._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){A(t,0)},r._unhandledRejectionFn=function(t){void 0!==console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var l=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw Error("unable to locate global object")}();"function"!=typeof l.Promise?l.Promise=r:l.Promise.prototype["finally"]?l.Promise.allSettled||(l.Promise.allSettled=e):l.Promise.prototype["finally"]=t});var runtime=function(n){"use strict";var t=Object.prototype;var h=t.hasOwnProperty;var s;var e=typeof Symbol==="function"?Symbol:{};var o=e.iterator||"@@iterator";var A=e.asyncIterator||"@@asyncIterator";var i=e.toStringTag||"@@toStringTag";function r(t,e,A){Object.defineProperty(t,e,{value:A,enumerable:true,configurable:true,writable:true});return t[e]}try{r({},"")}catch(t){r=function(t,e,A){return t[e]=A}}function a(t,e,A,i){var o=e&&e.prototype instanceof c?e:c;var r=Object.create(o.prototype);var n=new D(i||[]);r._invoke=w(t,A,n);return r}n.wrap=a;function l(t,e,A){try{return{type:"normal",arg:t.call(e,A)}}catch(t){return{type:"throw",arg:t}}}var u="suspendedStart";var p="suspendedYield";var d="executing";var g="completed";var f={};function c(){}function y(){}function I(){}var E={};E[o]=function(){return this};var B=Object.getPrototypeOf;var m=B&&B(B(_([])));if(m&&m!==t&&h.call(m,o)){E=m}var v=I.prototype=c.prototype=Object.create(E);y.prototype=v.constructor=I;I.constructor=y;y.displayName=r(I,i,"GeneratorFunction");function C(t){["next","throw","return"].forEach(function(e){r(t,e,function(t){return this._invoke(e,t)})})}n.isGeneratorFunction=function(t){var e=typeof t==="function"&&t.constructor;return e?e===y||(e.displayName||e.name)==="GeneratorFunction":false};n.mark=function(t){if(Object.setPrototypeOf){Object.setPrototypeOf(t,I)}else{t.__proto__=I;r(t,i,"GeneratorFunction")}t.prototype=Object.create(v);return t};n.awrap=function(t){return{__await:t}};function Q(a,s){function c(t,e,A,i){var o=l(a[t],a,e);if(o.type==="throw"){i(o.arg)}else{var r=o.arg;var n=r.value;if(n&&typeof n==="object"&&h.call(n,"__await")){return s.resolve(n.__await).then(function(t){c("next",t,A,i)},function(t){c("throw",t,A,i)})}return s.resolve(n).then(function(t){r.value=t;A(r)},function(t){return c("throw",t,A,i)})}}var e;function t(A,i){function t(){return new s(function(t,e){c(A,i,t,e)})}return e=e?e.then(t,t):t()}this._invoke=t}C(Q.prototype);Q.prototype[A]=function(){return this};n.AsyncIterator=Q;n.async=function(t,e,A,i,o){if(o===void 0)o=Promise;var r=new Q(a(t,e,A,i),o);return n.isGeneratorFunction(e)?r:r.next().then(function(t){return t.done?t.value:r.next()})};function w(n,a,s){var c=u;return function t(e,A){if(c===d){throw new Error("Generator is already running")}if(c===g){if(e==="throw"){throw A}return T()}s.method=e;s.arg=A;while(true){var i=s.delegate;if(i){var o=b(i,s);if(o){if(o===f)continue;return o}}if(s.method==="next"){s.sent=s._sent=s.arg}else if(s.method==="throw"){if(c===u){c=g;throw s.arg}s.dispatchException(s.arg)}else if(s.method==="return"){s.abrupt("return",s.arg)}c=d;var r=l(n,a,s);if(r.type==="normal"){c=s.done?g:p;if(r.arg===f){continue}return{value:r.arg,done:s.done}}else if(r.type==="throw"){c=g;s.method="throw";s.arg=r.arg}}}}function b(t,e){var A=t.iterator[e.method];if(A===s){e.delegate=null;if(e.method==="throw"){if(t.iterator["return"]){e.method="return";e.arg=s;b(t,e);if(e.method==="throw"){return f}}e.method="throw";e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var i=l(A,t.iterator,e.arg);if(i.type==="throw"){e.method="throw";e.arg=i.arg;e.delegate=null;return f}var o=i.arg;if(!o){e.method="throw";e.arg=new TypeError("iterator result is not an object");e.delegate=null;return f}if(o.done){e[t.resultName]=o.value;e.next=t.nextLoc;if(e.method!=="return"){e.method="next";e.arg=s}}else{return o}e.delegate=null;return f}C(v);r(v,i,"Generator");v[o]=function(){return this};v.toString=function(){return"[object Generator]"};function S(t){var e={tryLoc:t[0]};if(1 in t){e.catchLoc=t[1]}if(2 in t){e.finallyLoc=t[2];e.afterLoc=t[3]}this.tryEntries.push(e)}function q(t){var e=t.completion||{};e.type="normal";delete e.arg;t.completion=e}function D(t){this.tryEntries=[{tryLoc:"root"}];t.forEach(S,this);this.reset(true)}n.keys=function(A){var i=[];for(var t in A){i.push(t)}i.reverse();return function t(){while(i.length){var e=i.pop();if(e in A){t.value=e;t.done=false;return t}}t.done=true;return t}};function _(e){if(e){var t=e[o];if(t){return t.call(e)}if(typeof e.next==="function"){return e}if(!isNaN(e.length)){var A=-1,i=function t(){while(++A<e.length){if(h.call(e,A)){t.value=e[A];t.done=false;return t}}t.value=s;t.done=true;return t};return i.next=i}}return{next:T}}n.values=_;function T(){return{value:s,done:true}}D.prototype={constructor:D,reset:function(t){this.prev=0;this.next=0;this.sent=this._sent=s;this.done=false;this.delegate=null;this.method="next";this.arg=s;this.tryEntries.forEach(q);if(!t){for(var e in this){if(e.charAt(0)==="t"&&h.call(this,e)&&!isNaN(+e.slice(1))){this[e]=s}}}},stop:function(){this.done=true;var t=this.tryEntries[0];var e=t.completion;if(e.type==="throw"){throw e.arg}return this.rval},dispatchException:function(A){if(this.done){throw A}var i=this;function t(t,e){r.type="throw";r.arg=A;i.next=t;if(e){i.method="next";i.arg=s}return!!e}for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];var r=o.completion;if(o.tryLoc==="root"){return t("end")}if(o.tryLoc<=this.prev){var n=h.call(o,"catchLoc");var a=h.call(o,"finallyLoc");if(n&&a){if(this.prev<o.catchLoc){return t(o.catchLoc,true)}else if(this.prev<o.finallyLoc){return t(o.finallyLoc)}}else if(n){if(this.prev<o.catchLoc){return t(o.catchLoc,true)}}else if(a){if(this.prev<o.finallyLoc){return t(o.finallyLoc)}}else{throw new Error("try statement without catch or finally")}}}},abrupt:function(t,e){for(var A=this.tryEntries.length-1;A>=0;--A){var i=this.tryEntries[A];if(i.tryLoc<=this.prev&&h.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}if(o&&(t==="break"||t==="continue")&&o.tryLoc<=e&&e<=o.finallyLoc){o=null}var r=o?o.completion:{};r.type=t;r.arg=e;if(o){this.method="next";this.next=o.finallyLoc;return f}return this.complete(r)},complete:function(t,e){if(t.type==="throw"){throw t.arg}if(t.type==="break"||t.type==="continue"){this.next=t.arg}else if(t.type==="return"){this.rval=this.arg=t.arg;this.method="return";this.next="end"}else if(t.type==="normal"&&e){this.next=e}return f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var A=this.tryEntries[e];if(A.finallyLoc===t){this.complete(A.completion,A.afterLoc);q(A);return f}}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var A=this.tryEntries[e];if(A.tryLoc===t){var i=A.completion;if(i.type==="throw"){var o=i.arg;q(A)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,A){this.delegate={iterator:_(t),resultName:e,nextLoc:A};if(this.method==="next"){this.arg=s}return f}};return n}(typeof module==="object"?module.exports:{});try{regeneratorRuntime=runtime}catch(t){Function("r","regeneratorRuntime = r")(runtime)}"use strict";function asyncGeneratorStep(t,e,A,i,o,r,n){try{var a=t[r](n);var s=a.value}catch(t){A(t);return}if(a.done){e(s)}else{Promise.resolve(s).then(i,o)}}function _asyncToGenerator(a){return function(){var t=this,n=arguments;return new Promise(function(e,A){var i=a.apply(t,n);function o(t){asyncGeneratorStep(i,e,A,o,r,"next",t)}function r(t){asyncGeneratorStep(i,e,A,o,r,"throw",t)}o(undefined)})}}var __extends=void 0&&(void 0).__extends||function(){var i=function t(e,A){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e){if(e.hasOwnProperty(A))t[A]=e[A]}};return i(e,A)};return function(t,e){i(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}}();var ps;(function(r){var t=function(e){__extends(t,e);function t(t){var o=e.call(this,t)||this;o.deviceRotate=r.ScrFix.isP?"p":"l";o.vpActionConfig={compute:{type:"object",properties:{target:{title:"操作变量",component:"select",field:{options:[]}},method:{title:"运算方法",component:"select",field:{options:[{label:"+",value:"+"},{label:"-",value:"-"},{label:"*",value:"*"},{label:"/",value:"/"},{label:"=",value:"="}]}},value:{title:"运算值",component:"input",field:{}}},initData:{target:"",method:"",value:""},initFunc:function t(){var e=this;this.properties.target.field.options=[];Object.keys(o.serializableFields).forEach(function(t){e.properties.target.field.options.push({value:t,label:t})});r.GameConfig.init();Object.keys(r.GameConfig.config).forEach(function(t){e.properties.target.field.options.push({value:"GAME_CFG."+t,label:"动态参数："+r.GameConfig.config[t].title})});var A=qc_game.world.children[0].children[0];var i=A.VPGamePlay;if(i){Object.keys(i.serializableFields).forEach(function(t){e.properties.target.field.options.push({value:{targetNode:A.uuid,targetNodeScript:"ps.VPGamePlay",data:t},label:"全局变量：".concat(t)})})}}}};o.vpAction={compute:{label:"变量运算",method:"compute",param:["target","method","value"],category:["vp-param","vp-node","vp-global"]}};o.serializableFields={};return o}t.prototype.compute=function(t){var e;var A=t.target;if(typeof A==="string"&&A.match(/^GAME_CFG/)){e=GAME_CFG;t.target=A.split(".").pop()}else if(typeof A.targetNode==="undefined"){e=this}else if(A.targetNode&&A.targetNodeScript&&A.data){e=qc_game.nodePool.find(A.targetNode).getScript(A.targetNodeScript);t.target=A.data}var i=t.valueNode?this.gameObject.find(t.valueNode)[t.value]:t.value;if(typeof e[t.target]==="number"){i=Number(i)}switch(t.method){case"+":setTimeout(function(){e[t.target]=e[t.target]+i},0);break;case"-":setTimeout(function(){e[t.target]=e[t.target]-i},0);break;case"*":setTimeout(function(){e[t.target]=e[t.target]*i},0);break;case"/":setTimeout(function(){e[t.target]=e[t.target]/i},0);break;case"=":setTimeout(function(){e[t.target]=i},0);default:break}};t.prototype.awake=function(){var t=this};t.prototype.update=_asyncToGenerator(regeneratorRuntime.mark(function t(){var A;return regeneratorRuntime.wrap(function t(e){while(1){switch(e.prev=e.next){case 0:A=this;case 1:case"end":return e.stop()}}},t,this)}));t.prototype.onResize=function(){var t=this;if(r.ScrFix.isP&&this.deviceRotate==="l"){this.deviceRotate="p";r.mainState.dispatch("DEVICE_ROTATE_P")}else if(r.ScrFix.isL&&this.deviceRotate==="p"){this.deviceRotate="l";r.mainState.dispatch("DEVICE_ROTATE_L")}};return t}(r.Behaviour);r.VPComponent_b346baee=t;qc.registerBehaviour("ps.VPComponent_b346baee",t)})(ps||(ps={}));